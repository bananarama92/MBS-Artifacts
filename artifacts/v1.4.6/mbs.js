/*!
 * MBS: Maid's Bondage Scripts
 *
 * Copyright (C) 2023-2024 Bananarama92
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of
 * the GNU General Public License as published by the Free Software Foundation,
 * either version 3 of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with this program.
 * If not, see https://www.gnu.org/licenses/.
 */
var mbs=function(e){"use strict";const t="1.4.6";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i={},o={};Object.defineProperty(o,"__esModule",{value:!0});o.setAttributes=void 0;function a(e,t){for(const n of Object.keys(e))n in t&&(t[n]=e[n])}o.setAttributes=function(e,t){for(const n of Object.keys(t)){if("__source"===n||"__self"===n)continue;const r=t[n];if(n.startsWith("on")){const t=n.replace(/Capture$/,""),i=n!==t,o=t.toLowerCase().substring(2);e.addEventListener(o,r,i)}else"style"===n&&"string"!=typeof r?a(r,e.style):"dangerouslySetInnerHTML"===n?e.innerHTML=r:!0===r?e.setAttribute(n,n):(r||0===r)&&e.setAttribute(n,r.toString())}};var s={};Object.defineProperty(s,"__esModule",{value:!0});s.createDomElement=s.applyChildren=void 0;function l(e,t){t instanceof Element?e.appendChild(t):"string"==typeof t||"number"==typeof t?e.appendChild(document.createTextNode(t.toString())):console.warn("Unknown type to append: ",t)}s.applyChildren=function e(t,n){for(const r of n)(r||0===r)&&(Array.isArray(r)?e(t,r):l(t,r))};s.createDomElement=function(e,t){const n=(null==t?void 0:t.is)?{is:t.is}:void 0;return(null==t?void 0:t.xmlns)?document.createElementNS(t.xmlns,e,n):document.createElement(e,n)},Object.defineProperty(i,"__esModule",{value:!0});i.jsxDEV=p=i.jsxs=h=i.jsx=void 0;const u=o,c=s;function d(e,t){if("function"==typeof e)return e(t);const{children:n,...r}=t,i=(0,c.createDomElement)(e,r);return r&&(0,u.setAttributes)(i,r),(0,c.applyChildren)(i,[n]),i}var h=i.jsx=d,p=i.jsxs=d;i.jsxDEV=d;var f={},m={};Object.defineProperty(m,"__esModule",{value:!0});m.h=m.createElement=void 0;const g=o,R=s;function v(e,t,...n){if("function"==typeof e)return e({...t,children:n});const r=(0,R.createDomElement)(e,t);return t&&(0,g.setAttributes)(r,t),(0,R.applyChildren)(r,n),r}m.createElement=v;m.h=v;var y={};Object.defineProperty(y,"__esModule",{value:!0}),function(e){var t=n&&n.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=n&&n.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),r(m,e),r(i,e),r(y,e)}(f);Object.create;Object.create;function b(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function S(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError;var w="object"==typeof global&&global&&global.Object===Object&&global,C="object"==typeof self&&self&&self.Object===Object&&self,k=w||C||Function("return this")(),B=k.Symbol,P=Object.prototype,x=P.hasOwnProperty,M=P.toString,E=B?B.toStringTag:void 0;var I=Object.prototype.toString;var _="[object Null]",$="[object Undefined]",O=B?B.toStringTag:void 0;function F(e){return null==e?void 0===e?$:_:O&&O in Object(e)?function(e){var t=x.call(e,E),n=e[E];try{e[E]=void 0;var r=!0}catch(e){}var i=M.call(e);return r&&(t?e[E]=n:delete e[E]),i}(e):function(e){return I.call(e)}(e)}function L(e){return null!=e&&"object"==typeof e}var H="[object Symbol]";function T(e){return"symbol"==typeof e||L(e)&&F(e)==H}var A=NaN;function N(e){return"number"==typeof e?e:T(e)?A:+e}function D(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var j=Array.isArray,W=1/0,G=B?B.prototype:void 0,z=G?G.toString:void 0;function V(e){if("string"==typeof e)return e;if(j(e))return D(e,V)+"";if(T(e))return z?z.call(e):"";var t=e+"";return"0"==t&&1/e==-W?"-0":t}function q(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=V(n),r=V(r)):(n=N(n),r=N(r)),i=e(n,r)}return i}}var U=q((function(e,t){return e+t}),0),K=/\s/;function J(e){for(var t=e.length;t--&&K.test(e.charAt(t)););return t}var Z=/^\s+/;function Y(e){return e?e.slice(0,J(e)+1).replace(Z,""):e}function X(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Q=NaN,ee=/^[-+]0x[0-9a-f]+$/i,te=/^0b[01]+$/i,ne=/^0o[0-7]+$/i,re=parseInt;function ie(e){if("number"==typeof e)return e;if(T(e))return Q;if(X(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=X(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Y(e);var n=te.test(e);return n||ne.test(e)?re(e.slice(2),n?2:8):ee.test(e)?Q:+e}var oe=1/0,ae=17976931348623157e292;function se(e){return e?(e=ie(e))===oe||e===-oe?(e<0?-1:1)*ae:e==e?e:0:0===e?e:0}function le(e){var t=se(e),n=t%1;return t==t?n?t-n:t:0}function ue(e){return e}var ce="[object AsyncFunction]",de="[object Function]",he="[object GeneratorFunction]",pe="[object Proxy]";function fe(e){if(!X(e))return!1;var t=F(e);return t==de||t==he||t==ce||t==pe}var me,ge=k["__core-js_shared__"],Re=(me=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||""))?"Symbol(src)_1."+me:"";var ve=Function.prototype.toString;function ye(e){if(null!=e){try{return ve.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var be=/^\[object .+?Constructor\]$/,Se=Function.prototype,we=Object.prototype,Ce=Se.toString,ke=we.hasOwnProperty,Be=RegExp("^"+Ce.call(ke).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pe(e){return!(!X(e)||function(e){return!!Re&&Re in e}(e))&&(fe(e)?Be:be).test(ye(e))}function xe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Pe(n)?n:void 0}var Me=xe(k,"WeakMap"),Ee=Me&&new Me,Ie=Ee?function(e,t){return Ee.set(e,t),e}:ue,_e=Object.create,$e=function(){function e(){}return function(t){if(!X(t))return{};if(_e)return _e(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Oe(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=$e(e.prototype),r=e.apply(n,t);return X(r)?r:n}}var Fe=1;function Le(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var He=Math.max;function Te(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=He(o-a,0),c=Array(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<a;)(d||i<o)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}var Ae=Math.max;function Ne(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Ae(o-s,0),d=Array(c+u),h=!r;++i<c;)d[i]=e[i];for(var p=i;++l<u;)d[p+l]=t[l];for(;++a<s;)(h||i<o)&&(d[p+n[a]]=e[i++]);return d}function De(){}var je=4294967295;function We(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=je,this.__views__=[]}function Ge(){}We.prototype=$e(De.prototype),We.prototype.constructor=We;var ze=Ee?function(e){return Ee.get(e)}:Ge,Ve={},qe=Object.prototype.hasOwnProperty;function Ue(e){for(var t=e.name+"",n=Ve[t],r=qe.call(Ve,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Ke(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Je(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Ze(e){if(e instanceof We)return e.clone();var t=new Ke(e.__wrapped__,e.__chain__);return t.__actions__=Je(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}Ke.prototype=$e(De.prototype),Ke.prototype.constructor=Ke;var Ye=Object.prototype.hasOwnProperty;function Xe(e){if(L(e)&&!j(e)&&!(e instanceof We)){if(e instanceof Ke)return e;if(Ye.call(e,"__wrapped__"))return Ze(e)}return new Ke(e)}function Qe(e){var t=Ue(e),n=Xe[t];if("function"!=typeof n||!(t in We.prototype))return!1;if(e===n)return!0;var r=ze(n);return!!r&&e===r[0]}Xe.prototype=De.prototype,Xe.prototype.constructor=Xe;var et=Date.now;function tt(e){var t=0,n=0;return function(){var r=et(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var nt=tt(Ie),rt=/\{\n\/\* \[wrapped with (.+)\] \*/,it=/,? & /;var ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function at(e){return function(){return e}}var st=function(){try{var e=xe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=st?function(e,t){return st(e,"toString",{configurable:!0,enumerable:!1,value:at(t),writable:!0})}:ue,ut=tt(lt);function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function dt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function ht(e){return e!=e}function pt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):dt(e,ht,n)}function ft(e,t){return!!(null==e?0:e.length)&&pt(e,t,0)>-1}var mt=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function gt(e,t,n){var r=t+"";return ut(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ot,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return ct(mt,(function(n){var r="_."+n[0];t&n[1]&&!ft(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(rt);return t?t[1].split(it):[]}(r),n)))}var Rt=1,vt=2,yt=4,bt=8,St=32,wt=64;function Ct(e,t,n,r,i,o,a,s,l,u){var c=t&bt;t|=c?St:wt,(t&=~(c?wt:St))&yt||(t&=~(Rt|vt));var d=[e,t,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,l,u],h=n.apply(void 0,d);return Qe(e)&&nt(h,d),h.placeholder=r,gt(h,e,t)}function kt(e){return e.placeholder}var Bt=9007199254740991,Pt=/^(?:0|[1-9]\d*)$/;function xt(e,t){var n=typeof e;return!!(t=null==t?Bt:t)&&("number"==n||"symbol"!=n&&Pt.test(e))&&e>-1&&e%1==0&&e<t}var Mt=Math.min;var Et="__lodash_placeholder__";function It(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Et||(e[n]=Et,o[i++]=n)}return o}var _t=1,$t=2,Ot=8,Ft=16,Lt=128,Ht=512;function Tt(e,t,n,r,i,o,a,s,l,u){var c=t&Lt,d=t&_t,h=t&$t,p=t&(Ot|Ft),f=t&Ht,m=h?void 0:Oe(e);return function g(){for(var R=arguments.length,v=Array(R),y=R;y--;)v[y]=arguments[y];if(p)var b=kt(g),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(v,b);if(r&&(v=Te(v,r,i,p)),o&&(v=Ne(v,o,a,p)),R-=S,p&&R<u){var w=It(v,b);return Ct(e,t,Tt,g.placeholder,n,v,w,s,l,u-R)}var C=d?n:this,B=h?C[e]:e;return R=v.length,s?v=function(e,t){for(var n=e.length,r=Mt(t.length,n),i=Je(e);r--;){var o=t[r];e[r]=xt(o,n)?i[o]:void 0}return e}(v,s):f&&R>1&&v.reverse(),c&&l<R&&(v.length=l),this&&this!==k&&this instanceof g&&(B=m||Oe(B)),B.apply(C,v)}}var At=1;var Nt="__lodash_placeholder__",Dt=1,jt=2,Wt=4,Gt=8,zt=128,Vt=256,qt=Math.min;var Ut="Expected a function",Kt=1,Jt=2,Zt=8,Yt=16,Xt=32,Qt=64,en=Math.max;function tn(e,t,n,r,i,o,a,s){var l=t&Jt;if(!l&&"function"!=typeof e)throw new TypeError(Ut);var u=r?r.length:0;if(u||(t&=~(Xt|Qt),r=i=void 0),a=void 0===a?a:en(le(a),0),s=void 0===s?s:le(s),u-=i?i.length:0,t&Qt){var c=r,d=i;r=i=void 0}var h=l?void 0:ze(e),p=[e,t,n,r,i,c,d,o,a,s];if(h&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(Dt|jt|zt),a=r==zt&&n==Gt||r==zt&&n==Vt&&e[7].length<=t[8]||r==(zt|Vt)&&t[7].length<=t[8]&&n==Gt;if(!o&&!a)return e;r&Dt&&(e[2]=t[2],i|=n&Dt?0:Wt);var s=t[3];if(s){var l=e[3];e[3]=l?Te(l,s,t[4]):s,e[4]=l?It(e[3],Nt):t[4]}(s=t[5])&&(l=e[5],e[5]=l?Ne(l,s,t[6]):s,e[6]=l?It(e[5],Nt):t[6]),(s=t[7])&&(e[7]=s),r&zt&&(e[8]=null==e[8]?t[8]:qt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(p,h),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],!(s=p[9]=void 0===p[9]?l?0:e.length:en(p[9]-u,0))&&t&(Zt|Yt)&&(t&=~(Zt|Yt)),t&&t!=Kt)f=t==Zt||t==Yt?function(e,t,n){var r=Oe(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,l=kt(i);s--;)a[s]=arguments[s];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:It(a,l);return(o-=u.length)<n?Ct(e,t,Tt,i.placeholder,void 0,a,u,void 0,void 0,n-o):Le(this&&this!==k&&this instanceof i?r:e,this,a)}}(e,t,s):t!=Xt&&t!=(Kt|Xt)||i.length?Tt.apply(void 0,p):function(e,t,n,r){var i=t&At,o=Oe(e);return function t(){for(var a=-1,s=arguments.length,l=-1,u=r.length,c=Array(u+s),d=this&&this!==k&&this instanceof t?o:e;++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++a];return Le(d,i?n:this,c)}}(e,t,n,r);else var f=function(e,t,n){var r=t&Fe,i=Oe(e);return function t(){return(this&&this!==k&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return gt((h?Ie:nt)(f,p),e,t)}var nn=128;function rn(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,tn(e,nn,void 0,void 0,void 0,void 0,t)}function on(e,t,n){"__proto__"==t&&st?st(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function an(e,t){return e===t||e!=e&&t!=t}var sn=Object.prototype.hasOwnProperty;function ln(e,t,n){var r=e[t];sn.call(e,t)&&an(r,n)&&(void 0!==n||t in e)||on(e,t,n)}function un(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?on(n,s,l):ln(n,s,l)}return n}var cn=Math.max;function dn(e,t,n){return t=cn(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=cn(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Le(e,this,s)}}function hn(e,t){return ut(dn(e,t,ue),e+"")}var pn=9007199254740991;function fn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=pn}function mn(e){return null!=e&&fn(e.length)&&!fe(e)}function gn(e,t,n){if(!X(n))return!1;var r=typeof t;return!!("number"==r?mn(n)&&xt(t,n.length):"string"==r&&t in n)&&an(n[t],e)}function Rn(e){return hn((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&gn(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}var vn=Object.prototype;function yn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||vn)}function bn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Sn(e){return L(e)&&"[object Arguments]"==F(e)}var wn=Object.prototype,Cn=wn.hasOwnProperty,kn=wn.propertyIsEnumerable,Bn=Sn(function(){return arguments}())?Sn:function(e){return L(e)&&Cn.call(e,"callee")&&!kn.call(e,"callee")};function Pn(){return!1}var xn="object"==typeof e&&e&&!e.nodeType&&e,Mn=xn&&"object"==typeof module&&module&&!module.nodeType&&module,En=Mn&&Mn.exports===xn?k.Buffer:void 0,In=(En?En.isBuffer:void 0)||Pn,_n={};function $n(e){return function(t){return e(t)}}_n["[object Float32Array]"]=_n["[object Float64Array]"]=_n["[object Int8Array]"]=_n["[object Int16Array]"]=_n["[object Int32Array]"]=_n["[object Uint8Array]"]=_n["[object Uint8ClampedArray]"]=_n["[object Uint16Array]"]=_n["[object Uint32Array]"]=!0,_n["[object Arguments]"]=_n["[object Array]"]=_n["[object ArrayBuffer]"]=_n["[object Boolean]"]=_n["[object DataView]"]=_n["[object Date]"]=_n["[object Error]"]=_n["[object Function]"]=_n["[object Map]"]=_n["[object Number]"]=_n["[object Object]"]=_n["[object RegExp]"]=_n["[object Set]"]=_n["[object String]"]=_n["[object WeakMap]"]=!1;var On="object"==typeof e&&e&&!e.nodeType&&e,Fn=On&&"object"==typeof module&&module&&!module.nodeType&&module,Ln=Fn&&Fn.exports===On&&w.process,Hn=function(){try{var e=Fn&&Fn.require&&Fn.require("util").types;return e||Ln&&Ln.binding&&Ln.binding("util")}catch(e){}}(),Tn=Hn&&Hn.isTypedArray,An=Tn?$n(Tn):function(e){return L(e)&&fn(e.length)&&!!_n[F(e)]},Nn=Object.prototype.hasOwnProperty;function Dn(e,t){var n=j(e),r=!n&&Bn(e),i=!n&&!r&&In(e),o=!n&&!r&&!i&&An(e),a=n||r||i||o,s=a?bn(e.length,String):[],l=s.length;for(var u in e)!t&&!Nn.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||xt(u,l))||s.push(u);return s}function jn(e,t){return function(n){return e(t(n))}}var Wn=jn(Object.keys,Object),Gn=Object.prototype.hasOwnProperty;function zn(e){if(!yn(e))return Wn(e);var t=[];for(var n in Object(e))Gn.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Vn(e){return mn(e)?Dn(e):zn(e)}var qn=Object.prototype.hasOwnProperty,Un=Rn((function(e,t){if(yn(t)||mn(t))un(t,Vn(t),e);else for(var n in t)qn.call(t,n)&&ln(e,n,t[n])}));var Kn=Object.prototype.hasOwnProperty;function Jn(e){if(!X(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=yn(e),n=[];for(var r in e)("constructor"!=r||!t&&Kn.call(e,r))&&n.push(r);return n}function Zn(e){return mn(e)?Dn(e,!0):Jn(e)}var Yn=Rn((function(e,t){un(t,Zn(t),e)})),Xn=Rn((function(e,t,n,r){un(t,Zn(t),e,r)})),Qn=Rn((function(e,t,n,r){un(t,Vn(t),e,r)})),er=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tr=/^\w*$/;function nr(e,t){if(j(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!T(e))||(tr.test(e)||!er.test(e)||null!=t&&e in Object(t))}var rr=xe(Object,"create");var ir=Object.prototype.hasOwnProperty;var or=Object.prototype.hasOwnProperty;function ar(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function sr(e,t){for(var n=e.length;n--;)if(an(e[n][0],t))return n;return-1}ar.prototype.clear=function(){this.__data__=rr?rr(null):{},this.size=0},ar.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ar.prototype.get=function(e){var t=this.__data__;if(rr){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ir.call(t,e)?t[e]:void 0},ar.prototype.has=function(e){var t=this.__data__;return rr?void 0!==t[e]:or.call(t,e)},ar.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rr&&void 0===t?"__lodash_hash_undefined__":t,this};var lr=Array.prototype.splice;function ur(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ur.prototype.clear=function(){this.__data__=[],this.size=0},ur.prototype.delete=function(e){var t=this.__data__,n=sr(t,e);return!(n<0)&&(n==t.length-1?t.pop():lr.call(t,n,1),--this.size,!0)},ur.prototype.get=function(e){var t=this.__data__,n=sr(t,e);return n<0?void 0:t[n][1]},ur.prototype.has=function(e){return sr(this.__data__,e)>-1},ur.prototype.set=function(e,t){var n=this.__data__,r=sr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var cr=xe(k,"Map");function dr(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function hr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hr.prototype.clear=function(){this.size=0,this.__data__={hash:new ar,map:new(cr||ur),string:new ar}},hr.prototype.delete=function(e){var t=dr(this,e).delete(e);return this.size-=t?1:0,t},hr.prototype.get=function(e){return dr(this,e).get(e)},hr.prototype.has=function(e){return dr(this,e).has(e)},hr.prototype.set=function(e,t){var n=dr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var pr="Expected a function";function fr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(pr);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(fr.Cache||hr),n}fr.Cache=hr;var mr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gr=/\\(\\)?/g,Rr=function(e){var t=fr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(mr,(function(e,n,r,i){t.push(r?i.replace(gr,"$1"):n||e)})),t}));function vr(e){return null==e?"":V(e)}function yr(e,t){return j(e)?e:nr(e,t)?[e]:Rr(vr(e))}var br=1/0;function Sr(e){if("string"==typeof e||T(e))return e;var t=e+"";return"0"==t&&1/e==-br?"-0":t}function wr(e,t){for(var n=0,r=(t=yr(t,e)).length;null!=e&&n<r;)e=e[Sr(t[n++])];return n&&n==r?e:void 0}function Cr(e,t,n){var r=null==e?void 0:wr(e,t);return void 0===r?n:r}function kr(e,t){for(var n=-1,r=t.length,i=Array(r),o=null==e;++n<r;)i[n]=o?void 0:Cr(e,t[n]);return i}function Br(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Pr=B?B.isConcatSpreadable:void 0;function xr(e){return j(e)||Bn(e)||!!(Pr&&e&&e[Pr])}function Mr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=xr),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Mr(s,t-1,n,r,i):Br(i,s):r||(i[i.length]=s)}return i}function Er(e){return(null==e?0:e.length)?Mr(e,1):[]}function Ir(e){return ut(dn(e,void 0,Er),e+"")}var _r=Ir(kr),$r=jn(Object.getPrototypeOf,Object),Or="[object Object]",Fr=Function.prototype,Lr=Object.prototype,Hr=Fr.toString,Tr=Lr.hasOwnProperty,Ar=Hr.call(Object);function Nr(e){if(!L(e)||F(e)!=Or)return!1;var t=$r(e);if(null===t)return!0;var n=Tr.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Hr.call(n)==Ar}var Dr="[object DOMException]",jr="[object Error]";function Wr(e){if(!L(e))return!1;var t=F(e);return t==jr||t==Dr||"string"==typeof e.message&&"string"==typeof e.name&&!Nr(e)}var Gr=hn((function(e,t){try{return Le(e,void 0,t)}catch(e){return Wr(e)?e:new Error(e)}})),zr="Expected a function";function Vr(e,t){var n;if("function"!=typeof t)throw new TypeError(zr);return e=le(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var qr=hn((function(e,t,n){var r=1;if(n.length){var i=It(n,kt(qr));r|=32}return tn(e,r,t,n,i)}));qr.placeholder={};var Ur=Ir((function(e,t){return ct(t,(function(t){t=Sr(t),on(e,t,qr(e[t],e))})),e})),Kr=hn((function(e,t,n){var r=3;if(n.length){var i=It(n,kt(Kr));r|=32}return tn(t,r,e,n,i)}));function Jr(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function Zr(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Jr(e,t,n)}Kr.placeholder={};var Yr=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Xr(e){return Yr.test(e)}var Qr="\\ud800-\\udfff",ei="["+Qr+"]",ti="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ni="\\ud83c[\\udffb-\\udfff]",ri="[^"+Qr+"]",ii="(?:\\ud83c[\\udde6-\\uddff]){2}",oi="[\\ud800-\\udbff][\\udc00-\\udfff]",ai="(?:"+ti+"|"+ni+")"+"?",si="[\\ufe0e\\ufe0f]?",li=si+ai+("(?:\\u200d(?:"+[ri,ii,oi].join("|")+")"+si+ai+")*"),ui="(?:"+[ri+ti+"?",ti,ii,oi,ei].join("|")+")",ci=RegExp(ni+"(?="+ni+")|"+ui+li,"g");function di(e){return Xr(e)?function(e){return e.match(ci)||[]}(e):function(e){return e.split("")}(e)}function hi(e){return function(t){var n=Xr(t=vr(t))?di(t):void 0,r=n?n[0]:t.charAt(0),i=n?Zr(n,1).join(""):t.slice(1);return r[e]()+i}}var pi=hi("toUpperCase");function fi(e){return pi(vr(e).toLowerCase())}function mi(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function gi(e){return function(t){return null==e?void 0:e[t]}}var Ri=gi({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),vi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yi=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function bi(e){return(e=vr(e))&&e.replace(vi,Ri).replace(yi,"")}var Si=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var wi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Ci="\\ud800-\\udfff",ki="\\u2700-\\u27bf",Bi="a-z\\xdf-\\xf6\\xf8-\\xff",Pi="A-Z\\xc0-\\xd6\\xd8-\\xde",xi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mi="["+xi+"]",Ei="\\d+",Ii="["+ki+"]",_i="["+Bi+"]",$i="[^"+Ci+xi+Ei+ki+Bi+Pi+"]",Oi="(?:\\ud83c[\\udde6-\\uddff]){2}",Fi="[\\ud800-\\udbff][\\udc00-\\udfff]",Li="["+Pi+"]",Hi="(?:"+_i+"|"+$i+")",Ti="(?:"+Li+"|"+$i+")",Ai="(?:['’](?:d|ll|m|re|s|t|ve))?",Ni="(?:['’](?:D|LL|M|RE|S|T|VE))?",Di="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ji="[\\ufe0e\\ufe0f]?",Wi=ji+Di+("(?:\\u200d(?:"+["[^"+Ci+"]",Oi,Fi].join("|")+")"+ji+Di+")*"),Gi="(?:"+[Ii,Oi,Fi].join("|")+")"+Wi,zi=RegExp([Li+"?"+_i+"+"+Ai+"(?="+[Mi,Li,"$"].join("|")+")",Ti+"+"+Ni+"(?="+[Mi,Li+Hi,"$"].join("|")+")",Li+"?"+Hi+"+"+Ai,Li+"+"+Ni,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ei,Gi].join("|"),"g");function Vi(e,t,n){return e=vr(e),void 0===(t=n?void 0:t)?function(e){return wi.test(e)}(e)?function(e){return e.match(zi)||[]}(e):function(e){return e.match(Si)||[]}(e):e.match(t)||[]}var qi=RegExp("['’]","g");function Ui(e){return function(t){return mi(Vi(bi(t).replace(qi,"")),e,"")}}var Ki=Ui((function(e,t,n){return t=t.toLowerCase(),e+(n?fi(t):t)}));var Ji=k.isFinite,Zi=Math.min;function Yi(e){var t=Math[e];return function(e,n){if(e=ie(e),(n=null==n?0:Zi(le(n),292))&&Ji(e)){var r=(vr(e)+"e").split("e");return+((r=(vr(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Xi=Yi("ceil");function Qi(e){var t=Xe(e);return t.__chain__=!0,t}var eo=Math.ceil,to=Math.max;function no(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function ro(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=ie(n))==n?n:0),void 0!==t&&(t=(t=ie(t))==t?t:0),no(ie(e),t,n)}function io(e){var t=this.__data__=new ur(e);this.size=t.size}function oo(e,t){return e&&un(t,Vn(t),e)}io.prototype.clear=function(){this.__data__=new ur,this.size=0},io.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},io.prototype.get=function(e){return this.__data__.get(e)},io.prototype.has=function(e){return this.__data__.has(e)},io.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ur){var r=n.__data__;if(!cr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new hr(r)}return n.set(e,t),this.size=n.size,this};var ao="object"==typeof e&&e&&!e.nodeType&&e,so=ao&&"object"==typeof module&&module&&!module.nodeType&&module,lo=so&&so.exports===ao?k.Buffer:void 0,uo=lo?lo.allocUnsafe:void 0;function co(e,t){if(t)return e.slice();var n=e.length,r=uo?uo(n):new e.constructor(n);return e.copy(r),r}function ho(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function po(){return[]}var fo=Object.prototype.propertyIsEnumerable,mo=Object.getOwnPropertySymbols,go=mo?function(e){return null==e?[]:(e=Object(e),ho(mo(e),(function(t){return fo.call(e,t)})))}:po;var Ro=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Br(t,go(e)),e=$r(e);return t}:po;function vo(e,t,n){var r=t(e);return j(e)?r:Br(r,n(e))}function yo(e){return vo(e,Vn,go)}function bo(e){return vo(e,Zn,Ro)}var So=xe(k,"DataView"),wo=xe(k,"Promise"),Co=xe(k,"Set"),ko="[object Map]",Bo="[object Promise]",Po="[object Set]",xo="[object WeakMap]",Mo="[object DataView]",Eo=ye(So),Io=ye(cr),_o=ye(wo),$o=ye(Co),Oo=ye(Me),Fo=F;(So&&Fo(new So(new ArrayBuffer(1)))!=Mo||cr&&Fo(new cr)!=ko||wo&&Fo(wo.resolve())!=Bo||Co&&Fo(new Co)!=Po||Me&&Fo(new Me)!=xo)&&(Fo=function(e){var t=F(e),n="[object Object]"==t?e.constructor:void 0,r=n?ye(n):"";if(r)switch(r){case Eo:return Mo;case Io:return ko;case _o:return Bo;case $o:return Po;case Oo:return xo}return t});var Lo=Fo,Ho=Object.prototype.hasOwnProperty;var To=k.Uint8Array;function Ao(e){var t=new e.constructor(e.byteLength);return new To(t).set(new To(e)),t}var No=/\w*$/;var Do=B?B.prototype:void 0,jo=Do?Do.valueOf:void 0;function Wo(e,t){var n=t?Ao(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Go="[object Boolean]",zo="[object Date]",Vo="[object Map]",qo="[object Number]",Uo="[object RegExp]",Ko="[object Set]",Jo="[object String]",Zo="[object Symbol]",Yo="[object ArrayBuffer]",Xo="[object DataView]",Qo="[object Float32Array]",ea="[object Float64Array]",ta="[object Int8Array]",na="[object Int16Array]",ra="[object Int32Array]",ia="[object Uint8Array]",oa="[object Uint8ClampedArray]",aa="[object Uint16Array]",sa="[object Uint32Array]";function la(e,t,n){var r,i=e.constructor;switch(t){case Yo:return Ao(e);case Go:case zo:return new i(+e);case Xo:return function(e,t){var n=t?Ao(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case Qo:case ea:case ta:case na:case ra:case ia:case oa:case aa:case sa:return Wo(e,n);case Vo:return new i;case qo:case Jo:return new i(e);case Uo:return function(e){var t=new e.constructor(e.source,No.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Ko:return new i;case Zo:return r=e,jo?Object(jo.call(r)):{}}}function ua(e){return"function"!=typeof e.constructor||yn(e)?{}:$e($r(e))}var ca=Hn&&Hn.isMap,da=ca?$n(ca):function(e){return L(e)&&"[object Map]"==Lo(e)};var ha=Hn&&Hn.isSet,pa=ha?$n(ha):function(e){return L(e)&&"[object Set]"==Lo(e)},fa=1,ma=2,ga=4,Ra="[object Arguments]",va="[object Function]",ya="[object GeneratorFunction]",ba="[object Object]",Sa={};function wa(e,t,n,r,i,o){var a,s=t&fa,l=t&ma,u=t&ga;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!X(e))return e;var c=j(e);if(c){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ho.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return Je(e,a)}else{var d=Lo(e),h=d==va||d==ya;if(In(e))return co(e,s);if(d==ba||d==Ra||h&&!i){if(a=l||h?{}:ua(e),!s)return l?function(e,t){return un(e,Ro(e),t)}(e,function(e,t){return e&&un(t,Zn(t),e)}(a,e)):function(e,t){return un(e,go(e),t)}(e,oo(a,e))}else{if(!Sa[d])return i?e:{};a=la(e,d,s)}}o||(o=new io);var p=o.get(e);if(p)return p;o.set(e,a),pa(e)?e.forEach((function(r){a.add(wa(r,t,n,r,e,o))})):da(e)&&e.forEach((function(r,i){a.set(i,wa(r,t,n,i,e,o))}));var f=c?void 0:(u?l?bo:yo:l?Zn:Vn)(e);return ct(f||e,(function(r,i){f&&(r=e[i=r]),ln(a,i,wa(r,t,n,i,e,o))})),a}Sa[Ra]=Sa["[object Array]"]=Sa["[object ArrayBuffer]"]=Sa["[object DataView]"]=Sa["[object Boolean]"]=Sa["[object Date]"]=Sa["[object Float32Array]"]=Sa["[object Float64Array]"]=Sa["[object Int8Array]"]=Sa["[object Int16Array]"]=Sa["[object Int32Array]"]=Sa["[object Map]"]=Sa["[object Number]"]=Sa[ba]=Sa["[object RegExp]"]=Sa["[object Set]"]=Sa["[object String]"]=Sa["[object Symbol]"]=Sa["[object Uint8Array]"]=Sa["[object Uint8ClampedArray]"]=Sa["[object Uint16Array]"]=Sa["[object Uint32Array]"]=!0,Sa["[object Error]"]=Sa[va]=Sa["[object WeakMap]"]=!1;var Ca=4;function ka(e){return wa(e,Ca)}var Ba=1,Pa=4;function xa(e){return wa(e,Ba|Pa)}function Ma(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new hr;++t<n;)this.add(e[t])}function Ea(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Ia(e,t){return e.has(t)}Ma.prototype.add=Ma.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ma.prototype.has=function(e){return this.__data__.has(e)};var _a=1,$a=2;function Oa(e,t,n,r,i,o){var a=n&_a,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var d=-1,h=!0,p=n&$a?new Ma:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var f=e[d],m=t[d];if(r)var g=a?r(m,f,d,t,e,o):r(f,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!Ea(t,(function(e,t){if(!Ia(p,t)&&(f===e||i(f,e,n,r,o)))return p.push(t)}))){h=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Fa(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function La(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ha=1,Ta=2,Aa="[object Boolean]",Na="[object Date]",Da="[object Error]",ja="[object Map]",Wa="[object Number]",Ga="[object RegExp]",za="[object Set]",Va="[object String]",qa="[object Symbol]",Ua="[object ArrayBuffer]",Ka="[object DataView]",Ja=B?B.prototype:void 0,Za=Ja?Ja.valueOf:void 0;var Ya=1,Xa=Object.prototype.hasOwnProperty;var Qa=1,es="[object Arguments]",ts="[object Array]",ns="[object Object]",rs=Object.prototype.hasOwnProperty;function is(e,t,n,r,i,o){var a=j(e),s=j(t),l=a?ts:Lo(e),u=s?ts:Lo(t),c=(l=l==es?ns:l)==ns,d=(u=u==es?ns:u)==ns,h=l==u;if(h&&In(e)){if(!In(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new io),a||An(e)?Oa(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case Ka:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ua:return!(e.byteLength!=t.byteLength||!o(new To(e),new To(t)));case Aa:case Na:case Wa:return an(+e,+t);case Da:return e.name==t.name&&e.message==t.message;case Ga:case Va:return e==t+"";case ja:var s=Fa;case za:var l=r&Ha;if(s||(s=La),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=Ta,a.set(e,t);var c=Oa(s(e),s(t),r,i,o,a);return a.delete(e),c;case qa:if(Za)return Za.call(e)==Za.call(t)}return!1}(e,t,l,n,r,i,o);if(!(n&Qa)){var p=c&&rs.call(e,"__wrapped__"),f=d&&rs.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,g=f?t.value():t;return o||(o=new io),i(m,g,n,r,o)}}return!!h&&(o||(o=new io),function(e,t,n,r,i,o){var a=n&Ya,s=yo(e),l=s.length;if(l!=yo(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:Xa.call(t,c)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var p=!0;o.set(e,t),o.set(t,e);for(var f=a;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var R=a?r(g,m,c,t,e,o):r(m,g,c,e,t,o);if(!(void 0===R?m===g||i(m,g,n,r,o):R)){p=!1;break}f||(f="constructor"==c)}if(p&&!f){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o))}function os(e,t,n,r,i){return e===t||(null==e||null==t||!L(e)&&!L(t)?e!=e&&t!=t:is(e,t,n,r,os,i))}var as=1,ss=2;function ls(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new io;if(r)var h=r(u,c,l,e,t,d);if(!(void 0===h?os(c,u,as|ss,r,d):h))return!1}}return!0}function us(e){return e==e&&!X(e)}function cs(e){for(var t=Vn(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,us(i)]}return t}function ds(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function hs(e){var t=cs(e);return 1==t.length&&t[0][2]?ds(t[0][0],t[0][1]):function(n){return n===e||ls(n,e,t)}}function ps(e,t){return null!=e&&t in Object(e)}function fs(e,t,n){for(var r=-1,i=(t=yr(t,e)).length,o=!1;++r<i;){var a=Sr(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&fn(i)&&xt(a,i)&&(j(e)||Bn(e))}function ms(e,t){return null!=e&&fs(e,t,ps)}var gs=1,Rs=2;function vs(e,t){return nr(e)&&us(t)?ds(Sr(e),t):function(n){var r=Cr(n,e);return void 0===r&&r===t?ms(n,e):os(t,r,gs|Rs)}}function ys(e){return function(t){return null==t?void 0:t[e]}}function bs(e){return nr(e)?ys(Sr(e)):function(e){return function(t){return wr(t,e)}}(e)}function Ss(e){return"function"==typeof e?e:null==e?ue:"object"==typeof e?j(e)?vs(e[0],e[1]):hs(e):bs(e)}function ws(e,t,n){var r=n.length;if(null==e)return!r;for(e=Object(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function Cs(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function ks(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}var Bs=ks();function Ps(e,t){return e&&Bs(e,t,Vn)}function xs(e,t){return function(n,r){if(null==n)return n;if(!mn(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}var Ms=xs(Ps);function Es(e,t,n,r){return Ms(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Is(e,t){return function(n,r){var i=j(n)?Cs:Es,o=t?t():{};return i(n,e,Ss(r),o)}}var _s=Object.prototype.hasOwnProperty,$s=Is((function(e,t,n){_s.call(e,n)?++e[n]:on(e,n,1)}));function Os(e,t,n){var r=tn(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Os.placeholder,r}Os.placeholder={};function Fs(e,t,n){var r=tn(e,16,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Fs.placeholder,r}Fs.placeholder={};var Ls=function(){return k.Date.now()},Hs="Expected a function",Ts=Math.max,As=Math.min;function Ns(e,t,n){var r,i,o,a,s,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(Hs);function p(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=o}function m(){var e=Ls();if(f(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?As(n,o-(e-u)):n}(e))}function g(e){return s=void 0,h&&r?p(e):(r=i=void 0,a)}function R(){var e=Ls(),n=f(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?p(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=ie(t)||0,X(n)&&(c=!!n.leading,o=(d="maxWait"in n)?Ts(ie(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),R.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},R.flush=function(){return void 0===s?a:g(Ls())},R}var Ds=Object.prototype,js=Ds.hasOwnProperty,Ws=hn((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&gn(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Zn(o),s=-1,l=a.length;++s<l;){var u=a[s],c=e[u];(void 0===c||an(c,Ds[u])&&!js.call(e,u))&&(e[u]=o[u])}return e}));function Gs(e,t,n){(void 0!==n&&!an(e[t],n)||void 0===n&&!(t in e))&&on(e,t,n)}function zs(e){return L(e)&&mn(e)}function Vs(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function qs(e){return un(e,Zn(e))}function Us(e,t,n,r,i){e!==t&&Bs(t,(function(o,a){if(i||(i=new io),X(o))!function(e,t,n,r,i,o,a){var s=Vs(e,n),l=Vs(t,n),u=a.get(l);if(u)Gs(e,n,u);else{var c=o?o(s,l,n+"",e,t,a):void 0,d=void 0===c;if(d){var h=j(l),p=!h&&In(l),f=!h&&!p&&An(l);c=l,h||p||f?j(s)?c=s:zs(s)?c=Je(s):p?(d=!1,c=co(l,!0)):f?(d=!1,c=Wo(l,!0)):c=[]:Nr(l)||Bn(l)?(c=s,Bn(s)?c=qs(s):X(s)&&!fe(s)||(c=ua(l))):d=!1}d&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),Gs(e,n,c)}}(e,t,a,n,Us,r,i);else{var s=r?r(Vs(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),Gs(e,a,s)}}),Zn)}function Ks(e,t,n,r,i,o){return X(e)&&X(t)&&(o.set(t,e),Us(e,t,void 0,Ks,o),o.delete(t)),e}var Js=Rn((function(e,t,n,r){Us(e,t,n,r)})),Zs=hn((function(e){return e.push(void 0,Ks),Le(Js,void 0,e)}));function Ys(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)}var Xs=hn((function(e,t){return Ys(e,1,t)})),Qs=hn((function(e,t,n){return Ys(e,ie(t)||0,n)}));function el(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var tl=200;function nl(e,t,n,r){var i=-1,o=ft,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=D(t,$n(n))),r?(o=el,a=!1):t.length>=tl&&(o=Ia,a=!1,t=new Ma(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d==d){for(var h=u;h--;)if(t[h]===d)continue e;l.push(c)}else o(t,d,r)||l.push(c)}return l}var rl=hn((function(e,t){return zs(e)?nl(e,Mr(t,1,zs,!0)):[]}));function il(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var ol=hn((function(e,t){var n=il(t);return zs(n)&&(n=void 0),zs(e)?nl(e,Mr(t,1,zs,!0),Ss(n)):[]})),al=hn((function(e,t){var n=il(t);return zs(n)&&(n=void 0),zs(e)?nl(e,Mr(t,1,zs,!0),void 0,n):[]})),sl=q((function(e,t){return e/t}),1);function ll(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Jr(e,r?0:o,r?o+1:i):Jr(e,r?o+1:0,r?i:o)}function ul(e){return"function"==typeof e?e:ue}function cl(e,t){return(j(e)?ct:Ms)(e,ul(t))}function dl(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}var hl=ks(!0);function pl(e,t){return e&&hl(e,t,Vn)}var fl=xs(pl,!0);function ml(e,t){return(j(e)?dl:fl)(e,ul(t))}function gl(e){return function(t){var n=Lo(t);return"[object Map]"==n?Fa(t):"[object Set]"==n?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return D(t,(function(t){return[t,e[t]]}))}(t,e(t))}}var Rl=gl(Vn),vl=gl(Zn),yl=gi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),bl=/[&<>"']/g,Sl=RegExp(bl.source);function wl(e){return(e=vr(e))&&Sl.test(e)?e.replace(bl,yl):e}var Cl=/[\\^$.*+?()[\]{}|]/g,kl=RegExp(Cl.source);function Bl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pl(e,t){var n=!0;return Ms(e,(function(e,r,i){return n=!!t(e,r,i)})),n}var xl=4294967295;function Ml(e){return e?no(le(e),0,xl):0}function El(e,t){var n=[];return Ms(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Il(e){return function(t,n,r){var i=Object(t);if(!mn(t)){var o=Ss(n);t=Vn(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}var _l=Math.max;function $l(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:le(n);return i<0&&(i=_l(r+i,0)),dt(e,Ss(t),i)}var Ol=Il($l);function Fl(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}var Ll=Math.max,Hl=Math.min;function Tl(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=le(n),i=n<0?Ll(r+i,0):Hl(i,r-1)),dt(e,Ss(t),i,!0)}var Al=Il(Tl);function Nl(e){return e&&e.length?e[0]:void 0}function Dl(e,t){var n=-1,r=mn(e)?Array(e.length):[];return Ms(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function jl(e,t){return(j(e)?D:Dl)(e,Ss(t))}var Wl=1/0;var Gl=1/0;var zl=Yi("floor");function Vl(e){return Ir((function(t){var n=t.length,r=n,i=Ke.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new TypeError("Expected a function");if(i&&!a&&"wrapper"==Ue(o))var a=new Ke([],!0)}for(r=a?r:n;++r<n;){var s=Ue(o=t[r]),l="wrapper"==s?ze(o):void 0;a=l&&Qe(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Ue(l[0])].apply(a,l[3]):1==o.length&&Qe(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&j(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}var ql=Vl(),Ul=Vl(!0);function Kl(e,t){return ho(t,(function(t){return fe(e[t])}))}var Jl=Object.prototype.hasOwnProperty,Zl=Is((function(e,t,n){Jl.call(e,n)?e[n].push(t):on(e,n,[t])}));function Yl(e,t){return e>t}function Xl(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ie(t),n=ie(n)),e(t,n)}}var Ql=Xl(Yl),eu=Xl((function(e,t){return e>=t})),tu=Object.prototype.hasOwnProperty;function nu(e,t){return null!=e&&tu.call(e,t)}var ru=Math.max,iu=Math.min;var ou="[object String]";function au(e){return"string"==typeof e||!j(e)&&L(e)&&F(e)==ou}function su(e,t){return D(t,(function(t){return e[t]}))}function lu(e){return null==e?[]:su(e,Vn(e))}var uu=Math.max;var cu=Math.max;var du=Math.min;function hu(e,t,n){for(var r=n?el:ft,i=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=D(c,$n(t))),l=du(c.length,l),s[a]=!n&&(t||i>=120&&c.length>=120)?new Ma(a&&c):void 0}c=e[0];var d=-1,h=s[0];e:for(;++d<i&&u.length<l;){var p=c[d],f=t?t(p):p;if(p=n||0!==p?p:0,!(h?Ia(h,f):r(u,f,n))){for(a=o;--a;){var m=s[a];if(!(m?Ia(m,f):r(e[a],f,n)))continue e}h&&h.push(f),u.push(p)}}return u}function pu(e){return zs(e)?e:[]}var fu=hn((function(e){var t=D(e,pu);return t.length&&t[0]===e[0]?hu(t):[]})),mu=hn((function(e){var t=il(e),n=D(e,pu);return t===il(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?hu(n,Ss(t)):[]})),gu=hn((function(e){var t=il(e),n=D(e,pu);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?hu(n,void 0,t):[]}));function Ru(e,t){return function(n,r){return function(e,t,n,r){return Ps(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}var vu=Object.prototype.toString,yu=Ru((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=vu.call(t)),e[t]=n}),at(ue)),bu=Object.prototype,Su=bu.hasOwnProperty,wu=bu.toString,Cu=Ru((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=wu.call(t)),Su.call(e,t)?e[t].push(n):e[t]=[n]}),Ss);function ku(e,t){return t.length<2?e:wr(e,Jr(t,0,-1))}function Bu(e,t,n){var r=null==(e=ku(e,t=yr(t,e)))?e:e[Sr(il(t))];return null==r?void 0:Le(r,e,n)}var Pu=hn(Bu),xu=hn((function(e,t,n){var r=-1,i="function"==typeof t,o=mn(e)?Array(e.length):[];return Ms(e,(function(e){o[++r]=i?Le(t,e,n):Bu(e,t,n)})),o}));var Mu=Hn&&Hn.isArrayBuffer,Eu=Mu?$n(Mu):function(e){return L(e)&&"[object ArrayBuffer]"==F(e)};var Iu=Hn&&Hn.isDate,_u=Iu?$n(Iu):function(e){return L(e)&&"[object Date]"==F(e)};var $u=Object.prototype.hasOwnProperty;function Ou(e,t){return os(e,t)}var Fu=k.isFinite;function Lu(e){return"number"==typeof e&&e==le(e)}var Hu="[object Number]";function Tu(e){return"number"==typeof e||L(e)&&F(e)==Hu}var Au=ge?fe:Pn;var Nu=Hn&&Hn.isRegExp,Du=Nu?$n(Nu):function(e){return L(e)&&"[object RegExp]"==F(e)},ju=9007199254740991;var Wu=Array.prototype.join;var Gu=Ui((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),zu=Is((function(e,t,n){on(e,n,t)}));var Vu=Math.max,qu=Math.min;var Uu=Ui((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ku=hi("toLowerCase");function Ju(e,t){return e<t}var Zu=Xl(Ju),Yu=Xl((function(e,t){return e<=t}));function Xu(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!T(a):n(a,s)))var s=a,l=o}return l}function Qu(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}var ec=NaN;function tc(e,t){var n=null==e?0:e.length;return n?Qu(e,t)/n:ec}var nc=Rn((function(e,t,n){Us(e,t,n)})),rc=hn((function(e,t){return function(n){return Bu(n,e,t)}})),ic=hn((function(e,t){return function(n){return Bu(e,n,t)}}));function oc(e,t,n){var r=Vn(t),i=Kl(t,r),o=!(X(n)&&"chain"in n&&!n.chain),a=fe(e);return ct(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Je(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Br([this.value()],arguments))})})),e}var ac=q((function(e,t){return e*t}),1),sc="Expected a function";function lc(e){if("function"!=typeof e)throw new TypeError(sc);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var uc="[object Map]",cc="[object Set]",dc=B?B.iterator:void 0;function hc(e){if(!e)return[];if(mn(e))return au(e)?di(e):Je(e);if(dc&&e[dc])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[dc]());var t=Lo(e);return(t==uc?Fa:t==cc?La:lu)(e)}function pc(e,t){var n=e.length;if(n)return xt(t+=t<0?n:0,n)?e[t]:void 0}function fc(e,t){return null==(e=ku(e,t=yr(t,e)))||delete e[Sr(il(t))]}function mc(e){return Nr(e)?void 0:e}var gc=Ir((function(e,t){var n={};if(null==e)return n;var r=!1;t=D(t,(function(t){return t=yr(t,e),r||(r=t.length>1),t})),un(e,bo(e),n),r&&(n=wa(n,7,mc));for(var i=t.length;i--;)fc(n,t[i]);return n}));function Rc(e,t,n,r){if(!X(e))return e;for(var i=-1,o=(t=yr(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l=Sr(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=X(c)?c:xt(t[i+1])?[]:{})}ln(s,l,u),s=s[l]}return e}function vc(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=wr(e,a);n(s,a)&&Rc(o,yr(a,e),s)}return o}function yc(e,t){if(null==e)return{};var n=D(bo(e),(function(e){return[e]}));return t=Ss(t),vc(e,n,(function(e,n){return t(e,n[0])}))}function bc(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=T(e),a=void 0!==t,s=null===t,l=t==t,u=T(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function Sc(e,t,n){t=t.length?D(t,(function(e){return j(e)?function(t){return wr(t,1===e.length?e[0]:e)}:e})):[ue];var r=-1;t=D(t,$n(Ss));var i=Dl(e,(function(e,n,i){var o=D(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=bc(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function wc(e){return Ir((function(t){return t=D(t,$n(Ss)),hn((function(n){var r=this;return e(t,(function(e){return Le(e,r,n)}))}))}))}var Cc=wc(D),kc=hn,Bc=Math.min,Pc=kc((function(e,t){var n=(t=1==t.length&&j(t[0])?D(t[0],$n(Ss)):D(Mr(t,1),$n(Ss))).length;return hn((function(r){for(var i=-1,o=Bc(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Le(e,this,r)}))})),xc=wc(Bl),Mc=wc(Ea),Ec=9007199254740991,Ic=Math.floor;function _c(e,t){var n="";if(!e||t<1||t>Ec)return n;do{t%2&&(n+=e),(t=Ic(t/2))&&(e+=e)}while(t);return n}var $c=ys("length"),Oc="\\ud800-\\udfff",Fc="["+Oc+"]",Lc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Hc="\\ud83c[\\udffb-\\udfff]",Tc="[^"+Oc+"]",Ac="(?:\\ud83c[\\udde6-\\uddff]){2}",Nc="[\\ud800-\\udbff][\\udc00-\\udfff]",Dc="(?:"+Lc+"|"+Hc+")"+"?",jc="[\\ufe0e\\ufe0f]?",Wc=jc+Dc+("(?:\\u200d(?:"+[Tc,Ac,Nc].join("|")+")"+jc+Dc+")*"),Gc="(?:"+[Tc+Lc+"?",Lc,Ac,Nc,Fc].join("|")+")",zc=RegExp(Hc+"(?="+Hc+")|"+Gc+Wc,"g");function Vc(e){return Xr(e)?function(e){for(var t=zc.lastIndex=0;zc.test(e);)++t;return t}(e):$c(e)}var qc=Math.ceil;function Uc(e,t){var n=(t=void 0===t?" ":V(t)).length;if(n<2)return n?_c(t,e):t;var r=_c(t,qc(e/Vc(t)));return Xr(t)?Zr(di(r),0,e).join(""):r.slice(0,e)}var Kc=Math.ceil,Jc=Math.floor;var Zc=/^\s+/,Yc=k.parseInt;var Xc=hn((function(e,t){return tn(e,32,void 0,t,It(t,kt(Xc)))}));Xc.placeholder={};var Qc=hn((function(e,t){return tn(e,64,void 0,t,It(t,kt(Qc)))}));Qc.placeholder={};var ed=Is((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var td=Ir((function(e,t){return null==e?{}:function(e,t){return vc(e,t,(function(t,n){return ms(e,n)}))}(e,t)}));function nd(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}var rd=Array.prototype.splice;function id(e,t,n,r){var i=r?nd:pt,o=-1,a=t.length,s=e;for(e===t&&(t=Je(t)),n&&(s=D(e,$n(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&rd.call(s,l,1),rd.call(e,l,1);return e}function od(e,t){return e&&e.length&&t&&t.length?id(e,t):e}var ad=hn(od);var sd=Array.prototype.splice;function ld(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;xt(i)?sd.call(e,i,1):fc(e,i)}}return e}var ud=Ir((function(e,t){var n=null==e?0:e.length,r=kr(e,t);return ld(e,D(t,(function(e){return xt(e,n)?+e:e})).sort(bc)),r})),cd=Math.floor,dd=Math.random;function hd(e,t){return e+cd(dd()*(t-e+1))}var pd=parseFloat,fd=Math.min,md=Math.random;function gd(e,t,n){if(n&&"boolean"!=typeof n&&gn(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=se(e),void 0===t?(t=e,e=0):t=se(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=md();return fd(e+i*(t-e+pd("1e-"+((i+"").length-1))),t)}return hd(e,t)}var Rd=Math.ceil,vd=Math.max;function yd(e){return function(t,n,r){return r&&"number"!=typeof r&&gn(t,n,r)&&(n=r=void 0),t=se(t),void 0===n?(n=t,t=0):n=se(n),function(e,t,n,r){for(var i=-1,o=vd(Rd((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:se(r),e)}}var bd=yd(),Sd=yd(!0),wd=Ir((function(e,t){return tn(e,256,void 0,void 0,void 0,t)}));function Cd(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function kd(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}var Bd=Array.prototype.reverse;function Pd(e){return null==e?e:Bd.call(e)}var xd=Yi("round");function Md(e){var t=e.length;return t?e[hd(0,t-1)]:void 0}function Ed(e){return Md(lu(e))}function Id(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=hd(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}function _d(e,t){return Id(Je(e),no(t,0,e.length))}function $d(e,t){var n=lu(e);return Id(n,no(t,0,n.length))}function Od(e){return Id(Je(e))}function Fd(e){return Id(lu(e))}var Ld=Ui((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function Hd(e,t){var n;return Ms(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}var Td=hn((function(e,t){if(null==e)return[];var n=t.length;return n>1&&gn(e,t[0],t[1])?t=[]:n>2&&gn(t[0],t[1],t[2])&&(t=[t[0]]),Sc(e,Mr(t,1),[])})),Ad=4294967294,Nd=Math.floor,Dd=Math.min;function jd(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,s=null===t,l=T(t),u=void 0===t;i<o;){var c=Nd((i+o)/2),d=n(e[c]),h=void 0!==d,p=null===d,f=d==d,m=T(d);if(a)var g=r||f;else g=u?f&&(r||h):s?f&&h&&(r||!p):l?f&&h&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);g?i=c+1:o=c}return Dd(o,Ad)}var Wd=2147483647;function Gd(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=Wd){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!T(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return jd(e,t,ue,n)}function zd(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!an(s,l)){var l=s;o[i++]=0===a?0:a}}return o}var Vd=Math.max;var qd=Ui((function(e,t,n){return e+(n?" ":"")+pi(t)}));var Ud=q((function(e,t){return e-t}),0);function Kd(e,t){return e&&e.length?Qu(e,Ss(t)):0}var Jd=Object.prototype,Zd=Jd.hasOwnProperty;function Yd(e,t,n,r){return void 0===e||an(e,Jd[n])&&!Zd.call(r,n)?t:e}var Xd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Qd(e){return"\\"+Xd[e]}var eh=/<%=([\s\S]+?)%>/g,th={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:eh,variable:"",imports:{_:{escape:wl}}},nh=/\b__p \+= '';/g,rh=/\b(__p \+=) '' \+/g,ih=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oh=/[()=,{}\[\]\/\s]/,ah=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sh=/($^)/,lh=/['\n\r\u2028\u2029\\]/g,uh=Object.prototype.hasOwnProperty;function ch(e,t){return t(e)}var dh=4294967295,hh=Math.min;function ph(e,t){var n=e;return n instanceof We&&(n=n.value()),mi(t,(function(e,t){return t.func.apply(t.thisArg,Br([e],t.args))}),n)}function fh(){return ph(this.__wrapped__,this.__actions__)}var mh=9007199254740991;function gh(e,t){for(var n=e.length;n--&&pt(t,e[n],0)>-1;);return n}function Rh(e,t){for(var n=-1,r=e.length;++n<r&&pt(t,e[n],0)>-1;);return n}var vh=/^\s+/;var yh=/\w*$/;var bh=gi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Sh=/&(?:amp|lt|gt|quot|#39);/g,wh=RegExp(Sh.source);var Ch=Co&&1/La(new Co([,-0]))[1]==1/0?function(e){return new Co(e)}:Ge,kh=200;function Bh(e,t,n){var r=-1,i=ft,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=el;else if(o>=kh){var u=t?null:Ch(e);if(u)return La(u);a=!1,i=Ia,l=new Ma}else l=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var Ph=hn((function(e){return Bh(Mr(e,1,zs,!0))})),xh=hn((function(e){var t=il(e);return zs(t)&&(t=void 0),Bh(Mr(e,1,zs,!0),Ss(t))})),Mh=hn((function(e){var t=il(e);return t="function"==typeof t?t:void 0,Bh(Mr(e,1,zs,!0),void 0,t)}));var Eh=0;var Ih=Math.max;function _h(e){if(!e||!e.length)return[];var t=0;return e=ho(e,(function(e){if(zs(e))return t=Ih(e.length,t),!0})),bn(t,(function(t){return D(e,ys(t))}))}function $h(e,t){if(!e||!e.length)return[];var n=_h(e);return null==t?n:D(n,(function(e){return Le(t,void 0,e)}))}function Oh(e,t,n,r){return Rc(e,t,n(wr(e,t)),r)}var Fh=Ui((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}));var Lh=hn((function(e,t){return zs(e)?nl(e,t):[]}));var Hh=Ir((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return kr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof We&&xt(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ch,args:[i],thisArg:void 0}),new Ke(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));function Th(e,t,n){var r=e.length;if(r<2)return r?Bh(e[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=nl(o[i]||a,e[s],t,n));return Bh(Mr(o,1),t,n)}var Ah=hn((function(e){return Th(ho(e,zs))})),Nh=hn((function(e){var t=il(e);return zs(t)&&(t=void 0),Th(ho(e,zs),Ss(t))})),Dh=hn((function(e){var t=il(e);return t="function"==typeof t?t:void 0,Th(ho(e,zs),void 0,t)})),jh=hn(_h);function Wh(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}var Gh=hn((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,$h(e,n)})),zh={chunk:function(e,t,n){t=(n?gn(e,t,n):void 0===t)?1:to(le(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(eo(r/t));i<r;)a[o++]=Jr(e,i,i+=t);return a},compact:function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},concat:function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Br(j(n)?Je(n):[n],Mr(t,1))},difference:rl,differenceBy:ol,differenceWith:al,drop:function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,(t=n||void 0===t?1:le(t))<0?0:t,r):[]},dropRight:function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,0,(t=r-(t=n||void 0===t?1:le(t)))<0?0:t):[]},dropRightWhile:function(e,t){return e&&e.length?ll(e,Ss(t),!0,!0):[]},dropWhile:function(e,t){return e&&e.length?ll(e,Ss(t),!0):[]},fill:function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&gn(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=le(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:le(r))<0&&(r+=i),r=n>r?0:Ml(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},findIndex:$l,findLastIndex:Tl,first:Nl,flatten:Er,flattenDeep:function(e){return(null==e?0:e.length)?Mr(e,Gl):[]},flattenDepth:function(e,t){return(null==e?0:e.length)?Mr(e,t=void 0===t?1:le(t)):[]},fromPairs:function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},head:Nl,indexOf:function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:le(n);return i<0&&(i=cu(r+i,0)),pt(e,t,i)},initial:function(e){return(null==e?0:e.length)?Jr(e,0,-1):[]},intersection:fu,intersectionBy:mu,intersectionWith:gu,join:function(e,t){return null==e?"":Wu.call(e,t)},last:il,lastIndexOf:function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=le(n))<0?Vu(r+i,0):qu(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):dt(e,ht,i,!0)},nth:function(e,t){return e&&e.length?pc(e,le(t)):void 0},pull:ad,pullAll:od,pullAllBy:function(e,t,n){return e&&e.length&&t&&t.length?id(e,t,Ss(n)):e},pullAllWith:function(e,t,n){return e&&e.length&&t&&t.length?id(e,t,void 0,n):e},pullAt:ud,remove:function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ss(t);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return ld(e,i),n},reverse:Pd,slice:function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&gn(e,t,n)?(t=0,n=r):(t=null==t?0:le(t),n=void 0===n?r:le(n)),Jr(e,t,n)):[]},sortedIndex:function(e,t){return Gd(e,t)},sortedIndexBy:function(e,t,n){return jd(e,t,Ss(n))},sortedIndexOf:function(e,t){var n=null==e?0:e.length;if(n){var r=Gd(e,t);if(r<n&&an(e[r],t))return r}return-1},sortedLastIndex:function(e,t){return Gd(e,t,!0)},sortedLastIndexBy:function(e,t,n){return jd(e,t,Ss(n),!0)},sortedLastIndexOf:function(e,t){if(null==e?0:e.length){var n=Gd(e,t,!0)-1;if(an(e[n],t))return n}return-1},sortedUniq:function(e){return e&&e.length?zd(e):[]},sortedUniqBy:function(e,t){return e&&e.length?zd(e,Ss(t)):[]},tail:function(e){var t=null==e?0:e.length;return t?Jr(e,1,t):[]},take:function(e,t,n){return e&&e.length?Jr(e,0,(t=n||void 0===t?1:le(t))<0?0:t):[]},takeRight:function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,(t=r-(t=n||void 0===t?1:le(t)))<0?0:t,r):[]},takeRightWhile:function(e,t){return e&&e.length?ll(e,Ss(t),!1,!0):[]},takeWhile:function(e,t){return e&&e.length?ll(e,Ss(t)):[]},union:Ph,unionBy:xh,unionWith:Mh,uniq:function(e){return e&&e.length?Bh(e):[]},uniqBy:function(e,t){return e&&e.length?Bh(e,Ss(t)):[]},uniqWith:function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Bh(e,void 0,t):[]},unzip:_h,unzipWith:$h,without:Lh,xor:Ah,xorBy:Nh,xorWith:Dh,zip:jh,zipObject:function(e,t){return Wh(e||[],t||[],ln)},zipObjectDeep:function(e,t){return Wh(e||[],t||[],Rc)},zipWith:Gh},Vh={countBy:$s,each:cl,eachRight:ml,every:function(e,t,n){var r=j(e)?Bl:Pl;return n&&gn(e,t,n)&&(t=void 0),r(e,Ss(t))},filter:function(e,t){return(j(e)?ho:El)(e,Ss(t))},find:Ol,findLast:Al,flatMap:function(e,t){return Mr(jl(e,t),1)},flatMapDeep:function(e,t){return Mr(jl(e,t),Wl)},flatMapDepth:function(e,t,n){return n=void 0===n?1:le(n),Mr(jl(e,t),n)},forEach:cl,forEachRight:ml,groupBy:Zl,includes:function(e,t,n,r){e=mn(e)?e:lu(e),n=n&&!r?le(n):0;var i=e.length;return n<0&&(n=uu(i+n,0)),au(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&pt(e,t,n)>-1},invokeMap:xu,keyBy:zu,map:jl,orderBy:function(e,t,n,r){return null==e?[]:(j(t)||(t=null==t?[]:[t]),j(n=r?void 0:n)||(n=null==n?[]:[n]),Sc(e,t,n))},partition:ed,reduce:function(e,t,n){var r=j(e)?mi:Cd,i=arguments.length<3;return r(e,Ss(t),n,i,Ms)},reduceRight:function(e,t,n){var r=j(e)?kd:Cd,i=arguments.length<3;return r(e,Ss(t),n,i,fl)},reject:function(e,t){return(j(e)?ho:El)(e,lc(Ss(t)))},sample:function(e){return(j(e)?Md:Ed)(e)},sampleSize:function(e,t,n){return t=(n?gn(e,t,n):void 0===t)?1:le(t),(j(e)?_d:$d)(e,t)},shuffle:function(e){return(j(e)?Od:Fd)(e)},size:function(e){if(null==e)return 0;if(mn(e))return au(e)?Vc(e):e.length;var t=Lo(e);return"[object Map]"==t||"[object Set]"==t?e.size:zn(e).length},some:function(e,t,n){var r=j(e)?Ea:Hd;return n&&gn(e,t,n)&&(t=void 0),r(e,Ss(t))},sortBy:Td},qh=Ls,Uh={after:function(e,t){if("function"!=typeof t)throw new TypeError("Expected a function");return e=le(e),function(){if(--e<1)return t.apply(this,arguments)}},ary:rn,before:Vr,bind:qr,bindKey:Kr,curry:Os,curryRight:Fs,debounce:Ns,defer:Xs,delay:Qs,flip:function(e){return tn(e,512)},memoize:fr,negate:lc,once:function(e){return Vr(2,e)},overArgs:Pc,partial:Xc,partialRight:Qc,rearg:wd,rest:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return hn(e,t=void 0===t?t:le(t))},spread:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=null==t?0:Vd(le(t),0),hn((function(n){var r=n[t],i=Zr(n,0,t);return r&&Br(i,r),Le(e,this,i)}))},throttle:function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return X(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ns(e,t,{leading:r,maxWait:t,trailing:i})},unary:function(e){return rn(e,1)},wrap:function(e,t){return Xc(ul(t),e)}},Kh={castArray:function(){if(!arguments.length)return[];var e=arguments[0];return j(e)?e:[e]},clone:ka,cloneDeep:xa,cloneDeepWith:function(e,t){return wa(e,5,t="function"==typeof t?t:void 0)},cloneWith:function(e,t){return wa(e,4,t="function"==typeof t?t:void 0)},conformsTo:function(e,t){return null==t||ws(e,t,Vn(t))},eq:an,gt:Ql,gte:eu,isArguments:Bn,isArray:j,isArrayBuffer:Eu,isArrayLike:mn,isArrayLikeObject:zs,isBoolean:function(e){return!0===e||!1===e||L(e)&&"[object Boolean]"==F(e)},isBuffer:In,isDate:_u,isElement:function(e){return L(e)&&1===e.nodeType&&!Nr(e)},isEmpty:function(e){if(null==e)return!0;if(mn(e)&&(j(e)||"string"==typeof e||"function"==typeof e.splice||In(e)||An(e)||Bn(e)))return!e.length;var t=Lo(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(yn(e))return!zn(e).length;for(var n in e)if($u.call(e,n))return!1;return!0},isEqual:Ou,isEqualWith:function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?os(e,t,void 0,n):!!r},isError:Wr,isFinite:function(e){return"number"==typeof e&&Fu(e)},isFunction:fe,isInteger:Lu,isLength:fn,isMap:da,isMatch:function(e,t){return e===t||ls(e,t,cs(t))},isMatchWith:function(e,t,n){return n="function"==typeof n?n:void 0,ls(e,t,cs(t),n)},isNaN:function(e){return Tu(e)&&e!=+e},isNative:function(e){if(Au(e))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pe(e)},isNil:function(e){return null==e},isNull:function(e){return null===e},isNumber:Tu,isObject:X,isObjectLike:L,isPlainObject:Nr,isRegExp:Du,isSafeInteger:function(e){return Lu(e)&&e>=-9007199254740991&&e<=ju},isSet:pa,isString:au,isSymbol:T,isTypedArray:An,isUndefined:function(e){return void 0===e},isWeakMap:function(e){return L(e)&&"[object WeakMap]"==Lo(e)},isWeakSet:function(e){return L(e)&&"[object WeakSet]"==F(e)},lt:Zu,lte:Yu,toArray:hc,toFinite:se,toInteger:le,toLength:Ml,toNumber:ie,toPlainObject:qs,toSafeInteger:function(e){return e?no(le(e),-9007199254740991,mh):0===e?e:0},toString:vr},Jh={add:U,ceil:Xi,divide:sl,floor:zl,max:function(e){return e&&e.length?Xu(e,ue,Yl):void 0},maxBy:function(e,t){return e&&e.length?Xu(e,Ss(t),Yl):void 0},mean:function(e){return tc(e,ue)},meanBy:function(e,t){return tc(e,Ss(t))},min:function(e){return e&&e.length?Xu(e,ue,Ju):void 0},minBy:function(e,t){return e&&e.length?Xu(e,Ss(t),Ju):void 0},multiply:ac,round:xd,subtract:Ud,sum:function(e){return e&&e.length?Qu(e,ue):0},sumBy:Kd},Zh=ro,Yh=function(e,t,n){return t=se(t),void 0===n?(n=t,t=0):n=se(n),function(e,t,n){return e>=iu(t,n)&&e<ru(t,n)}(e=ie(e),t,n)},Xh=gd,Qh={assign:Un,assignIn:Yn,assignInWith:Xn,assignWith:Qn,at:_r,create:function(e,t){var n=$e(e);return null==t?n:oo(n,t)},defaults:Ws,defaultsDeep:Zs,entries:Rl,entriesIn:vl,extend:Yn,extendWith:Xn,findKey:function(e,t){return Fl(e,Ss(t),Ps)},findLastKey:function(e,t){return Fl(e,Ss(t),pl)},forIn:function(e,t){return null==e?e:Bs(e,ul(t),Zn)},forInRight:function(e,t){return null==e?e:hl(e,ul(t),Zn)},forOwn:function(e,t){return e&&Ps(e,ul(t))},forOwnRight:function(e,t){return e&&pl(e,ul(t))},functions:function(e){return null==e?[]:Kl(e,Vn(e))},functionsIn:function(e){return null==e?[]:Kl(e,Zn(e))},get:Cr,has:function(e,t){return null!=e&&fs(e,t,nu)},hasIn:ms,invert:yu,invertBy:Cu,invoke:Pu,keys:Vn,keysIn:Zn,mapKeys:function(e,t){var n={};return t=Ss(t),Ps(e,(function(e,r,i){on(n,t(e,r,i),e)})),n},mapValues:function(e,t){var n={};return t=Ss(t),Ps(e,(function(e,r,i){on(n,r,t(e,r,i))})),n},merge:nc,mergeWith:Js,omit:gc,omitBy:function(e,t){return yc(e,lc(Ss(t)))},pick:td,pickBy:yc,result:function(e,t,n){var r=-1,i=(t=yr(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Sr(t[r])];void 0===o&&(r=i,o=n),e=fe(o)?o.call(e):o}return e},set:function(e,t,n){return null==e?e:Rc(e,t,n)},setWith:function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Rc(e,t,n,r)},toPairs:Rl,toPairsIn:vl,transform:function(e,t,n){var r=j(e),i=r||In(e)||An(e);if(t=Ss(t),null==n){var o=e&&e.constructor;n=i?r?new o:[]:X(e)&&fe(o)?$e($r(e)):{}}return(i?ct:Ps)(e,(function(e,r,i){return t(n,e,r,i)})),n},unset:function(e,t){return null==e||fc(e,t)},update:function(e,t,n){return null==e?e:Oh(e,t,ul(n))},updateWith:function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Oh(e,t,ul(n),r)},values:lu,valuesIn:function(e){return null==e?[]:su(e,Zn(e))}},ep={at:Hh,chain:Qi,commit:function(){return new Ke(this.value(),this.__chain__)},lodash:Xe,next:function(){void 0===this.__values__&&(this.__values__=hc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},plant:function(e){for(var t,n=this;n instanceof De;){var r=Ze(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},reverse:function(){var e=this.__wrapped__;if(e instanceof We){var t=e;return this.__actions__.length&&(t=new We(this)),(t=t.reverse()).__actions__.push({func:ch,args:[Pd],thisArg:void 0}),new Ke(t,this.__chain__)}return this.thru(Pd)},tap:function(e,t){return t(e),e},thru:ch,toIterator:function(){return this},toJSON:fh,value:fh,valueOf:fh,wrapperChain:function(){return Qi(this)}},tp={camelCase:Ki,capitalize:fi,deburr:bi,endsWith:function(e,t,n){e=vr(e),t=V(t);var r=e.length,i=n=void 0===n?r:no(le(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},escape:wl,escapeRegExp:function(e){return(e=vr(e))&&kl.test(e)?e.replace(Cl,"\\$&"):e},kebabCase:Gu,lowerCase:Uu,lowerFirst:Ku,pad:function(e,t,n){e=vr(e);var r=(t=le(t))?Vc(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Uc(Jc(i),n)+e+Uc(Kc(i),n)},padEnd:function(e,t,n){e=vr(e);var r=(t=le(t))?Vc(e):0;return t&&r<t?e+Uc(t-r,n):e},padStart:function(e,t,n){e=vr(e);var r=(t=le(t))?Vc(e):0;return t&&r<t?Uc(t-r,n)+e:e},parseInt:function(e,t,n){return n||null==t?t=0:t&&(t=+t),Yc(vr(e).replace(Zc,""),t||0)},repeat:function(e,t,n){return t=(n?gn(e,t,n):void 0===t)?1:le(t),_c(vr(e),t)},replace:function(){var e=arguments,t=vr(e[0]);return e.length<3?t:t.replace(e[1],e[2])},snakeCase:Ld,split:function(e,t,n){return n&&"number"!=typeof n&&gn(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=vr(e))&&("string"==typeof t||null!=t&&!Du(t))&&!(t=V(t))&&Xr(e)?Zr(di(e),0,n):e.split(t,n):[]},startCase:qd,startsWith:function(e,t,n){return e=vr(e),n=null==n?0:no(le(n),0,e.length),t=V(t),e.slice(n,n+t.length)==t},template:function(e,t,n){var r=th.imports._.templateSettings||th;n&&gn(e,t,n)&&(t=void 0),e=vr(e),t=Xn({},t,r,Yd);var i,o,a=Xn({},t.imports,r.imports,Yd),s=Vn(a),l=su(a,s),u=0,c=t.interpolate||sh,d="__p += '",h=RegExp((t.escape||sh).source+"|"+c.source+"|"+(c===eh?ah:sh).source+"|"+(t.evaluate||sh).source+"|$","g"),p=uh.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(h,(function(t,n,r,a,s,l){return r||(r=a),d+=e.slice(u,l).replace(lh,Qd),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),d+="';\n";var f=uh.call(t,"variable")&&t.variable;if(f){if(oh.test(f))throw new Error("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(nh,""):d).replace(rh,"$1").replace(ih,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Gr((function(){return Function(s,p+"return "+d).apply(void 0,l)}));if(m.source=d,Wr(m))throw m;return m},templateSettings:th,toLower:function(e){return vr(e).toLowerCase()},toUpper:function(e){return vr(e).toUpperCase()},trim:function(e,t,n){if((e=vr(e))&&(n||void 0===t))return Y(e);if(!e||!(t=V(t)))return e;var r=di(e),i=di(t);return Zr(r,Rh(r,i),gh(r,i)+1).join("")},trimEnd:function(e,t,n){if((e=vr(e))&&(n||void 0===t))return e.slice(0,J(e)+1);if(!e||!(t=V(t)))return e;var r=di(e);return Zr(r,0,gh(r,di(t))+1).join("")},trimStart:function(e,t,n){if((e=vr(e))&&(n||void 0===t))return e.replace(vh,"");if(!e||!(t=V(t)))return e;var r=di(e);return Zr(r,Rh(r,di(t))).join("")},truncate:function(e,t){var n=30,r="...";if(X(t)){var i="separator"in t?t.separator:i;n="length"in t?le(t.length):n,r="omission"in t?V(t.omission):r}var o=(e=vr(e)).length;if(Xr(e)){var a=di(e);o=a.length}if(n>=o)return e;var s=n-Vc(r);if(s<1)return r;var l=a?Zr(a,0,s).join(""):e.slice(0,s);if(void 0===i)return l+r;if(a&&(s+=l.length-s),Du(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=RegExp(i.source,vr(yh.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,void 0===d?s:d)}}else if(e.indexOf(V(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},unescape:function(e){return(e=vr(e))&&wh.test(e)?e.replace(Sh,bh):e},upperCase:Fh,upperFirst:pi,words:Vi},np={attempt:Gr,bindAll:Ur,cond:function(e){var t=null==e?0:e.length,n=Ss;return e=t?D(e,(function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[n(e[0]),e[1]]})):[],hn((function(n){for(var r=-1;++r<t;){var i=e[r];if(Le(i[0],this,n))return Le(i[1],this,n)}}))},conforms:function(e){return function(e){var t=Vn(e);return function(n){return ws(n,e,t)}}(wa(e,1))},constant:at,defaultTo:function(e,t){return null==e||e!=e?t:e},flow:ql,flowRight:Ul,identity:ue,iteratee:function(e){return Ss("function"==typeof e?e:wa(e,1))},matches:function(e){return hs(wa(e,1))},matchesProperty:function(e,t){return vs(e,wa(t,1))},method:rc,methodOf:ic,mixin:oc,noop:Ge,nthArg:function(e){return e=le(e),hn((function(t){return pc(t,e)}))},over:Cc,overEvery:xc,overSome:Mc,property:bs,propertyOf:function(e){return function(t){return null==e?void 0:wr(e,t)}},range:bd,rangeRight:Sd,stubArray:po,stubFalse:Pn,stubObject:function(){return{}},stubString:function(){return""},stubTrue:function(){return!0},times:function(e,t){if((e=le(e))<1||e>9007199254740991)return[];var n=dh,r=hh(e,dh);t=ul(t),e-=dh;for(var i=bn(r,t);++n<e;)t(n);return i},toPath:function(e){return j(e)?D(e,Sr):T(e)?[e]:Je(Rr(vr(e)))},uniqueId:function(e){var t=++Eh;return vr(e)+t}};var rp=Math.max,ip=Math.min;var op=Math.min;
/**
	 * @license
	 * Lodash (Custom Build) <https://lodash.com/>
	 * Build: `lodash modularize exports="es" -o ./`
	 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	 * Released under MIT license <https://lodash.com/license>
	 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	 */
var ap,sp=4294967295,lp=Array.prototype,up=Object.prototype.hasOwnProperty,cp=B?B.iterator:void 0,dp=Math.max,hp=Math.min,pp=function(e){return function(t,n,r){if(null==r){var i=X(n),o=i&&Vn(n),a=o&&o.length&&Kl(n,o);(a?a.length:i)||(r=n,n=t,t=this)}return e(t,n,r)}}(oc);Xe.after=Uh.after,Xe.ary=Uh.ary,Xe.assign=Qh.assign,Xe.assignIn=Qh.assignIn,Xe.assignInWith=Qh.assignInWith,Xe.assignWith=Qh.assignWith,Xe.at=Qh.at,Xe.before=Uh.before,Xe.bind=Uh.bind,Xe.bindAll=np.bindAll,Xe.bindKey=Uh.bindKey,Xe.castArray=Kh.castArray,Xe.chain=ep.chain,Xe.chunk=zh.chunk,Xe.compact=zh.compact,Xe.concat=zh.concat,Xe.cond=np.cond,Xe.conforms=np.conforms,Xe.constant=np.constant,Xe.countBy=Vh.countBy,Xe.create=Qh.create,Xe.curry=Uh.curry,Xe.curryRight=Uh.curryRight,Xe.debounce=Uh.debounce,Xe.defaults=Qh.defaults,Xe.defaultsDeep=Qh.defaultsDeep,Xe.defer=Uh.defer,Xe.delay=Uh.delay,Xe.difference=zh.difference,Xe.differenceBy=zh.differenceBy,Xe.differenceWith=zh.differenceWith,Xe.drop=zh.drop,Xe.dropRight=zh.dropRight,Xe.dropRightWhile=zh.dropRightWhile,Xe.dropWhile=zh.dropWhile,Xe.fill=zh.fill,Xe.filter=Vh.filter,Xe.flatMap=Vh.flatMap,Xe.flatMapDeep=Vh.flatMapDeep,Xe.flatMapDepth=Vh.flatMapDepth,Xe.flatten=zh.flatten,Xe.flattenDeep=zh.flattenDeep,Xe.flattenDepth=zh.flattenDepth,Xe.flip=Uh.flip,Xe.flow=np.flow,Xe.flowRight=np.flowRight,Xe.fromPairs=zh.fromPairs,Xe.functions=Qh.functions,Xe.functionsIn=Qh.functionsIn,Xe.groupBy=Vh.groupBy,Xe.initial=zh.initial,Xe.intersection=zh.intersection,Xe.intersectionBy=zh.intersectionBy,Xe.intersectionWith=zh.intersectionWith,Xe.invert=Qh.invert,Xe.invertBy=Qh.invertBy,Xe.invokeMap=Vh.invokeMap,Xe.iteratee=np.iteratee,Xe.keyBy=Vh.keyBy,Xe.keys=Vn,Xe.keysIn=Qh.keysIn,Xe.map=Vh.map,Xe.mapKeys=Qh.mapKeys,Xe.mapValues=Qh.mapValues,Xe.matches=np.matches,Xe.matchesProperty=np.matchesProperty,Xe.memoize=Uh.memoize,Xe.merge=Qh.merge,Xe.mergeWith=Qh.mergeWith,Xe.method=np.method,Xe.methodOf=np.methodOf,Xe.mixin=pp,Xe.negate=lc,Xe.nthArg=np.nthArg,Xe.omit=Qh.omit,Xe.omitBy=Qh.omitBy,Xe.once=Uh.once,Xe.orderBy=Vh.orderBy,Xe.over=np.over,Xe.overArgs=Uh.overArgs,Xe.overEvery=np.overEvery,Xe.overSome=np.overSome,Xe.partial=Uh.partial,Xe.partialRight=Uh.partialRight,Xe.partition=Vh.partition,Xe.pick=Qh.pick,Xe.pickBy=Qh.pickBy,Xe.property=np.property,Xe.propertyOf=np.propertyOf,Xe.pull=zh.pull,Xe.pullAll=zh.pullAll,Xe.pullAllBy=zh.pullAllBy,Xe.pullAllWith=zh.pullAllWith,Xe.pullAt=zh.pullAt,Xe.range=np.range,Xe.rangeRight=np.rangeRight,Xe.rearg=Uh.rearg,Xe.reject=Vh.reject,Xe.remove=zh.remove,Xe.rest=Uh.rest,Xe.reverse=zh.reverse,Xe.sampleSize=Vh.sampleSize,Xe.set=Qh.set,Xe.setWith=Qh.setWith,Xe.shuffle=Vh.shuffle,Xe.slice=zh.slice,Xe.sortBy=Vh.sortBy,Xe.sortedUniq=zh.sortedUniq,Xe.sortedUniqBy=zh.sortedUniqBy,Xe.split=tp.split,Xe.spread=Uh.spread,Xe.tail=zh.tail,Xe.take=zh.take,Xe.takeRight=zh.takeRight,Xe.takeRightWhile=zh.takeRightWhile,Xe.takeWhile=zh.takeWhile,Xe.tap=ep.tap,Xe.throttle=Uh.throttle,Xe.thru=ch,Xe.toArray=Kh.toArray,Xe.toPairs=Qh.toPairs,Xe.toPairsIn=Qh.toPairsIn,Xe.toPath=np.toPath,Xe.toPlainObject=Kh.toPlainObject,Xe.transform=Qh.transform,Xe.unary=Uh.unary,Xe.union=zh.union,Xe.unionBy=zh.unionBy,Xe.unionWith=zh.unionWith,Xe.uniq=zh.uniq,Xe.uniqBy=zh.uniqBy,Xe.uniqWith=zh.uniqWith,Xe.unset=Qh.unset,Xe.unzip=zh.unzip,Xe.unzipWith=zh.unzipWith,Xe.update=Qh.update,Xe.updateWith=Qh.updateWith,Xe.values=Qh.values,Xe.valuesIn=Qh.valuesIn,Xe.without=zh.without,Xe.words=tp.words,Xe.wrap=Uh.wrap,Xe.xor=zh.xor,Xe.xorBy=zh.xorBy,Xe.xorWith=zh.xorWith,Xe.zip=zh.zip,Xe.zipObject=zh.zipObject,Xe.zipObjectDeep=zh.zipObjectDeep,Xe.zipWith=zh.zipWith,Xe.entries=Qh.toPairs,Xe.entriesIn=Qh.toPairsIn,Xe.extend=Qh.assignIn,Xe.extendWith=Qh.assignInWith,pp(Xe,Xe),Xe.add=Jh.add,Xe.attempt=np.attempt,Xe.camelCase=tp.camelCase,Xe.capitalize=tp.capitalize,Xe.ceil=Jh.ceil,Xe.clamp=Zh,Xe.clone=Kh.clone,Xe.cloneDeep=Kh.cloneDeep,Xe.cloneDeepWith=Kh.cloneDeepWith,Xe.cloneWith=Kh.cloneWith,Xe.conformsTo=Kh.conformsTo,Xe.deburr=tp.deburr,Xe.defaultTo=np.defaultTo,Xe.divide=Jh.divide,Xe.endsWith=tp.endsWith,Xe.eq=Kh.eq,Xe.escape=tp.escape,Xe.escapeRegExp=tp.escapeRegExp,Xe.every=Vh.every,Xe.find=Vh.find,Xe.findIndex=zh.findIndex,Xe.findKey=Qh.findKey,Xe.findLast=Vh.findLast,Xe.findLastIndex=zh.findLastIndex,Xe.findLastKey=Qh.findLastKey,Xe.floor=Jh.floor,Xe.forEach=Vh.forEach,Xe.forEachRight=Vh.forEachRight,Xe.forIn=Qh.forIn,Xe.forInRight=Qh.forInRight,Xe.forOwn=Qh.forOwn,Xe.forOwnRight=Qh.forOwnRight,Xe.get=Qh.get,Xe.gt=Kh.gt,Xe.gte=Kh.gte,Xe.has=Qh.has,Xe.hasIn=Qh.hasIn,Xe.head=zh.head,Xe.identity=ue,Xe.includes=Vh.includes,Xe.indexOf=zh.indexOf,Xe.inRange=Yh,Xe.invoke=Qh.invoke,Xe.isArguments=Kh.isArguments,Xe.isArray=j,Xe.isArrayBuffer=Kh.isArrayBuffer,Xe.isArrayLike=Kh.isArrayLike,Xe.isArrayLikeObject=Kh.isArrayLikeObject,Xe.isBoolean=Kh.isBoolean,Xe.isBuffer=Kh.isBuffer,Xe.isDate=Kh.isDate,Xe.isElement=Kh.isElement,Xe.isEmpty=Kh.isEmpty,Xe.isEqual=Kh.isEqual,Xe.isEqualWith=Kh.isEqualWith,Xe.isError=Kh.isError,Xe.isFinite=Kh.isFinite,Xe.isFunction=Kh.isFunction,Xe.isInteger=Kh.isInteger,Xe.isLength=Kh.isLength,Xe.isMap=Kh.isMap,Xe.isMatch=Kh.isMatch,Xe.isMatchWith=Kh.isMatchWith,Xe.isNaN=Kh.isNaN,Xe.isNative=Kh.isNative,Xe.isNil=Kh.isNil,Xe.isNull=Kh.isNull,Xe.isNumber=Kh.isNumber,Xe.isObject=X,Xe.isObjectLike=Kh.isObjectLike,Xe.isPlainObject=Kh.isPlainObject,Xe.isRegExp=Kh.isRegExp,Xe.isSafeInteger=Kh.isSafeInteger,Xe.isSet=Kh.isSet,Xe.isString=Kh.isString,Xe.isSymbol=Kh.isSymbol,Xe.isTypedArray=Kh.isTypedArray,Xe.isUndefined=Kh.isUndefined,Xe.isWeakMap=Kh.isWeakMap,Xe.isWeakSet=Kh.isWeakSet,Xe.join=zh.join,Xe.kebabCase=tp.kebabCase,Xe.last=il,Xe.lastIndexOf=zh.lastIndexOf,Xe.lowerCase=tp.lowerCase,Xe.lowerFirst=tp.lowerFirst,Xe.lt=Kh.lt,Xe.lte=Kh.lte,Xe.max=Jh.max,Xe.maxBy=Jh.maxBy,Xe.mean=Jh.mean,Xe.meanBy=Jh.meanBy,Xe.min=Jh.min,Xe.minBy=Jh.minBy,Xe.stubArray=np.stubArray,Xe.stubFalse=np.stubFalse,Xe.stubObject=np.stubObject,Xe.stubString=np.stubString,Xe.stubTrue=np.stubTrue,Xe.multiply=Jh.multiply,Xe.nth=zh.nth,Xe.noop=np.noop,Xe.now=qh,Xe.pad=tp.pad,Xe.padEnd=tp.padEnd,Xe.padStart=tp.padStart,Xe.parseInt=tp.parseInt,Xe.random=Xh,Xe.reduce=Vh.reduce,Xe.reduceRight=Vh.reduceRight,Xe.repeat=tp.repeat,Xe.replace=tp.replace,Xe.result=Qh.result,Xe.round=Jh.round,Xe.sample=Vh.sample,Xe.size=Vh.size,Xe.snakeCase=tp.snakeCase,Xe.some=Vh.some,Xe.sortedIndex=zh.sortedIndex,Xe.sortedIndexBy=zh.sortedIndexBy,Xe.sortedIndexOf=zh.sortedIndexOf,Xe.sortedLastIndex=zh.sortedLastIndex,Xe.sortedLastIndexBy=zh.sortedLastIndexBy,Xe.sortedLastIndexOf=zh.sortedLastIndexOf,Xe.startCase=tp.startCase,Xe.startsWith=tp.startsWith,Xe.subtract=Jh.subtract,Xe.sum=Jh.sum,Xe.sumBy=Jh.sumBy,Xe.template=tp.template,Xe.times=np.times,Xe.toFinite=Kh.toFinite,Xe.toInteger=le,Xe.toLength=Kh.toLength,Xe.toLower=tp.toLower,Xe.toNumber=Kh.toNumber,Xe.toSafeInteger=Kh.toSafeInteger,Xe.toString=Kh.toString,Xe.toUpper=tp.toUpper,Xe.trim=tp.trim,Xe.trimEnd=tp.trimEnd,Xe.trimStart=tp.trimStart,Xe.truncate=tp.truncate,Xe.unescape=tp.unescape,Xe.uniqueId=np.uniqueId,Xe.upperCase=tp.upperCase,Xe.upperFirst=tp.upperFirst,Xe.each=Vh.forEach,Xe.eachRight=Vh.forEachRight,Xe.first=zh.head,pp(Xe,(ap={},Ps(Xe,(function(e,t){up.call(Xe.prototype,t)||(ap[t]=e)})),ap),{chain:!1}),Xe.VERSION="4.17.21",(Xe.templateSettings=tp.templateSettings).imports._=Xe,ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Xe[e].placeholder=Xe})),ct(["drop","take"],(function(e,t){We.prototype[e]=function(n){n=void 0===n?1:dp(le(n),0);var r=this.__filtered__&&!t?new We(this):this.clone();return r.__filtered__?r.__takeCount__=hp(n,r.__takeCount__):r.__views__.push({size:hp(n,sp),type:e+(r.__dir__<0?"Right":"")}),r},We.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;We.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ss(e),type:n}),t.__filtered__=t.__filtered__||r,t}})),ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");We.prototype[e]=function(){return this[n](1).value()[0]}})),ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");We.prototype[e]=function(){return this.__filtered__?new We(this):this[n](1)}})),We.prototype.compact=function(){return this.filter(ue)},We.prototype.find=function(e){return this.filter(e).head()},We.prototype.findLast=function(e){return this.reverse().find(e)},We.prototype.invokeMap=hn((function(e,t){return"function"==typeof e?new We(this):this.map((function(n){return Bu(n,e,t)}))})),We.prototype.reject=function(e){return this.filter(lc(Ss(e)))},We.prototype.slice=function(e,t){e=le(e);var n=this;return n.__filtered__&&(e>0||t<0)?new We(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=le(t))<0?n.dropRight(-t):n.take(t-e)),n)},We.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},We.prototype.toArray=function(){return this.take(sp)},Ps(We.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Xe[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Xe.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof We,l=a[0],u=s||j(t),c=function(e){var t=i.apply(Xe,Br([e],a));return r&&d?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var d=this.__chain__,h=!!this.__actions__.length,p=o&&!d,f=s&&!h;if(!o&&u){t=f?t:new We(this);var m=e.apply(t,a);return m.__actions__.push({func:ch,args:[c],thisArg:void 0}),new Ke(m,d)}return p&&f?e.apply(this,a):(m=this.thru(c),p?r?m.value()[0]:m.value():m)})})),ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=lp[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Xe.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(j(i)?i:[],e)}return this[n]((function(n){return t.apply(j(n)?n:[],e)}))}})),Ps(We.prototype,(function(e,t){var n=Xe[t];if(n){var r=n.name+"";up.call(Ve,r)||(Ve[r]=[]),Ve[r].push({name:t,func:n})}})),Ve[Tt(void 0,2).name]=[{name:"wrapper",func:void 0}],We.prototype.clone=function(){var e=new We(this.__wrapped__);return e.__actions__=Je(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Je(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Je(this.__views__),e},We.prototype.reverse=function(){if(this.__filtered__){var e=new We(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},We.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=j(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=ip(t,e+a);break;case"takeRight":e=rp(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,h=0,p=op(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return ph(e,this.__actions__);var f=[];e:for(;l--&&h<p;){for(var m=-1,g=e[u+=t];++m<d;){var R=c[m],v=R.iteratee,y=R.type,b=v(g);if(2==y)g=b;else if(!b){if(1==y)continue e;break e}}f[h++]=g}return f},Xe.prototype.at=ep.at,Xe.prototype.chain=ep.wrapperChain,Xe.prototype.commit=ep.commit,Xe.prototype.next=ep.next,Xe.prototype.plant=ep.plant,Xe.prototype.reverse=ep.reverse,Xe.prototype.toJSON=Xe.prototype.valueOf=Xe.prototype.value=ep.value,Xe.prototype.first=Xe.prototype.head,cp&&(Xe.prototype[cp]=ep.toIterator)
/**
	 * @license
	 * Lodash (Custom Build) <https://lodash.com/>
	 * Build: `lodash modularize exports="es" -o ./`
	 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	 * Released under MIT license <https://lodash.com/license>
	 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	 */;var fp={};!function(e){!function(){const t="1.2.0";function n(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function i(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function o(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const a=new Map,s=new Set;function l(e){s.has(e)||(s.add(e),console.warn(e))}function u(e){const t=[],n=new Map,r=new Set;for(const i of p.values()){const o=i.patching.get(e.name);if(o){t.push(...o.hooks);for(const[t,a]of o.patches.entries())n.has(t)&&n.get(t)!==a&&l(`ModSDK: Mod '${i.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${n.get(t)||""}\nPatch2:\n${a}`),n.set(t,a),r.add(i.name)}}t.sort(((e,t)=>t.priority-e.priority));const i=function(e,t){if(0===t.size)return e;let n=e.toString().replaceAll("\r\n","\n");for(const[r,i]of t.entries())n.includes(r)||l(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),n=n.replaceAll(r,i);return(0,eval)(`(${n})`)}(e.original,n);let o=function(t){var n,o;const a=null===(o=(n=R.errorReporterHooks).hookChainExit)||void 0===o?void 0:o.call(n,e.name,r),s=i.apply(this,t);return null==a||a(),s};for(let n=t.length-1;n>=0;n--){const r=t[n],i=o;o=function(t){var n,o;const a=null===(o=(n=R.errorReporterHooks).hookEnter)||void 0===o?void 0:o.call(n,e.name,r.mod),s=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return i.call(this,e)}]);return null==a||a(),s}}return{hooks:t,patches:n,patchesSources:r,enter:o,final:i}}function c(e,t=!1){let n=a.get(e);if(n)t&&(n.precomputed=u(n));else{let t=window;const o=e.split(".");for(let n=0;n<o.length-1;n++)if(t=t[o[n]],!i(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${o.slice(0,n+1).join(".")} is not object`);const s=t[o[o.length-1]];if("function"!=typeof s)throw new Error(`ModSDK: Function ${e} to be patched not found`);const l=function(e){let t=-1;for(const n of r.encode(e)){let e=255&(t^n);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(s.toString().replaceAll("\r\n","\n")),c={name:e,original:s,originalHash:l};n=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:o[o.length-1]}),n.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(n),a.set(e,n),t[n.contextProperty]=n.router}return n}function d(){for(const e of a.values())e.precomputed=u(e)}function h(){const e=new Map;for(const[t,n]of a)e.set(t,{name:t,original:n.original,originalHash:n.originalHash,sdkEntrypoint:n.router,currentEntrypoint:n.context[n.contextProperty],hookedByMods:o(n.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(n.precomputed.patchesSources)});return e}const p=new Map;function f(e){p.get(e.name)!==e&&n(`Failed to unload mod '${e.name}': Not registered`),p.delete(e.name),e.loaded=!1,d()}function m(e,t){e&&"object"==typeof e||n("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||n("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||n(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&n(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&n(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||n(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const o=!0===t.allowReplace,a=p.get(e.name);a&&(a.allowReplace&&o||n(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),f(a));const s=e=>{let t=h.patching.get(e.name);return t||(t={hooks:[],patches:new Map},h.patching.set(e.name,t)),t},l=(e,t)=>(...i)=>{var o,a;const s=null===(a=(o=R.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(o,e,h.name);h.loaded||n(`Mod ${r} attempted to call SDK function after being unloaded`);const l=t(...i);return null==s||s(),l},u={unload:l("unload",(()=>f(h))),hookFunction:l("hookFunction",((e,t,i)=>{"string"==typeof e&&e||n(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const o=c(e),a=s(o);"number"!=typeof t&&n(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof i&&n(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof i}`);const l={mod:h.name,priority:t,hook:i};return a.hooks.push(l),d(),()=>{const e=a.hooks.indexOf(l);e>=0&&(a.hooks.splice(e,1),d())}})),patchFunction:l("patchFunction",((e,t)=>{"string"==typeof e&&e||n(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const o=c(e),a=s(o);i(t)||n(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[i,o]of Object.entries(t))"string"==typeof o?a.patches.set(i,o):null===o?a.patches.delete(i):n(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${i}'`);d()})),removePatches:l("removePatches",(e=>{"string"==typeof e&&e||n(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);s(t).patches.clear(),d()})),callOriginal:l("callOriginal",((e,t,i)=>{"string"==typeof e&&e||n(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const o=c(e);return Array.isArray(t)||n(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),o.original.apply(null!=i?i:globalThis,t)})),getOriginalHash:l("getOriginalHash",(e=>("string"==typeof e&&e||n(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)))},h={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:o,api:u,loaded:!0,patching:new Map};return p.set(e.name,h),Object.freeze(u)}function g(){const e=[];for(const t of p.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let R;const v=void 0===window.bcModSdk?window.bcModSdk=function(){const e={version:t,apiVersion:1,registerMod:m,getModsInfo:g,getPatchingInfo:h,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return R=e,Object.freeze(e)}():(i(window.bcModSdk)||n("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&n(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==t&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(e,"__esModule",{value:!0}),e.default=v}()}(fp);var mp,gp,Rp,vp,yp,bp,Sp=r(fp);const wp=Object.freeze(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),Cp=/^(v?)([0-9]+)\.([0-9]+)\.([0-9]+)(\.\S+)?$/;mp=new WeakSet,gp=function(e,t){const n=new Date(Date.now());console[e]("MBS:",...t),this.push({date:n,level:e,args:t})};const kp=new class extends Array{constructor(){super(...arguments),mp.add(this)}debug(...e){b(this,mp,"m",gp).call(this,"debug",e)}log(...e){b(this,mp,"m",gp).call(this,"log",e)}warn(...e){b(this,mp,"m",gp).call(this,"warn",e)}error(...e){b(this,mp,"m",gp).call(this,"error",e)}toJSON(){return this.map((e=>({date:e.date.toUTCString(),level:e.level,args:e.args.map((e=>e instanceof Map||e instanceof Set?Array.from(e):e))})))}};function Bp(e,t,n=-1/0,r=1/0){if(!(Number.isInteger(e)&&e>=n&&e<=r))throw"number"!=typeof e?new TypeError(`Invalid "${t}" type: ${typeof e}`):Number.isInteger(e)?new RangeError(`"${t}" must fall in the [${n}, ${r}] interval: ${e}`):new Error(`"${t}" must be an integer: ${e}`)}function Pp(e,t,n){if(Bp(t,"n",0),!Array.isArray(e))throw new TypeError('Invalid "list" type: '+typeof e);const r=t-e.length;return r>0&&e.push(...Array(r).fill(n)),e}function xp(e,t){if(Bp(t,"n",0),!Array.isArray(e))throw new TypeError('Invalid "list" type: '+typeof e);const n=e.length-t;return n>0&&e.splice(t,n),e}function Mp(e){if(!Ap(e))throw new TypeError('Invalid "list" type: '+typeof e);if(0===e.length)throw new Error('Passed "list" must contain at least 1 item');return e[gd(0,e.length-1,!1)]}function Ep(e){return Bp(e,"n",0,8),bd(0,e).map((e=>Mp(wp))).join("")}async function Ip(e,t=100){for(;!e();)await new Promise((e=>setTimeout(e,t)));return!0}const _p=Sp.registerMod({name:"MBS",fullName:"Maid's Bondage Scripts",repository:"https://github.com/bananarama92/MBS",version:t});Rp=new WeakMap;const $p=new class{constructor(){Rp.set(this,null)}get modName(){return"MBS"}getRuleState(e){return null===b(this,Rp,"f")&&"undefined"!=typeof bcx&&S(this,Rp,bcx.getModApi("MBS"),"f"),b(this,Rp,"f")?.getRuleState(e)??null}};function Op(e,t){let n=`${e}(`;return n+=Object.values(t).map((e=>String(e))).join(", "),n+=")",n}class Fp{get index(){return b(this,yp,"f")}set index(e){this.setPosition(e)}get value(){return b(this,vp,"f")[b(this,yp,"f")]}get list(){return b(this,vp,"f")}constructor(e,t=0){if(vp.set(this,void 0),yp.set(this,void 0),!Hp(e))throw new TypeError('Invalid "iterable" type: '+typeof e);const n=Object.freeze([...e]);if(0===n.length)throw new Error('Passed "iterable" must contain at least one element');Bp(t,"index",0,n.length-1),S(this,vp,n,"f"),S(this,yp,t,"f")}*[(vp=new WeakMap,yp=new WeakMap,Symbol.iterator)](){for(;;)yield this.next()}next(e=!0){const t=(b(this,yp,"f")+1)%b(this,vp,"f").length;return e&&S(this,yp,t,"f"),b(this,vp,"f")[t]}previous(e=!0){const t=(b(this,yp,"f")+b(this,vp,"f").length-1)%b(this,vp,"f").length;return e&&S(this,yp,t,"f"),b(this,vp,"f")[t]}setPosition(e){Bp(e,"index",0,b(this,vp,"f").length-1),S(this,yp,e,"f")}toString(){return Op(typeof this,this.toJSON())}toJSON(){return{list:this.list,index:this.index}}}function Lp(e,t){if(Bp(e,"start",0,65535),!Ap(t))throw new TypeError('Invalid "indices" type: '+typeof t);const n=e+Math.max(0,...t)+1;Bp(n,"stop",e+1,65535);const r=bd(e,n);return t.map((e=>String.fromCharCode(r[e])))}function Hp(e){return Symbol.iterator in Object(e)}class Tp{constructor(e=0,t=0,n=0,r=!1){if(bp.set(this,void 0),Bp(e,"major",0,65535),Bp(t,"minor",0,65535),Bp(n,"micro",0,65535),"boolean"!=typeof r)throw new TypeError('Invalid "beta" type: '+typeof r);this.major=e,this.minor=t,this.micro=n,this.beta=r,S(this,bp,[e,t,n].map((e=>String.fromCharCode(e)))+String.fromCharCode(r?0:1),"f"),Object.freeze(this)}equal(e){return e instanceof Tp&&this.valueOf()===e.valueOf()}greater(e){return e instanceof Tp&&this.valueOf()>e.valueOf()}lesser(e){return e instanceof Tp&&this.valueOf()<e.valueOf()}greaterOrEqual(e){return e instanceof Tp&&this.valueOf()>=e.valueOf()}lesserOrEqual(e){return e instanceof Tp&&this.valueOf()<=e.valueOf()}static fromVersion(e){const t=Cp.exec(e);if(null===t)throw new Error(`Invalid "version": ${e}`);return new Tp(Number(t[2]),Number(t[3]),Number(t[4]),void 0!==t[5])}static fromBCVersion(e){const t=GameVersionFormat.exec(e);if(null===t)throw new Error(`Invalid BC version: "${e}"`);return new Tp(Number(t[1]),0,0,void 0!==t[2])}toString(){return Op(typeof this,this.toJSON())}valueOf(){return b(this,bp,"f")}toJSON(){return{major:this.major,minor:this.minor,micro:this.micro,beta:this.beta}}}function Ap(e){return Array.isArray(e)}function Np(e){return Object.entries(e)}function Dp(e){return Object.fromEntries(e)}function jp(e,t){return e.includes(t)}function Wp(e){return Number.isInteger(e)}bp=new WeakMap;const Gp=Object.freeze(Object.fromEntries([["CraftingSaveServer",["025B434F"]],["CraftingClick",["FF1A7B21"]],["CraftingRun",["5BE6E125"]],["MainHallRun",["735A1207","D587AD40"]],["MainHallClick",["7A6D741A"]],["ServerPlayerIsInChatRoom",["E3771112"]],["WheelFortuneLoad",["204D57D4"]],["WheelFortuneClick",["21CCD6B4"]],["WheelFortuneRun",["A59DA22A","150059B6"]],["WheelFortuneMouseUp",["1465BDFA"]],["WheelFortuneMouseDown",["306C80B6"]],["WheelFortuneCustomizeLoad",["97F0A81E"]]].map((e=>{const[t,n]=e,r=new Set(n.filter((e=>null!=e)));return[t,Object.freeze(r)]}))));function zp(e,t,n){if(gR(t),null===e||"object"!=typeof e)throw new TypeError('Invalid "item" type: '+typeof e);ExtendedItemSetOptionByRecord(t,e,n,{refresh:!1,push:!1})}function Vp(e,t,n){const r={Asset:e};return ExtendedItemInit(t,r,!1,!1),n&&zp(r,t,n),r.Property??{}}const qp=Object.freeze({NONE:0,CLOTHES:1,UNDERWEAR:2,COSPLAY:3,ALL:4});let Up;function Kp(e,t){switch(e){case qp.NONE:return()=>!1;case qp.CLOTHES:return e=>e.Group.AllowNone&&!e.BodyCosplay&&!e.Group.Underwear;case qp.UNDERWEAR:return e=>e.Group.AllowNone&&!e.BodyCosplay;case qp.COSPLAY:return e=>!RR(t)?e.Group.AllowNone&&!e.BodyCosplay:e.Group.AllowNone;case qp.ALL:return e=>!!RR(t)||e.Group.AllowNone&&!e.BodyCosplay;default:throw new Error(`Invalid "stripLevel" value: ${e}`)}}function Jp(e,t){if(void 0===t)return[-1,!1];if(void 0!==t.priority&&void 0!==t.blocksSubSet)return[t.priority,t.blocksSubSet];if(0===t.block.size)return t.priority=0,t.blocksSubSet=!1,[t.priority,t.blocksSubSet];{const n=[];for(const r of t.block)n.push(Jp(e,e.get(r)));return t.priority=1+Math.max(0,...n.map((e=>e[0]))),t.blocksSubSet=t.superSet&&n.some((e=>e[1])),[t.priority,t.blocksSubSet]}}function Zp(e,t,n=[]){if(!Ap(e))throw new TypeError('Invalid "itemList" type: '+typeof e);const r=new Map;[e,n].forEach(((e,n)=>{for(const{Group:i,Name:o,TypeRecord:a}of e){if(r.has(i))continue;const e=AssetGet(t.AssetFamily,i,o);if(null==e)throw new Error(`Unknown asset: ${i}${o}`);if("Item"!==e.Group.Category)continue;const s=Vp(e,t,a),l={superSet:1===n,block:new Set(...e.Block??[],...s.Block??[])};(e.Effect?.includes("Enclose")||s.Effect?.includes("Enclose"))&&(l.priority=AssetGroup.length,l.blocksSubSet=l.superSet),r.set(i,l)}}));for(const[e,t]of r)Jp(r,t);return r}Ip(yR).then((()=>Up=CharacterLoadSimple("MBSDummy")));const Yp=new Map;function Xp(e,t){const n=InventoryGetLock(e);if(!InventoryItemHasEffect(e,"Lock"))return!0;if("Decoy"===e.Craft?.Property){if(null==n)return!1;return!["OwnerOnly","LoverOnly","FamilyOnly"].some((t=>n.Asset[t]||e.Asset[t]))}const r=$p.getRuleState("block_keyuse_self"),i=t.IsPlayer()&&r?.inEffect&&r?.isEnforced;switch(n?.Asset?.Name){case"SafewordPadlock":return!0;case"MetalPadlock":case"MistressPadlock":case"MistressTimerPadlock":case"PandoraPadlock":{if(i||LogQuery("KeyDeposit","Cell"))return!1;let e=Yp.get(`${t.ID}:${n.Asset.Name}`);return void 0===e&&(e=t.Inventory.some((e=>e.Asset.Name===`${n.Asset.Name}Key`)),Yp.set(`${t.ID}:${n.Asset.Name}`,e)),e}case"TimerPasswordPadlock":case"PasswordPadlock":case"CombinationPadlock":return Number(e.Property?.LockMemberNumber)===t.MemberNumber;case"HighSecurityPadlock":{const n=(e?.Property?.MemberNumberListKeys??"").split(",").map(Number);return!i&&jp(n,t.MemberNumber)}default:return!1}}function Qp(e,t,n,r=null,i=null,o=Player){if(!Ap(t))throw new TypeError('Invalid "itemList" type: '+typeof t);if(function(e){const t=e.Appearance.find((e=>InventoryItemHasEffect(e,"Enclose")));return null!=t&&!Xp(t,e)}(o))return void kp.log(`Failed to equip all "${e}" wheel of fortune items: cannot unlock enclosing item`);!function(e,t){gR(t);const n=Kp(e,t),r=t.Appearance;for(let e=r.length-1;e>=0;e--){const t=r[e].Asset;t.Group.AllowNone&&"Appearance"===t.Group.Category&&n(t)&&r.splice(e,1)}}(n,o),"function"==typeof i&&(t=i(t,o));const a=function(e,t,n){const r=Zp(e,n,t);return t.filter((e=>r.get(e.Group)?.blocksSubSet))}(t,o.Appearance.map((e=>({Group:e.Asset.Group.Name,Name:e.Asset.Name,TypeRecord:e.Property?.TypeRecord,NoEquip:!0}))),o);Yp.clear();const s={},l=new Set,u=o.IsPlayer()&&LogQuery("ClubSlave","Management");for(const{Name:e,Group:n,Equip:r,NoEquip:i}of[...a,...t]){const t=AssetGet(o.AssetFamily,n,e),a=InventoryGet(o,n),c="function"!=typeof r||r(o);if(null!=t)if(c){const e={InventoryGroupIsBlockedForCharacter:InventoryGroupIsBlockedForCharacter(o,n,!1),InventoryGroupIsBlockedByOwnerRule:InventoryGroupIsBlockedByOwnerRule(o,n),"Locked item equipped":null!=a&&!Xp(a,o)};i||(e.InventoryBlockedOrLimited=InventoryBlockedOrLimited(o,{Asset:t}),e.InventoryChatRoomAllow=!InventoryChatRoomAllow(t.Category??[]),e["Blocked via Club Slave Collar"]=u&&"Appearance"===t.Group.Category);const r=Np(e).filter((e=>e[1]));0!==r.length?s[t.Description]=r.map((e=>e[0])):null!=a&&InventoryRemove(o,n,!1)}else l.add(n);else s[e]=["Unknown asset"]}for(const{Name:e,Group:n,Craft:i,ItemCallback:a,Color:u,TypeRecord:c,Property:d}of t){const t=AssetGet(o.AssetFamily,n,e),h=s[t?.Description??e];if(null==t||void 0!==h||l.has(n))continue;if(!InventoryAllow(o,t,t.Prerequisite,!1)){s[t.Description]=["InventoryAllow"];continue}const p=[...u??t.DefaultColor],f=CharacterAppearanceSetItem(o,n,t,p,SkillGetWithRatio(o,"Bondage"),o.MemberNumber,!1);null!=f&&(c&&zp(f,o,c),void 0!==i&&(f.Craft=xa(i),InventoryCraft(o,o,n,f.Craft,!1,!1)),f.Property=Object.assign(f.Property??{},xa(d)),"function"==typeof a&&a(f,o),"function"==typeof r&&r(f,o))}if(CharacterRefresh(o,!1,!1),o.IsPlayer()){ChatRoomCharacterUpdate(o);const t=Object.values(s).length;0!==t&&kp.log(`Failed to equip ${t} "${e}" wheel of fortune items`,s)}}function ef(e,t,n){if("string"!=typeof t||!DynamicDrawTextRegex.test(t))return!1;const r=`${n.Group.Name}${n.Name}`,[i,o]=Np(TextItemDataLookup).find((([e])=>e.includes(r)))??["",null];return null!==o&&t.length<=(o.maxLength[e]??-1)}const tf=Object.freeze({OverridePriority:(e,t)=>{if(Wp(e))return!0;if(CommonIsObject(e)){const n=t.Layer.map((e=>e.Name));return Np(e).every((([e,t])=>n.includes(e)&&Wp(t)))}return!1},Opacity:(e,t)=>"number"==typeof e&&e<=t.MaxOpacity&&e>=t.MinOpacity,Text:(e,t)=>ef("Text",e,t),Text2:(e,t)=>ef("Text2",e,t),Text3:(e,t)=>ef("Text3",e,t),ShowText:(e,t)=>"boolean"==typeof e,TriggerValues:(e,t)=>"string"==typeof e&&e.split(",").length===ItemVulvaFuturisticVibratorTriggers.length,AccessMode:(e,t)=>"string"==typeof e&&ItemVulvaFuturisticVibratorAccessModes.includes(e),PunishOrgasm:(e,t)=>"boolean"==typeof e,PunishStandup:(e,t)=>"boolean"==typeof e,Texts:(e,t)=>!!Array.isArray(e)&&(!(e.length<ItemDevicesLuckyWheelMinTexts||e.length>ItemDevicesLuckyWheelMaxTexts)&&e.every((e=>"string"==typeof e&&e.length<=ItemDevicesLuckyWheelMaxTextLength))),TargetAngle:(e,t)=>"number"==typeof e&&e>=0&&e<=360,OverrideHeight:function(e,t){const n=VariableHeightDataLookup[`${t.Group.Name}${t.Name}`];if(void 0===n)return!1;const r=e;return null!==r&&"object"==typeof r&&Number.isInteger(r.Priority)&&"number"==typeof r.Height&&r.Height<=n.maxHeight&&r.Height>=n.minHeight&&(null==r.HeightRatioProportion||"number"==typeof r.HeightRatioProportion&&r.HeightRatioProportion>=0&&r.HeightRatioProportion<=1)},PunishStruggle:(e,t)=>"boolean"==typeof e,PunishStruggleOther:(e,t)=>"boolean"==typeof e,PunishRequiredSpeechWord:(e,t)=>"string"==typeof e&&e.length<=70,PunishProhibitedSpeechWords:(e,t)=>"string"==typeof e&&e.length<=70,PunishSpeech:(e,t)=>Wp(e)&&e>=0&&e<FuturisticTrainingBeltSpeechPunishments.length,PunishRequiredSpeech:(e,t)=>Wp(e)&&e>=0&&e<FuturisticTrainingBeltSpeechPunishments.length,PunishProhibitedSpeech:(e,t)=>Wp(e)&&e>=0&&e<FuturisticTrainingBeltSpeechPunishments.length,PublicModeCurrent:(e,t)=>Wp(e)&&e>=0&&e<FuturisticTrainingBeltModes.length,PublicModePermission:(e,t)=>Wp(e)&&e>=0&&e<FuturisticTrainingBeltPermissions.length,ShockLevel:(e,t)=>Wp(e)&&e>=0&&e<=2,PortalLinkCode:(e,t)=>"string"==typeof e&&PortalLinkCodeRegex.test(e)});function nf(e,t){if(null===t||"object"!=typeof t)return{};const n=new Set(["OverridePriority"]);if(e.Archetype){const r=ExtendedItemGatherOptions({Asset:e,Property:t});for(const e of r){"VariableHeightOption"===e.OptionType&&n.add("OverrideHeight");for(const t of CommonKeys(e.ParentData.baselineProperty??{}))CraftingPropertyExclude.has(t)||n.add(t)}}const r={};for(const[i,o]of Np(t)){const t=tf[i];null!=o&&n.has(i)&&void 0!==t&&(t(o,e)&&(r[i]=o))}return r}const rf=Object.freeze(new Map([["Unknown asset",e=>null==e],["Unsupported owner-only asset",e=>e?.OwnerOnly],["Unsupported lovers-only asset",e=>e?.LoverOnly],["Unsupported D/S family-only asset",e=>e?.FamilyOnly],["Unsupported disabled asset",e=>!e?.Enable],["Unsupported script-asset",e=>"Script"===e?.Group?.Category]]));function of(e,t,n=!0){for(const[n,r]of rf)if(r(e))throw new Error(`${n}: ${t.Group}${t.Name}`);let r,i;"string"==typeof t.Color?r=[t.Color]:Array.isArray(t.Color)&&t.Color.every((e=>"string"==typeof e))&&(r=[...t.Color]),null!==t.Craft&&"object"==typeof t.Craft&&(i=Object.assign(xa(t.Craft),{TypeRecord:void 0,OverridePriority:null,Lock:""}),CraftingValidate(i,e,!1));const o=t.Property??{};let a;return CommonIsObject(o.TypeRecord)?a=Object.freeze({...o.TypeRecord}):"string"==typeof o.Type||null===o.Type?a=ExtendedItemTypeToRecord(e,o.Type):"string"==typeof o.Mode&&(a=ExtendedItemTypeToRecord(e,o.Mode)),Object.freeze({Name:t.Name,Group:t.Group,Custom:n,Property:Object.freeze(nf(e,t.Property)),TypeRecord:a,Color:r,Craft:Object.freeze(i),ItemCallback:void 0,Equip:void 0})}function af(e,t){if(!Ap(e))throw new TypeError('Invalid "items" type: '+typeof e);return e.map((e=>function(e,t){const{Group:n,Name:r,Color:i,Craft:o,TypeRecord:a,Property:s}=e,l=AssetGet(t.AssetFamily,n,r);if(null==l)throw new Error(`Unknown asset: ${n}${r}`);return{Group:n,Name:r,Color:ka(i),Craft:ka(o),Property:Object.assign(Vp(l,t,a),xa(s))}}(e,t)))}var sf;class lf{constructor(e,t){this.screen="",this.parent=e,this.children=new Map,this.shape=t}load(){const e=CurrentScreen;CurrentScreenFunctions?.Unload?.(),ControllerIsActive()&&ControllerClearAreas(),CurrentScreen=this.screen,CurrentScreenFunctions=this.getFunctions(),CurrentDarkFactor=1,CommonGetFont.clearCache(),CommonGetFontName.clearCache(),CurrentScreenFunctions?.Resize?.(!0),"ChatSearch"!=e&&"ChatCreate"!=e||ChatRoomStimulationMessage("Walk")}exitScreens(e){if(!e)return void this.parent?.load();let t=this.parent;for(;null!==t&&!(t instanceof uf);)t.exit(),t=t.parent;t?.load()}getFunctions(){return{Run:this.run.bind(this),Click:this.click.bind(this),Load:this.load.bind(this),Unload:this.unload?.bind(this),Resize:this.resize?.bind(this),KeyDown:this.keyDown?.bind(this),Exit:this.exit.bind(this)}}}lf.background="Sheet",lf.screen="";class uf extends lf{constructor(e,t,n,r){super(e,[0,0,0,0]),this.module=t,this.background=n,this.screenFunctions=Object.freeze({...r})}run(e){return this.screenFunctions.Run(e)}click(e){return this.screenFunctions.Click(e)}load(){return this.screenFunctions.Load?.()}unload(){return this.screenFunctions.Unload?.()}resize(e){return this.screenFunctions.Resize?.(e)}keyDown(e){return this.screenFunctions.KeyDown?.(e)??!1}exit(){return this.screenFunctions.Exit?.()}}const cf=Object.freeze({NONE:0,SAVE:1,DELETE:2});class df extends lf{get index(){return b(this,sf,"f")}set index(e){Bp(e,"index",0,this.mbsList.length-1),S(this,sf,e,"f")}get mbsObject(){return this.mbsList[b(this,sf,"f")]}hasStorageSpace(){return null!==this.mbsList[this.index]||this.dataSize.value<=this.dataSize.max*this.dataSize.marigin}constructor(e,t,n,r,i){super(e,i),sf.set(this,0),this.character=r,this.mbsList=t,this.index=n,this.dataSize=Object.seal({value:0,valueRecord:{},max:dm,marigin:.9})}load(){const e=hm(this.character.OnlineSharedSettings);this.dataSize.value=Kd(Object.values(e),(e=>Number.isNaN(e)?0:e)),this.dataSize.valueRecord=e,super.load()}exit(e=!0,t=cf.NONE){if(!this.character.IsPlayer())return this.exitScreens(e);switch(t){case cf.NONE:break;case cf.SAVE:this.settings.isValid(this.index)&&this.hasStorageSpace()&&(this.mbsList[this.index]=this.settings.writeSettings(),this.mbsList[this.index]?.register());break;case cf.DELETE:{const e=this.mbsList[this.index];this.mbsList[this.index]=null,e?.unregister();break}default:throw new Error(`Unsupported action: ${t}`)}this.exitScreens(e)}}sf=new WeakMap;var hf,pf,ff,mf,gf;const Rf=Object.freeze({[qp.NONE]:"None",[qp.CLOTHES]:"Clothes",[qp.UNDERWEAR]:"Clothes and underwear",[qp.COSPLAY]:"Clothes, underwear and cosplay items",[qp.ALL]:"Clothes, underwear, cosplay items and body"});function vf(e){e=ro(e,60,14400);const t={h:0,m:0,s:0};return t.h=Math.floor(e/3600),e-=3600*t.h,t.m=Math.floor(e/60),e-=60*t.m,t.s=e,`${t.h.toString().padStart(2,"0")}:${t.m.toString().padStart(2,"0")}:${t.s.toString().padStart(2,"0")}`}function yf(e,t,n){return p("div",{id:e.inputID,class:"mbs-dropdown",onWheel:n=>{const r=document.getElementById(e.buttonID);if(r.disabled)return;let i;if(n.deltaY<0)i=ro(t[e.level]-1,qp.NONE,qp.COSPLAY);else{if(!(n.deltaY>0))return;i=ro(t[e.level]+1,qp.NONE,qp.COSPLAY)}t[e.level]=i,r.innerText=Rf[t[e.level]]},children:[h("button",{class:"mbs-button",disabled:n,id:e.buttonID,children:Rf[qp.UNDERWEAR]}),p("div",{class:"mbs-dropdown-content",id:e.dropdownID,children:[" ",Object.values(Rf).slice(0,4).map(((r,i)=>h("button",{class:"mbs-button mbs-dropdown-button",disabled:n,"data-level":i,id:e.optionID+i.toString(),style:{border:"unset",paddingTop:"min(1vh, 0.5vw)",paddingBottom:"min(1vh, 0.5vw)"},onClick:n=>{const r=n.target;t[e.level]=ro(Number.parseInt(r.dataset.level),qp.NONE,qp.COSPLAY);document.getElementById(e.buttonID).innerText=Rf[t[e.level]]},children:r})))," "]})]})}class bf extends df{constructor(e,t,n,r,i=[80,60,1840,880]){const o=!r.IsPlayer();super(e,t,n,r,i),hf.add(this),this.screen=bf.screen,this.settings=new kR(t),this.preview=CharacterLoadSimple("MBSFortuneWheelPreview"),document.body.appendChild(p("div",{id:wf.root,class:"HideOnPopup mbs-screen","screen-generated":this.screen,children:[h("style",{id:wf.styles,children:'#mbs-fwitemset {\n  grid-template: "delete header accept cancel exit" min(9vh, 4.5vw) "midDiv midDiv midDiv midDiv midDiv" min(18vh, 9vw) "botDiv botDiv botDiv botDiv botDiv" auto/min(9vh, 4.5vw) auto min(9vh, 4.5vw) min(9vh, 4.5vw) min(9vh, 4.5vw);\n}\n\n#mbs-fwitemset-delete {\n  grid-area: delete;\n}\n\n#mbs-fwitemset-header {\n  grid-area: header;\n  margin-left: min(20vh, 10vw);\n}\n\n#mbs-fwitemset-accept {\n  grid-area: accept;\n}\n\n#mbs-fwitemset-cancel {\n  grid-area: cancel;\n}\n\n#mbs-fwitemset-exit {\n  grid-area: exit;\n}\n\n#mbs-fwitemset-mid-grid {\n  display: grid;\n  grid-area: midDiv;\n  grid-template-areas: "name ." "outfitCode outfitCodeButton";\n  grid-template-columns: min(78vh, 39vw) min(10vh, 5vw);\n  margin-left: 35%;\n  grid-gap: min(2vh, 1vw) min(6vh, 3vw);\n  margin-bottom: 2.5%;\n  margin-top: 2.5%;\n}\n\n#mbs-fwitemset-outfit-name {\n  font-size: min(3.5vh, 1.75vw);\n  grid-area: name;\n  height: min(7vh, 3.5vw);\n}\n\n#mbs-fwitemset-outfit-input {\n  font-size: min(3.5vh, 1.75vw);\n  grid-area: outfitCode;\n  height: min(7vh, 3.5vw);\n}\n\n#mbs-fwitemset-outfit-div {\n  grid-area: outfitCodeButton;\n  grid-template-columns: min(27vh, 13.5vw);\n  grid-template-rows: min(7vh, 3.5vw) auto;\n}\n\n#mbs-fwitemset-bot-grid {\n  display: grid;\n  grid-area: botDiv;\n  margin-left: 35%;\n  grid-gap: min(2vh, 1vw) min(8vh, 4vw);\n  align-items: end;\n  font-size: min(3.5vh, 1.75vw);\n  grid-template: "headerStrip headerLock" auto "configStrip gridLock" min(7vh, 3.5vw) "headerEquip gridLock" min(7vh, 3.5vw) "configEquip gridLock" min(7vh, 3.5vw) "headerWeight gridLock" min(7vh, 3.5vw) "configWeight gridLock" min(7vh, 3.5vw)/min(40vh, 20vw) auto;\n  overflow: hidden;\n  text-align: left;\n}\n\n#mbs-fwitemset-strip-header {\n  grid-area: headerStrip;\n}\n\n#mbs-fwitemset-strip-input {\n  align-self: start;\n  grid-area: configStrip;\n}\n\n#mbs-fwitemset-equip-header {\n  grid-area: headerEquip;\n}\n\n#mbs-fwitemset-equip-input {\n  align-self: start;\n  grid-area: configEquip;\n}\n\n#mbs-fwitemset-weight-header {\n  grid-area: headerWeight;\n}\n\n#mbs-fwitemset-weight-input {\n  align-self: start;\n  font-size: min(3.5vh, 1.75vw);\n  grid-area: configWeight;\n  width: min(7vh, 3.5vw);\n}\n\n#mbs-fwitemset-lock-header {\n  grid-area: headerLock;\n}\n\n#mbs-fwitemset-lock-grid {\n  align-self: start;\n  display: grid;\n  grid-area: gridLock;\n  grid-template-columns: 5fr 5fr;\n  overflow-y: scroll;\n  grid-gap: min(2vh, 1vw);\n}\n\n.mbs-fwitemset-lock-container {\n  align-items: center;\n  display: grid;\n  font-size: min(3.5vh, 1.75vw);\n  word-wrap: break-word;\n  grid-template-columns: 1.5fr 8.5fr;\n  grid-gap: min(2vh, 1vw);\n}\n\n.mbs-timer {\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: min(3.5vh, 1.75vw);\n  height: min(5vh, 2.5vw);\n  text-align: center;\n  width: min(21vh, 10.5vw);\n}\n\n#mbs-fwitemset-strip-dropdown-button, #mbs-fwitemset-equip-dropdown-button {\n  height: min(7vh, 3.5vw);\n}\n\n#mbs-fwitemset-strip-dropdown-content, #mbs-fwitemset-equip-dropdown-content {\n  width: min(80vh, 40vw);\n}'.toString()}),h("h1",{id:wf.header,children:`Customize wheel of fortune item set ${this.index}`}),p("div",{id:wf.delete,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:wf.deleteButton,style:{backgroundImage:"url('./Icons/Trash.png')"},onClick:()=>this.exit(!1,cf.DELETE),disabled:o}),h("div",{class:"mbs-button-tooltip",id:wf.deleteTooltip,style:{justifySelf:"left"},children:"Delete item set"})]}),p("div",{id:wf.accept,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:wf.acceptButton,style:{backgroundImage:"url('./Icons/Accept.png')"},onClick:()=>this.exit(!1,cf.SAVE),disabled:!0}),h("div",{class:"mbs-button-tooltip",id:wf.acceptTooltip,style:{justifySelf:"right"},children:"Save item set:\\nMissing outfit"})]}),p("div",{id:wf.cancel,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:wf.cancelButton,style:{backgroundImage:"url('./Icons/Cancel.png')"},onClick:()=>this.exit(!1,cf.NONE)}),h("div",{class:"mbs-button-tooltip",id:wf.cancelTooltip,style:{justifySelf:"right"},children:"Cancel"})]}),p("div",{id:wf.exit,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:wf.exitButton,style:{backgroundImage:"url('./Icons/Exit.png')"},onClick:()=>this.exit(!0,cf.NONE)}),h("div",{class:"mbs-button-tooltip",id:wf.exitTooltip,style:{justifySelf:"right"},children:"Exit"})]}),p("div",{id:wf.midDiv,children:[h("input",{type:"text",id:wf.outfitName,placeholder:"Name",disabled:o,maxLength:70,onInput:e=>{this.settings.name=e.target.value,b(this,hf,"m",ff).call(this,wf.acceptButton)},onFocus:e=>e.target.select()}),h("input",{type:"text",id:wf.outfitInput,placeholder:"Outfit code",disabled:o,onInput:e=>{this.settings.outfitCache=e.target.value,b(this,hf,"m",ff).call(this,wf.outfitButton)},onFocus:e=>e.target.select()}),p("div",{id:wf.outfitDiv,class:"mbs-button-div",children:[h("button",{class:"mbs-button",disabled:!0,id:wf.outfitButton,onClick:()=>b(this,hf,"m",ff).call(this,wf.acceptButton,!0),children:"Parse"}),h("div",{class:"mbs-button-tooltip",id:wf.outfitTooltip,children:"Parse the outfit code"})]})]}),p("div",{id:wf.botDiv,children:[h("div",{id:wf.stripHeader,children:"Clothing strip level:"}),h("div",{id:wf.equipHeader,children:"Clothing equip level:"}),h("div",{id:wf.weightHeader,children:"Wheel option weight:"}),h("div",{id:wf.lockHeader,children:"Enabled lock types:"}),h("input",{type:"number",id:wf.weightInput,min:1,max:9,value:1,disabled:o,onInput:e=>{const t=e.target;this.settings.weight=ro(Number.parseInt(t.value,10),1,9)},onWheel:e=>{const t=e.target;if(e.deltaY<0)t.stepUp(1);else{if(!(e.deltaY>0))return;t.stepDown(1)}this.settings.weight=ro(Number.parseInt(t.value,10),1,9)},onFocus:e=>e.target.select()}),yf({inputID:wf.stripInput,buttonID:wf.stripButton,optionID:wf.stripOption,dropdownID:wf.stripDropdown,level:"stripLevel"},this.settings,o),yf({inputID:wf.equipInput,buttonID:wf.equipButton,optionID:wf.equipOption,dropdownID:wf.equipDropdown,level:"equipLevel"},this.settings,o),p("div",{id:wf.lockGrid,children:[" ",this.settings.flags.map(((e,t)=>{let n;if("TimerPasswordPadlock"===e.type)n=function(e,t,n){return h("input",{type:"time",class:"mbs-timer",id:wf.lockTimer+t.toString(),disabled:n,min:"00:01:00",max:"04:00:00",step:1,value:vf(e.time),onInput:t=>{const n=t.target,[r,i,o]=n.value.split(":").map((e=>Number.parseInt(e,10)));e.time=ro(3600*r+60*i+o,60,14400)},onWheel:t=>{const n=t.target;if(n.disabled)return;if(t.deltaY<0)n.stepUp(120);else{if(!(t.deltaY>0))return;n.stepDown(120)}const[r,i,o]=n.value.split(":").map((e=>Number.parseInt(e,10)));e.time=ro(3600*r+60*i+o,60,14400)}})}(e,t,o);else n=e.description;return p("div",{class:wf.lockContainer,id:wf.lockContainer+t.toString(),children:[h("input",{type:"checkbox",class:wf.lockCheckbox,id:wf.lockCheckbox+t.toString(),disabled:o,checked:e.enabled,onClick:()=>{e.enabled=!e.enabled,b(this,hf,"m",ff).call(this,wf.acceptButton)}}),n]})}))," "]})]})]}))}load(){super.load();const e=this.mbsObject;if(null!==e){this.settings.readSettings(e),this.settings.outfitCache=LZString.compressToBase64(JSON.stringify(af(e.itemList,this.preview))),ElementValue(wf.outfitName,e.name),ElementValue(wf.weightInput,e.weight.toString()),ElementValue(wf.outfitInput,this.settings.outfitCache);for(const[e,t]of this.settings.flags.entries()){if(document.getElementById(`${wf.lockCheckbox}${e}`).checked=t.enabled,"TimerPasswordPadlock"===t.type)ElementValue(`${wf.lockTimer}${e}`,vf(t.time))}const t=document.getElementById(wf.equipButton),n=document.getElementById(wf.stripButton);t.innerText=Rf[this.settings.equipLevel],n.innerText=Rf[this.settings.stripLevel],b(this,hf,"m",ff).call(this,wf.acceptButton,!0),b(this,hf,"m",ff).call(this,wf.outfitButton)}else this.settings.reset();b(this,hf,"m",gf).call(this)}resize(){const e=document.getElementById(wf.root),t=MainCanvas.canvas.clientWidth<=2*MainCanvas.canvas.clientHeight?MainCanvas.canvas.clientWidth/50:MainCanvas.canvas.clientHeight/25;ElementPositionFix(wf.root,t,...this.shape),e.style.display="grid"}run(){DrawCharacter(this.preview,300,175,.78,!1)}click(){}unload(){const e=document.getElementById(wf.root);e&&(e.style.display="none")}exit(e,t){CharacterDelete(this.preview),ElementRemove(wf.root),super.exit(e,t)}}hf=new WeakSet,pf=function(){return this.settings.isValid(this.index)&&this.hasStorageSpace()},ff=function(e,t=!1){const n=document.getElementById(e),r=!this.character.IsPlayer();switch(e){case wf.acceptButton:if(t){const e=this.settings.loadFromBase64();n.disabled=r||!(e&&b(this,hf,"m",pf).call(this)),!r&&e&&b(this,hf,"m",gf).call(this)}else n.disabled=r||!(null!==this.settings.itemList&&b(this,hf,"m",pf).call(this));b(this,hf,"m",mf).call(this,wf.acceptTooltip);break;case wf.outfitButton:n.disabled=r||!this.settings.outfitCache,b(this,hf,"m",mf).call(this,wf.outfitTooltip);break;default:throw new Error(`Unsupported tooltip type: ${e}`)}},mf=function(e){const t=document.getElementById(e);switch(e){case wf.acceptTooltip:{const e="Save item set";this.settings.loadFromBase64()?b(this,hf,"m",pf).call(this)?t.innerText=e:this.settings.name?this.settings.flags.every((e=>!e.enabled))?t.innerText=`${e}:\nMust enable at least one lock type`:this.hasStorageSpace()?t.innerText=`${e}:\nMax allowed OnlineSharedSettings storage size exceeded (${pm(this.dataSize.value)} / ${pm(this.dataSize.max)}`:t.innerText=`${e}:\nDuplicate name`:t.innerText=`${e}:\nMissing name`:t.innerText=`${e}:\nMissing outfit`;break}case wf.outfitTooltip:{const e="Parse outfit code";this.settings.outfitCache?t.innerText=e:t.innerText=`${e}:\nMissing code`;break}default:throw new Error(`Unsupported tooltip type: ${e}`)}},gf=function(){if(this.preview.Appearance=[...this.character.Appearance],this.preview.OnlineSharedSettings=this.character.OnlineSharedSettings,CharacterReleaseTotal(this.preview),null===this.settings.itemList)return;const e=Kp(this.settings.equipLevel,this.preview),t=this.preview.AssetFamily;Qp("MBSPreview",this.settings.itemList.filter((({Name:n,Group:r})=>{const i=AssetGet(t,r,n);return null!=i&&("Appearance"!==i.Group.Category||e(i))})),this.settings.stripLevel,null,null,this.preview)},bf.screen="MBS_FWItemSetScreen",bf.background="Sheet";const Sf="mbs-fwitemset",wf=Object.freeze({root:Sf,styles:`${Sf}-style`,delete:`${Sf}-delete`,deleteButton:`${Sf}-delete-button`,deleteTooltip:`${Sf}-delete-tooltip`,accept:`${Sf}-accept`,acceptButton:`${Sf}-accept-button`,acceptTooltip:`${Sf}-accept-tooltip`,cancel:`${Sf}-cancel`,cancelButton:`${Sf}-cancel-button`,cancelTooltip:`${Sf}-cancel-tooltip`,exit:`${Sf}-exit`,exitButton:`${Sf}-exit-button`,exitTooltip:`${Sf}-exit-tooltip`,header:`${Sf}-header`,midDiv:`${Sf}-mid-grid`,botDiv:`${Sf}-bot-grid`,outfitName:`${Sf}-outfit-name`,outfitInput:`${Sf}-outfit-input`,outfitDiv:`${Sf}-outfit-div`,outfitButton:`${Sf}-outfit-button`,outfitTooltip:`${Sf}-outfit-tooltip`,stripHeader:`${Sf}-strip-header`,stripInput:`${Sf}-strip-dropdown`,stripButton:`${Sf}-strip-dropdown-button`,stripDropdown:`${Sf}-strip-dropdown-content`,stripOption:`${Sf}-strip-dropdown-option`,equipHeader:`${Sf}-equip-header`,equipInput:`${Sf}-equip-dropdown`,equipButton:`${Sf}-equip-dropdown-button`,equipDropdown:`${Sf}-equip-dropdown-content`,equipOption:`${Sf}-equip-dropdown-option`,weightHeader:`${Sf}-weight-header`,weightInput:`${Sf}-weight-input`,lockHeader:`${Sf}-lock-header`,lockGrid:`${Sf}-lock-grid`,lockContainer:`${Sf}-lock-container`,lockCheckbox:`${Sf}-lock-checkbox`,lockTimer:`${Sf}-lock-timer`});class Cf extends df{constructor(e,t,n,r){super(e,t,n,r,[0,0,0,0]),this.screen=Cf.screen,this.settings=new BR(t),this.clickList=Object.freeze([{coords:[75,60,90,90],next:()=>this.exit(!1,cf.DELETE),requiresPlayer:!0},{coords:[1830,60,90,90],next:()=>this.exit(!0,cf.NONE),requiresPlayer:!1},{coords:[1720,60,90,90],next:()=>this.exit(!1,cf.NONE),requiresPlayer:!1},{coords:[1610,60,90,90],next:()=>{this.settings.isValid(this.index)&&this.hasStorageSpace()&&this.exit(!1,cf.SAVE)},requiresPlayer:!0}])}load(){super.load();const e=function(e,t,n,r,i=-1/0,o=1/0){let a=ElementCreateInput(`MBS${e}`,"number",r.toString());a?(a.setAttribute("max",o.toString()),a.setAttribute("min",i.toString()),a.addEventListener("input",CommonLimitFunction((n=>{const r=Number.parseInt(n.target?.value,10);!Number.isNaN(r)&&r>=i&&r<=o&&(t[e]=r)})))):a=document.getElementById(`MBS${e}`);return ElementPosition(`MBS${e}`,...n),a}("weight",this.settings,[750,850,64,64],1,1,9),t=function(e,t,n,r,i="",o){let a=ElementCreateInput(`MBS${e}`,"text",i,o);a?(a.setAttribute("placeholder",n),a.addEventListener("input",CommonLimitFunction((n=>{const r=n.target?.value||null;null==o&&(o=1/0),(null===r||r.length<=o)&&(t[e]=r)})))):a=document.getElementById(`MBS${e}`);return ElementPosition(`MBS${e}`,...r),a}("name",this.settings,"Role play command",[900,500,900,64],"",210);this.character.IsPlayer()||(t.setAttribute("disabled",!0),e.setAttribute("disabled",!0)),null!==this.mbsObject?(t.value=this.mbsObject.name,e.value=this.mbsObject.weight.toString(),this.settings.readSettings(this.mbsObject)):this.settings.reset()}click(){const e=this.character.IsPlayer();for(const{coords:t,next:n,requiresPlayer:r}of this.clickList){const i=!!e||!r;MouseIn(...t)&&i&&n()}}run(){const e=this.character.IsPlayer();let t="Customize wheel of fortune command";if(!e){t=`View ${this.character.Nickname??this.character.Name}'s wheel of fortune command customization`}DrawText(t,1e3,105,"Black"),DrawButton(75,60,90,90,"",e?"White":"Gray","Icons/Trash.png","Delete",!e),DrawButton(1830,60,90,90,"","White","Icons/Exit.png","Exit"),DrawButton(1720,60,90,90,"","White","Icons/Cancel.png","Cancel");let n=!1,r="White",i="Accept";e?this.settings.isValid(this.index)?this.hasStorageSpace()||(n=!0,r="Gray",i=`Max allowed OnlineSharedSettings storage size exceeded (${pm(this.dataSize.value)} / ${pm(this.dataSize.max)} KB)`):(n=!0,r="Gray",i+=null===this.settings.name?": Missing name":": Duplicate name"):(n=!0,r="Gray"),DrawButton(1610,60,90,90,"",r,"Icons/Accept.png",i,n),ElementPosition("MBSname",900,500,900,64),DrawText("Wheel option weight:",620,576,"Black"),ElementPosition("MBSweight",490,630,80)}exit(e,t){ElementRemove("MBSname"),ElementRemove("MBSweight"),super.exit(e,t)}}Cf.screen="MBS_FWCommandScreen",Cf.background="Sheet";var kf,Bf;function Pf(e,t,n){const r=vm(e.OnlineSharedSettings?.MBS,"OnlineSharedSettings",!1);let i,o=void 0===r?void 0:r[t];if(Array.isArray(o)||(void 0!==o&&kp.warn(`Failed to load "${e.AccountName}" wheel of fortune ${n}`),o=Array(pR).fill(null)),e.IsPlayer())i=Player.MBSSettings[t];else{const e=[];i=gm("FortuneWheelItemSets"===t?MR.fromObject:ER.fromObject,o,e),e.forEach((e=>console.warn(e)))}return i.forEach((e=>e?.register(!1))),i}function xf(e,t){return h("button",{class:"mbs-button",id:If.button+t.toString(),style:{height:"min(7vh, 3.5vw)"},onClick:()=>{let n;n=t<pR?new bf(e,e.wheelStruct.FortuneWheelItemSets,t,e.character,e.shape):new Cf(e,e.wheelStruct.FortuneWheelCommands,t-pR,e.character),e.children.set(n.screen,n),n.load()},children:"Lorem Ipsum"})}class Mf extends lf{get wheelList(){return[...this.wheelStruct.FortuneWheelItemSets,...this.wheelStruct.FortuneWheelCommands]}constructor(e,t,n,r=[80,60,1840,880]){super(e,r),kf.add(this),this.screen=Mf.screen,this.wheelStruct=t,this.character=n,this.dataSize=Object.seal({value:0,valueRecord:{},max:dm,marigin:.9});const i=this.character.IsPlayer();document.body.appendChild(p("div",{id:If.root,class:"HideOnPopup mbs-screen","screen-generated":this.screen,children:[h("style",{id:If.styles,children:'#mbs-fwselect {\n  grid-template: ". buttonOuterGrid exit" min(9vh, 4.5vw) "storage buttonOuterGrid ." auto "storageFooter buttonOuterGrid ." min(14vh, 7vw)/min(30vh, 15vw) auto min(20vh, 10vw);\n}\n\n#mbs-fwselect-exit {\n  grid-area: exit;\n  height: min(9vh, 4.5vw);\n  justify-self: end;\n  width: min(9vh, 4.5vw);\n}\n\n#mbs-fwselect-storage {\n  background-image: linear-gradient(180deg, #d80000, #d80000 10%, #00d800 60%, #00d800);\n  border: min(0.3vh, 0.15vw) solid var(--mbs-border-color);\n  display: grid;\n  grid-area: storage;\n  height: 100%;\n  justify-self: center;\n  width: 35%;\n}\n#mbs-fwselect-storage #mbs-fwselect-storage-tooltip {\n  background-color: var(--mbs-background-color);\n  border: inherit;\n  color: var(--mbs-text-color);\n  font-size: min(3.5vh, 1.75vw);\n  left: 15%;\n  line-height: 1.4;\n  min-height: min(9vh, 4.5vw);\n  padding-left: min(2vh, 1vw);\n  padding-right: min(2vh, 1vw);\n  position: absolute;\n  text-align: left;\n  visibility: hidden;\n  width: fit-content;\n}\n#mbs-fwselect-storage:hover #mbs-fwselect-storage-tooltip {\n  visibility: visible;\n}\n\n#mbs-fwselect-storage-cover {\n  width: 100%;\n}\n\n#mbs-fwselect-storage-footer {\n  font-size: min(3.5vh, 1.75vw);\n  grid-area: storageFooter;\n  height: min(7vh, 3.5vw);\n  padding-top: min(1vh, 0.5vw);\n}\n\n#mbs-fwselect-button-grid-outer {\n  display: grid;\n  grid-area: buttonOuterGrid;\n  grid-template-rows: min(9vh, 4.5vw) auto min(9vh, 4.5vw) auto;\n  height: 94%;\n  overflow-y: scroll;\n  padding-left: min(2vh, 1vw);\n  padding-right: min(2vh, 1vw);\n}\n\n#mbs-fwselect-button-grid-inner0, #mbs-fwselect-button-grid-inner1 {\n  display: grid;\n  grid-template-columns: minmax(0, 4fr) minmax(0, 4fr);\n  grid-gap: min(2vh, 1vw);\n  padding-bottom: min(2vh, 1vw);\n  padding-top: min(2vh, 1vw);\n}\n\n#mbs-fwselect-header0, #mbs-fwselect-header1 {\n  align-items: center;\n  background: var(--mbs-background-color);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  position: sticky;\n  top: 0%;\n}'.toString()}),p("div",{id:If.buttonOuterGrid,children:[h("h1",{id:If.itemSets,children:i?"Fortune wheel item sets":`${this.character.Nickname??this.character.Name}'s fortune wheel item sets`}),h("div",{id:If.buttonInnerGrid0,children:bd(0,pR).map((e=>xf(this,e)))}),h("h1",{id:If.commandSets,children:i?"Fortune wheel commands":`${this.character.Nickname??this.character.Name}'s fortune wheel commands`}),h("div",{id:If.buttonInnerGrid1,children:bd(pR,2*pR).map((e=>xf(this,e)))})]}),p("div",{id:If.exit,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:If.exitButton,onClick:this.exit.bind(this),style:{backgroundImage:"url('./Icons/Exit.png')"}}),h("span",{class:"mbs-button-tooltip",id:If.exitTooltip,style:{justifySelf:"right"},children:"Exit"})]}),p("div",{id:If.storage,children:[h("div",{id:If.storageInner}),h("span",{id:If.storageTooltip,children:"Lorem Ipsum"})]}),h("div",{id:If.storageFooter,children:"Lorem Ipsum"})]}))}resize(){const e=document.getElementById(If.root);if(e){const t=MainCanvas.canvas.clientWidth<=2*MainCanvas.canvas.clientHeight?MainCanvas.canvas.clientWidth/50:MainCanvas.canvas.clientHeight/25;ElementPositionFix(If.root,t,...this.shape),e.style.display="grid"}}load(){const e=hm(this.character.OnlineSharedSettings);this.dataSize.value=Kd(Object.values(e),(e=>Number.isNaN(e)?0:e)),this.dataSize.valueRecord=e,b(this,kf,"m",Bf).call(this),super.load()}run(){}click(){}unload(){const e=document.getElementById(If.root);e&&(e.style.display="none")}exit(){ElementRemove(If.root),this.exitScreens(!1)}}kf=new WeakSet,Bf=function(){const e=this.character.IsPlayer();for(const[t,n]of this.wheelList.entries()){const r=document.getElementById(`${If.button}${t}`);r.innerText=`${(t%pR).toString().padStart(2)}: ${n?.name??"<Empty>"}`,r.disabled=null===n&&!e}const t=document.getElementById(If.storage),n=document.getElementById(If.storageInner),r=document.getElementById(If.storageTooltip),i=document.getElementById(If.storageFooter);if(e){const e=ro(pm(this.dataSize.value),0,9999),o=100*e/(dm/1e3);i.innerText=`${e} / ${dm/1e3} KB`,n.style.height=100-o+"%",n.style.backgroundColor="white",n.style.borderBottom="min(0.3vh, 0.15vw) solid black",o>=90&&(t.style.boxShadow="0 0 min(2vh, 1vw) red");const a=/\W/g;let s=Object.entries(this.dataSize.valueRecord).map((([e,t])=>`${e.replaceAll(a,"")} ${Number.isNaN(t)?"Unknown":`${pm(t)} KB`}`));s.length>=11&&(s=s.slice(0,10),s.push("...")),r.innerHTML=`<strong>OnlineSharedSettings Data Usage</strong><br />${s.join("<br />")}`}else i.innerText=`- / ${dm/1e3} KB`,n.style.height="100%",n.style.backgroundColor="gray",r.style.display="none"},Mf.screen="MBS_FWSelectScreen",Mf.background="Sheet";const Ef="mbs-fwselect",If=Object.freeze({root:Ef,styles:`${Ef}-style`,exit:`${Ef}-exit`,exitButton:`${Ef}-exit-button`,exitTooltip:`${Ef}-exit-tooltip`,storage:`${Ef}-storage`,storageInner:`${Ef}-storage-cover`,storageTooltip:`${Ef}-storage-tooltip`,storageFooter:`${Ef}-storage-footer`,buttonOuterGrid:`${Ef}-button-grid-outer`,buttonInnerGrid0:`${Ef}-button-grid-inner0`,buttonInnerGrid1:`${Ef}-button-grid-inner1`,button:`${Ef}-button`,itemSets:`${Ef}-header0`,commandSets:`${Ef}-header1`}),_f=Object.freeze(["Exclusive","5 Minutes","15 Minutes","1 Hour","4 Hours","High Security"]),$f=Object.freeze([Object.freeze({type:"ExclusivePadlock",description:"Exclusive",enabled:!0}),Object.freeze({type:"TimerPasswordPadlock",description:"Timer",time:300,enabled:!0}),Object.freeze({type:"TimerPasswordPadlock",description:"Timer",time:900,enabled:!0}),Object.freeze({type:"TimerPasswordPadlock",description:"Timer",time:3600,enabled:!0}),Object.freeze({type:"TimerPasswordPadlock",description:"Timer",time:14400,enabled:!1}),Object.freeze({type:"HighSecurityPadlock",description:"High security",enabled:!1}),Object.freeze({type:null,description:"No lock",enabled:!1})]);function Of(e,t,n){Bp(t,"seconds",60,14400),Lf(e,"TimerPasswordPadlock",n)&&(null==e.Property&&(e.Property={}),e.Property.RemoveTimer=CurrentTime+1e3*t,e.Property.RemoveItem=!0,e.Property.LockSet=!0,e.Property.Password=Ep(8))}function Ff(e,t){Lf(e,"HighSecurityPadlock",t),null==e.Property&&(e.Property={}),e.Property.MemberNumberListKeys=""}function Lf(e,t,n){if(null===e||"object"!=typeof e)throw new TypeError('Invalid "item" type: '+typeof e);if("string"!=typeof t)throw new TypeError('Invalid "lockName" type: '+typeof t);gR(n);const r=AssetGet(n.AssetFamily,"ItemMisc",t);if(null==r)throw new Error(`Invalid "lockName" value: ${t}`);return!(null!=InventoryGetLock(e)||!InventoryDoesItemAllowLock(e)||InventoryBlockedOrLimited(n,{Asset:r}))&&(InventoryLock(n,e,{Asset:r},null,!1),!0)}function Hf(e,t){return e.forEach(((e,n)=>{e.enabled=t.includes(n)})),e}function Tf(e){switch(e.type){case"ExclusivePadlock":return"Exclusive";case"HighSecurityPadlock":return"High Security";case"TimerPasswordPadlock":return`${Math.floor(e.time/60)} Minutes`;case null:return"No Lock";default:throw new Error(`Invalid flag type: ${e.type}`)}}var Af,Nf,Df,jf,Wf,Gf,zf,Vf;let qf;const Uf=Object.freeze({builtinBC:0,builtinMBS:1,customMBS:2});let Kf,Jf,Zf,Yf;Ip(yR).then((()=>{qf=new TextCache("Screens/MiniGame/WheelFortune/Text_WheelFortune.csv","MISSING VALUE FOR TAG: ")}));class Xf extends lf{get index(){return b(this,Nf,"f")}set index(e){Bp(e,"index",0,this.presets.length-1),b(this,Nf,"f")!==e&&(S(this,Nf,e,"f"),b(this,Af,"m",Vf).call(this))}constructor(e,t,n=[80,60,1840,880]){!function(){if(void 0!==Kf)return;const e=/^([a-zA-Z0-9_\s]+) for ([0-9]+) (minutes|hours)$/,t=WheelFortuneOption.filter((e=>void 0===e.Custom)),n=new Set,r={};for(const i of t){const t=qf.get(`Option${i.ID}`),o=e.exec(t);if(!o){r[i.ID]={header:t,type:Uf.builtinBC},n.add(t);continue}const[a,s]=[o[1],o[3]];let l=Number.parseInt(o[2]);"hours"===s&&(l*=60),n.add(a),r[i.ID]={header:a,description:`${l} Minutes`,type:Uf.builtinBC}}Kf=Array.from(n),Jf=Object.fromEntries(Object.entries(r).map((([e,t])=>[e,{...t,index:Kf.indexOf(t.header)}])));const i=256;Zf=Object.fromEntries(im.flatMap(((e,t)=>e.flags.map(((n,r)=>[String.fromCharCode(i+16*t+r),{header:e.name,description:Tf(n),index:t,type:Uf.builtinMBS}]))))),Yf=Object.fromEntries(bd(512,1536).map(((e,t)=>{const n=String.fromCharCode(e),r=Math.floor(t/i);let o;switch(r){case 0:case 2:o=(0===r?0:16)+Math.floor(t%i/16);break;case 1:case 3:o=(1===r?0:16)+Math.floor(t%i/16)+32;break;default:throw new RangeError(`Index ${t} lies out of the [0, 2**10) range`)}return[n,{header:"<Empty>",type:Uf.customMBS,index:o}]})))}(),super(e,n),Af.add(this),this.screen=Xf.screen,this.activePreset={name:"<PLACEHOLDER>",ids:new Set},Nf.set(this,0),this.presets=t,this.queueServer=new Set,this.idMapping={...xa(Jf),...xa(Zf),...xa(Yf)},document.body.appendChild(p("div",{id:em.root,class:"HideOnPopup mbs-screen","screen-generated":this.screen,children:[h("style",{id:em.styles,children:'#mbs-fwpreset {\n  grid-template: "delete header accept save exit" min(9vh, 4.5vw) "mid mid mid mid mid" auto/min(9vh, 4.5vw) auto min(9vh, 4.5vw) min(9vh, 4.5vw) min(9vh, 4.5vw);\n}\n\n#mbs-fwpreset-delete {\n  grid-area: delete;\n}\n\n#mbs-fwpreset-header {\n  grid-area: header;\n  margin-left: min(20vh, 10vw);\n}\n\n#mbs-fwpreset-accept {\n  grid-area: accept;\n}\n\n#mbs-fwpreset-save {\n  grid-area: save;\n}\n\n#mbs-fwpreset-exit {\n  grid-area: exit;\n}\n\n#mbs-fwpreset-mid-div {\n  display: grid;\n  grid-area: mid;\n  text-align: center;\n  grid-gap: min(2vh, 1vw);\n  font-size: min(3.5vh, 1.75vw);\n  grid-template: "name-header builtin-bc-header builtin-mbs-header custom-mbs-header" min(9vh, 4.5vw) "name builtin-bc builtin-mbs custom-mbs" auto/min(40vh, 20vw) min(40vh, 20vw) min(30vh, 15vw) min(70vh, 35vw);\n  justify-items: center;\n  justify-self: center;\n}\n\n#mbs-fwpreset-name-header {\n  align-self: center;\n  grid-area: name-header;\n}\n\n#mbs-fwpreset-builtin-bc-header {\n  align-self: center;\n  grid-area: builtin-bc-header;\n}\n\n#mbs-fwpreset-builtin-mbs-header {\n  align-self: center;\n  grid-area: builtin-mbs-header;\n}\n\n#mbs-fwpreset-custom-mbs-header {\n  align-self: center;\n  grid-area: custom-mbs-header;\n}\n\n.mbs-fwpreset-grid {\n  display: grid;\n  grid-gap: min(1.2vh, 0.6vw);\n  grid-auto-flow: column;\n  grid-template-rows: repeat(8, min(7vh, 3.5vw));\n}\n\n#mbs-fwpreset-name-div {\n  grid-area: name;\n}\n\n#mbs-fwpreset-name-input {\n  font-size: min(3.5vh, 1.75vw);\n  height: min(7vh, 3.5vw);\n  width: min(35vh, 17.5vw);\n}\n\n#mbs-fwpreset-name-dropdown-div {\n  height: min(7vh, 3.5vw);\n  position: relative;\n  top: 5%;\n  width: min(36vh, 18vw);\n}\n\n#mbs-fwpreset-builtin-bc-div {\n  grid-area: builtin-bc;\n  grid-template-columns: repeat(4, min(7vh, 3.5vw));\n}\n\n#mbs-fwpreset-builtin-mbs-div {\n  grid-area: builtin-mbs;\n  grid-template-columns: min(7vh, 3.5vw);\n}\n\n#mbs-fwpreset-custom-mbs-div {\n  grid-area: custom-mbs;\n  grid-template-columns: repeat(8, min(7vh, 3.5vw));\n}\n\n.mbs-fwpreset-color {\n  height: 90%;\n  left: 5%;\n  position: relative;\n  top: 5%;\n  width: 90%;\n}\n.mbs-fwpreset-color[data-color=red] {\n  background-color: red;\n}\n.mbs-fwpreset-color[data-color=green] {\n  background-color: green;\n}\n.mbs-fwpreset-color:focus {\n  filter: brightness(60%);\n}\n.mbs-fwpreset-color:focus + .mbs-button-tooltip {\n  visibility: visible;\n}\n\n.mbs-fwpreset {\n  background-color: var(--mbs-background-color);\n  border: min(0.3vh, 0.15vw) solid var(--mbs-border-color);\n  display: grid;\n  grid-template-columns: min(7vh, 3.5vw);\n  grid-template-rows: min(7vh, 3.5vw) auto;\n  height: min(7vh, 3.5vw);\n  width: min(7vh, 3.5vw);\n}\n.mbs-fwpreset h6 {\n  font-size: min(3.5vh, 1.75vw);\n  margin: 0;\n}\n.mbs-fwpreset ul {\n  font-size: min(3vh, 1.5vw);\n  margin: 0;\n  text-align: left;\n}\n.mbs-fwpreset:hover .mbs-fwpreset-color {\n  filter: brightness(60%);\n}\n.mbs-fwpreset:hover .mbs-button-tooltip {\n  visibility: visible;\n}'.toString()}),h("h1",{id:em.header,children:"Wheel of Fortune Presets"}),p("div",{id:em.delete,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:em.deleteButton,style:{backgroundImage:"url('./Icons/Trash.png')"},onClick:this.deletePreset.bind(this),disabled:!0}),h("div",{class:"mbs-button-tooltip",id:em.deleteTooltip,style:{justifySelf:"left"},children:"Delete the current preset"})]}),p("div",{id:em.accept,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:em.acceptButton,style:{backgroundImage:"url('./Icons/Accept.png')"},onClick:this.equipPreset.bind(this),disabled:!0}),h("div",{class:"mbs-button-tooltip",id:em.acceptTooltip,style:{justifySelf:"right"},children:"Equip the current preset"})]}),p("div",{id:em.save,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:em.saveButton,style:{backgroundImage:"url('./Icons/Save.png')"},onClick:this.savePreset.bind(this)}),h("div",{class:"mbs-button-tooltip",id:em.saveTooltip,style:{justifySelf:"right"},children:"Save the current preset"})]}),p("div",{id:em.exit,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:em.exitButton,style:{backgroundImage:"url('./Icons/Exit.png')"},onClick:()=>this.exit(!1)}),h("div",{class:"mbs-button-tooltip",id:em.exitTooltip,style:{justifySelf:"right"},children:"Exit"})]}),p("div",{id:em.midDiv,children:[h("div",{id:em.nameHeader,children:"Preset Name"}),h("div",{id:em.builtinBCHeader,children:"Builtin BC Options"}),h("div",{id:em.builtinMBSHeader,children:"Builtin MBS Options"}),h("div",{id:em.customMBSHeader,children:"Custom MBS Options"}),p("div",{id:em.nameDiv,children:[h("input",{type:"text",id:em.nameInput,maxLength:20,onFocus:e=>e.target.select(),onInput:e=>this.activePreset.name=e.target.value}),p("div",{id:em.nameDropdownDiv,class:"mbs-dropdown",onWheel:e=>this.index=ro(this.index+Math.sign(e.deltaY),0,this.presets.length-1),children:[h("button",{class:"mbs-button",id:em.nameDropdown}),p("div",{class:"mbs-dropdown-content",id:em.nameDropdownContent,children:[" ",Object.values(this.presets).map(((e,t)=>h("button",{class:"mbs-button mbs-dropdown-button",id:em.nameDropdown+t.toString(),onClick:()=>this.index=t,children:`${t}: ${e?.name??"<Empty>"}`})))," "]})]})]}),h("div",{id:em.builtinBCDiv,class:"mbs-fwpreset-grid",children:b(this,Af,"m",Wf).call(this,Uf.builtinBC)}),h("div",{id:em.builtinMBSDiv,class:"mbs-fwpreset-grid",children:b(this,Af,"m",Wf).call(this,Uf.builtinMBS)}),h("div",{id:em.customMBSDiv,class:"mbs-fwpreset-grid",children:b(this,Af,"m",Wf).call(this,Uf.customMBS)})]})]}))}savePreset(){const e=this.presets[this.index],t={name:this.activePreset.name,ids:vR(Array.from(this.activePreset.ids).sort().join(""))};t.name===e?.name&&t.ids===e?.ids||(this.presets[this.index]=t,this.queueServer.add(fm.SETTINGS),b(this,Af,"m",zf).call(this))}equipPreset(){const e=vR(Array.from(this.activePreset.ids).sort().join(""));Player.OnlineSharedSettings&&Player.OnlineSharedSettings.WheelFortune!==e&&(Player.OnlineSharedSettings.WheelFortune=e,this.queueServer.add(fm.SHARED))}deletePreset(){null!==this.presets[this.index]&&(this.queueServer.add(fm.SETTINGS),this.presets[this.index]=null,b(this,Af,"m",Vf).call(this))}load(){super.load(),b(this,Af,"m",Df).call(this),b(this,Af,"m",Vf).call(this)}resize(){const e=document.getElementById(em.root),t=MainCanvas.canvas,n=t.clientWidth<=2*t.clientHeight?t.clientWidth/50:t.clientHeight/25;ElementPositionFix(em.root,n,...this.shape),e.style.display="grid"}run(){}click(){}unload(){const e=document.getElementById(em.root);e&&(e.style.display="none")}exit(e=!0){this.queueServer.size&&bm(Array.from(this.queueServer),!0),ElementRemove(em.root),this.exitScreens(e)}}Nf=new WeakMap,Af=new WeakSet,Df=function(){const e=[...Player.MBSSettings.FortuneWheelItemSets,...Player.MBSSettings.FortuneWheelCommands];for(const[t,n]of e.entries()){let e=512;if(e+=t<32?t>=16?16*(16+t):16*t:t>=48?16*t:16*(16+t),n instanceof MR)for(const[t,r]of n.flags.entries()){const i=String.fromCharCode(e+t);this.idMapping[i].description=Tf(r),this.idMapping[i].header=n.name}else if(n instanceof ER){const t=String.fromCharCode(e);this.idMapping[t].header=n.name,delete this.idMapping[t].description}else for(const t of bd(16)){const n=String.fromCharCode(e+t);this.idMapping[n].header="<Empty>",delete this.idMapping[n].description}}},jf=function(e,t,n,r){const i=e.toString();return p("div",{id:r.root+i,class:"mbs-fwpreset",children:[h("button",{id:r.color+i,class:"mbs-fwpreset-color","data-color":"red",onClick:e=>e.target.focus()}),p("div",{id:r.tooltip+i,class:"mbs-button-tooltip",style:{justifySelf:n},children:[h("h6",{id:r.tooltipHeader+i,"data-prefix":t??""}),h("ul",{id:r.tooltipList+i})]})]})},Wf=function(e){let t,n,r;const i=b(this,Af,"m",Gf).call(this,e);switch(e){case Uf.builtinBC:t=Kf,n="left";break;case Uf.builtinMBS:t=im,n="center";break;case Uf.customMBS:t=[...Player.MBSSettings.FortuneWheelItemSets,...Player.MBSSettings.FortuneWheelCommands],n="right",r=(e,t)=>t>=pR?`Command Set ${t-32}: `:`Item Set ${t}: `;break;default:throw new Error(`Unknown type: ${e}`)}return t.map(((e,t)=>b(this,Af,"m",jf).call(this,t,r?.(e,t),n,i)))},Gf=function(e){switch(e){case Uf.builtinBC:return{root:em.builtinBC,color:em.builtinBCColor,tooltip:em.builtinBCTooltip,tooltipHeader:em.builtinBCTooltipHeader,tooltipList:em.builtinBCTooltipList};case Uf.builtinMBS:return{root:em.builtinMBS,color:em.builtinMBSColor,tooltip:em.builtinMBSTooltip,tooltipHeader:em.builtinMBSTooltipHeader,tooltipList:em.builtinMBSTooltipList};case Uf.customMBS:return{root:em.customMBS,color:em.customMBSColor,tooltip:em.customMBSTooltip,tooltipHeader:em.customMBSTooltipHeader,tooltipList:em.customMBSTooltipList};default:throw new Error(`Unknown type: ${e}`)}},zf=function(){const e=this.presets[b(this,Nf,"f")],t=document.getElementById(em.nameInput),n=document.getElementById(em.nameDropdown),r=document.getElementById(`${em.nameDropdown}${this.index}`);t.placeholder=`Preset ${this.index}`,r.innerText=n.innerText=`${b(this,Nf,"f")}: ${this.activePreset.name}`;const i=document.getElementById(em.deleteButton),o=document.getElementById(em.deleteTooltip),a=document.getElementById(em.acceptButton),s=document.getElementById(em.acceptTooltip),l=document.getElementById(em.header);null===e?(t.value="",i.disabled=!0,a.disabled=!0,o.innerText="Delete the current preset:\nunsaved preset",s.innerText="Equip the current preset:\nunsaved preset",l.innerText="Wheel of Fortune Presets (unsaved)"):(t.value=e.name,i.disabled=!1,a.disabled=!1,o.innerText="Delete the current preset",s.innerText="Equip the current preset",l.innerText="Wheel of Fortune Presets")},Vf=function(){const e=this.presets[b(this,Nf,"f")];this.activePreset=null!==e?{name:e.name,ids:new Set(e.ids)}:{name:"<Empty>",ids:new Set(Player.OnlineSharedSettings?.WheelFortune??WheelFortuneDefault)},b(this,Af,"m",zf).call(this);const t={[Uf.builtinBC]:{},[Uf.builtinMBS]:{},[Uf.customMBS]:{}};for(const[e,{type:n,index:r,description:i,header:o}]of Object.entries(this.idMapping)){const a=this.activePreset.ids.has(e),s=t[n][r]??={header:o,enabled:a,description:[]};s.enabled||=a,i&&a&&s.description.push(i)}for(const e of Object.values(Uf)){const n=b(this,Af,"m",Gf).call(this,e);for(const[r,i]of Object.entries(t[e])){document.getElementById(`${n.color}${r}`).dataset.color=i.enabled?"green":"red";const e=document.getElementById(`${n.tooltipHeader}${r}`);e.innerText=(e.dataset.prefix??"")+i.header;const t=document.getElementById(`${n.tooltipList}${r}`);t.innerHTML="";for(const e of i.description)t.appendChild(h("li",{children:e}))}}},Xf.background="Sheet",Xf.screen=`MBS_${Xf.name}`;const Qf="mbs-fwpreset",em=Object.freeze({root:Qf,styles:`${Qf}-style`,delete:`${Qf}-delete`,deleteButton:`${Qf}-delete-button`,deleteTooltip:`${Qf}-delete-tooltip`,accept:`${Qf}-accept`,acceptButton:`${Qf}-accept-button`,acceptTooltip:`${Qf}-accept-tooltip`,save:`${Qf}-save`,saveButton:`${Qf}-save-button`,saveTooltip:`${Qf}-save-tooltip`,exit:`${Qf}-exit`,exitButton:`${Qf}-exit-button`,exitTooltip:`${Qf}-exit-tooltip`,header:`${Qf}-header`,midDiv:`${Qf}-mid-div`,nameDiv:`${Qf}-name-div`,nameHeader:`${Qf}-name-header`,nameInput:`${Qf}-name-input`,nameDropdown:`${Qf}-name-dropdown`,nameDropdownDiv:`${Qf}-name-dropdown-div`,nameDropdownContent:`${Qf}-name-dropdown-content`,builtinBC:`${Qf}-builtin-bc`,builtinBCColor:`${Qf}-builtin-bc-color`,builtinBCTooltip:`${Qf}-builtin-bc-tooltip`,builtinBCTooltipHeader:`${Qf}-builtin-bc-tooltip-header`,builtinBCTooltipList:`${Qf}-builtin-bc-tooltip-list`,builtinBCDiv:`${Qf}-builtin-bc-div`,builtinBCHeader:`${Qf}-builtin-bc-header`,builtinMBS:`${Qf}-builtin-mbs`,builtinMBSColor:`${Qf}-builtin-mbs-color`,builtinMBSTooltip:`${Qf}-builtin-mbs-button-tooltip`,builtinMBSTooltipHeader:`${Qf}-builtin-mbs-button-tooltip-header`,builtinMBSTooltipList:`${Qf}-builtin-mbs-button-tooltip-list`,builtinMBSDiv:`${Qf}-builtin-mbs-div`,builtinMBSHeader:`${Qf}-builtin-mbs-header`,customMBS:`${Qf}-custom-mbs`,customMBSColor:`${Qf}-custom-mbs-color`,customMBSTooltip:`${Qf}-custom-mbs-button-tooltip`,customMBSTooltipHeader:`${Qf}-custom-mbs-button-tooltip-header`,customMBSTooltipList:`${Qf}-custom-mbs-button-tooltip-list`,customMBSDiv:`${Qf}-custom-mbs-div`,customMBSHeader:`${Qf}-custom-mbs-header`});function tm(e,t,n){if(null===e||"object"!=typeof e)throw new TypeError('Invalid "item" type: '+typeof e);if(!Ap(n))throw new TypeError('Invalid "indices" type: '+typeof n);if(null===t||"object"!=typeof t)throw new TypeError('Invalid "character" type: '+typeof t);if(!t.IsSimple()&&!t.IsPlayer())throw new Error("Expected a simple or player character");const r=t.Appearance.find((e=>"HairFront"===e.Asset.Group.Name));if(void 0===r)return;const i=Math.max(0,...n);let o;"string"==typeof e.Color?e.Color=o=Pp([e.Color],i,"Default"):Array.isArray(e.Color)&&0!==e.Color.length?o=e.Color:e.Color=o=Array(i).fill("Default"),"string"==typeof r.Color?n.forEach((e=>o[e]=r.Color)):Array.isArray(r.Color)&&r.Color.length>=1&&n.forEach((e=>o[e]=r.Color[0]))}function nm(e,t){if(null===t||"object"!=typeof t)throw new TypeError('Invalid "character" type: '+typeof t);if(!t.IsSimple()&&!t.IsPlayer())throw new Error("Expected a simple or player character");if(RR(t)){!function(e,t,n){if(!Ap(e))throw new TypeError('Invalid "groupNames" type: '+typeof e);if("string"!=typeof n)throw new TypeError('Invalid "color" type: '+typeof e);for(const r of e){const e=InventoryGet(t,r);null!=e&&(e.Color=Array(e.Asset.ColorableLayerCount).fill(n))}}(["HairAccessory1","HairAccessory2","HairAccessory3","HairBack","HairFront","BodyUpper","BodyLower","Wings","TailStraps","Nipples","Blush","Mouth"],t,"#484747")}return e}let rm,im,om,am,sm;class lm extends uf{constructor(){super(null,"WheelFortune","MiniGame",{Run:WheelFortuneRun,Click:WheelFortuneClick,Exit:WheelFortuneExit,Load:()=>{CommonSetScreen("MiniGame","WheelFortune"),WheelFortuneLoad()}}),this.screen=lm.screen,this.character=Player,this.FortuneWheelItemSets=Array(pR).fill(null),this.FortuneWheelCommands=Array(pR).fill(null),this.weightedIDs=this.character.OnlineSharedSettings?.WheelFortune??WheelFortuneDefault}initialize(){if(null==WheelFortuneCharacter)throw new Error("Cannot load the fortune wheel UI while `WheelFortuneCharacter == null`");WheelFortuneOption=[...om],WheelFortuneDefault=am,this.character=WheelFortuneCharacter,this.FortuneWheelItemSets=Pf(WheelFortuneCharacter,"FortuneWheelItemSets","item sets"),this.FortuneWheelCommands=Pf(WheelFortuneCharacter,"FortuneWheelCommands","commands"),this.weightedIDs=function(e){const t=Array.from(e).flatMap((e=>{const t=WheelFortuneOption.find((t=>t.ID===e));return void 0===t?[]:Array(t.Weight??1).fill(e)}));if(0===t.length)return Array.from(e.length>0?e:WheelFortuneDefault).sort(Math.random).join();const n=[];for(;n.length<50;)n.push(...Td(t,Math.random));return n.join("")}(this.character.OnlineSharedSettings?.WheelFortune??WheelFortuneDefault)}}lm.screen="WheelFortune",Ip(yR).then((()=>{const e={exit:[1830,60,90,90],roll:[1720,60,90,90],select:[1610,60,90,90],preset:[1500,60,90,90]};if(kp.log("Initializing wheel of fortune hooks"),!function(){const e=String.fromCharCode(256),t=WheelFortuneOption.find((t=>void 0===t.Custom&&t.ID>=e));return void 0===t||(kp.warn("Aborting wheel of fortune hook initialization: Found one or more builtin wheel of fortune option-IDs outside of the extended ASCII range",t),!1)}())return;const t={'DrawTextWrap(TextGet((WheelFortuneVelocity == 0) ? (WheelFortuneForced ? "Forced" : "Title") : "Wait"), 1375, 200, 550, 200, "White");':";"};"E9E5F3D6"===_p.getOriginalHash("WheelFortuneRun")?(t['DrawButton(1770, 25, 90, 90, "", BackColor, "Icons/Random.png", TextGet("Random"));']=";",t["DrawButton(1885, 25, 90, 90"]=`DrawButton(${e.exit.join(", ")}`):t['DrawButton(1720, 60, 90, 90, "", BackColor, "Icons/Random.png", TextGet("Random"));']=";";const n={};"16991349"===_p.getOriginalHash("WheelFortuneClick")&&(n["MouseIn(1885, 25, 90, 90)"]=`MouseIn(${e.exit.join(", ")})`,n["MouseIn(1770, 25, 90, 90)"]=`MouseIn(${e.roll.join(", ")})`),_p.patchFunction("WheelFortuneRun",t),_p.patchFunction("WheelFortuneClick",n),_p.hookFunction("WheelFortuneLoad",11,((e,t)=>{if(sm.initialize(),null!=TextScreenCache)for(const{Description:e,Custom:t,ID:n}of WheelFortuneOption)void 0!==e&&(TextScreenCache.cache[`Option${n}`]=t?`*${e}`:e);return t(e)})),_p.hookFunction("WheelFortuneCustomizeLoad",0,((e,t)=>{if(null!=TextScreenCache)for(const{Description:e,Custom:t,ID:n}of WheelFortuneOption)void 0!==e&&(TextScreenCache.cache[`Option${n}`]=t?`*${e}`:e);return t(e)})),_p.hookFunction("WheelFortuneRun",0,((t,n)=>{const r=Player.MBSSettings.RollWhenRestrained||!Player.IsRestrained();r||(WheelFortuneForced=!1),n(t);const i=0===WheelFortuneVelocity,o=i?"White":"Silver",a=WheelFortuneCharacter?.Nickname??WheelFortuneCharacter?.Name,s=WheelFortuneCharacter?.IsPlayer()?"MBS: Configure custom options":`MBS: View ${a}'s option config`;DrawButton(...e.select,"",o,"Icons/Crafting.png",s,!i);const l=!(0!==WheelFortuneVelocity||!WheelFortuneCharacter?.IsPlayer()),u=l?"White":"Silver",c=WheelFortuneCharacter?.Nickname??WheelFortuneCharacter?.Name,d=WheelFortuneCharacter?.IsPlayer()?"MBS: Configure option presets":`MBS: View ${c}'s option presets`;DrawButton(...e.preset,"",u,"Icons/Crafting.png",d,!l);const h=0==WheelFortuneVelocity&&r?"White":"Silver";DrawButton(...e.roll,"",h,"Icons/Random.png",r?TextGet("Random"):"MBS: Cannot spin while restrained",!r);let p="";p=0!==WheelFortuneVelocity?TextGet("Wait"):r?WheelFortuneForced?TextGet("Forced"):TextGet("Title"):"MBS: Cannot spin the wheel of fortune while restrained",DrawTextWrap(p,1375,200,550,200,"White")})),_p.hookFunction("WheelFortuneClick",0,((t,n)=>{if(Player.MBSSettings.RollWhenRestrained||!Player.IsRestrained()||(WheelFortuneForced=!1,!MouseIn(...e.roll))){if(0===WheelFortuneVelocity&&MouseIn(...e.select)){const e={FortuneWheelItemSets:sm.FortuneWheelItemSets,FortuneWheelCommands:sm.FortuneWheelCommands},t=new Mf(sm,e,sm.character);sm.children.set(t.screen,t),t.load()}else if(0===WheelFortuneVelocity&&MouseIn(...e.preset)&&WheelFortuneCharacter?.IsPlayer()){const e=new Xf(sm,WheelFortuneCharacter.MBSSettings.FortuneWheelPresets);sm.children.set(e.screen,e),e.load()}return n(t)}})),_p.hookFunction("WheelFortuneMouseUp",11,((e,t)=>{!Player.MBSSettings.RollWhenRestrained&&Player.IsRestrained()||t(e)})),_p.hookFunction("WheelFortuneMouseDown",11,((e,t)=>{!Player.MBSSettings.RollWhenRestrained&&Player.IsRestrained()||t(e)}));const r="undefined"!=typeof WheelFortuneDrawWheel?"WheelFortuneDrawWheel":"WheelFortuneDraw";_p.hookFunction(r,11,(([e,...t],n)=>n([sm.weightedIDs,...t]))),sm=new lm,Ip(SR).then((()=>{kp.log("Initializing wheel of fortune module"),rm=function(){const e=Dp(Np({leash_candy:[{Name:"ReverseBunnySuit",Group:"Suit",ItemCallback:(e,t)=>tm(e,t,[0,1])},{Name:"Catsuit",Group:"SuitLower",ItemCallback:(e,t)=>tm(e,t,[0,1])},{Name:"FaceVeil",Group:"Mask",Color:["#000","Default"],ItemCallback:(e,t)=>tm(e,t,[1])},{Name:"FuturisticMittens",Group:"ItemHands",TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Permanent PSO Mittens"},ItemCallback:(e,t)=>tm(e,t,[0,1])},{Name:"InteractiveVRHeadset",Group:"ItemHead",TypeRecord:{b:3,f:3,g:1},Craft:{Property:"Secure",Name:"Permanent PSO Headset"},ItemCallback:(e,t)=>tm(e,t,[0])},{Name:"LargeDildo",Group:"ItemMouth",Craft:{Property:"Secure",Name:"Permanent PSO Dildo",Description:"Specially made to fill a PSOs mouth and throat"}},{Name:"LatexBallMuzzleGag",Group:"ItemMouth2",Craft:{Property:"Secure",Name:"Permanent PSO Muzzle",Description:"Forcing the dildo in and keeping it secure"}},{Name:"FuturisticMuzzle",Group:"ItemMouth3",TypeRecord:{n:1,h:0,s:3},Craft:{Property:"Secure",Name:"Permanent PSO Muzzle",Description:"Keeping your cries muffled"},ItemCallback:(e,t)=>tm(e,t,[3])},{Name:"FuturisticVibrator",Group:"ItemVulva",TypeRecord:{vibrating:9},Craft:{Property:"Secure",Name:"Permanent PSO Vibe",Description:"Specially made to fill a PSO"}},{Name:"SciFiPleasurePanties",Group:"ItemPelvis",TypeRecord:{c:3,i:4,o:1,s:2},Craft:{Property:"Secure",Name:"Permanent PSO Panties",Description:"No escape and no Orgasms"},ItemCallback:(e,t)=>tm(e,t,[0,2,4,5])},{Name:"BonedNeckCorset",Group:"ItemNeck",Color:["#222222","#888888","#AA2121","#AA2121","#888888"],TypeRecord:{typed:1},Craft:{Property:"Secure",Name:"Permanent PSO Collar"},ItemCallback:(e,t)=>tm(e,t,[2,3])},{Name:"CollarChainShort",Group:"ItemNeckRestraints",Craft:{Property:"Secure",Name:"Permanent PSO Chain",Description:"To keep a PSO on their knees"},Property:{OverridePriority:7},ItemCallback:(e,t)=>tm(e,t,[0])},{Name:"StrictLeatherPetCrawler",Group:"ItemArms",Craft:{Property:"Secure",Name:"Permanent PSO Suit",Description:"Extra tight and unremovable"}},{Name:"HeavyLatexCorset",Group:"ItemTorso",TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Permanent PSO Corset",Description:"Extra tight and specially molded"}},{Name:"FuturisticHarness",Group:"ItemTorso2",TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Permanent PSO Harness",Description:"Special harness that constantly shrinks...."},Property:{OverridePriority:23},ItemCallback:(e,t)=>tm(e,t,[0,1,2])},{Name:"FuturisticEarphones",Group:"ItemEars",TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Permanent PSO Earphones"},Color:["#0F0F0F","Default","Default"],ItemCallback:(e,t)=>tm(e,t,[1])},{Name:"CeilingChain",Group:"ItemAddon",TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Permanent PSO Chain",Description:"Never to escape"},ItemCallback:(e,t)=>tm(e,t,[0])},{Name:"RoundPiercing",Group:"ItemNipplesPiercings",TypeRecord:{typed:1},Craft:{Property:"Secure",Name:"Permanent PSO Piercings"},Color:["#000000","Default","Default"],ItemCallback:(e,t)=>tm(e,t,[1,2])},{Name:"CollarAutoShockUnit",Group:"ItemNeckAccessories",TypeRecord:{s:2,y:0},Craft:{Property:"Secure",Name:"Permanent PSO Shock Unit"}},{Name:"FrogtieStraps",Group:"ItemLegs",Craft:{Property:"Secure",Name:"Permanent PSO Straps",Description:"To keep a PSO on their knees"},ItemCallback:(e,t)=>tm(e,t,[2])},{Name:"DroneMask",Group:"ItemHood",TypeRecord:{m:0,e:0,p:1,g:0,s:1,h:2,j:0},Craft:{Property:"Thin",Name:"Permanent PSO Mask"},ItemCallback:(e,t)=>tm(e,t,[2])}],mummy:[{Name:"DuctTape",Group:"ItemFeet",TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Mummy Wrappings",Description:"A bundle of resilient cloth wrappings"},ItemCallback:(e,t)=>{tm(e,t,[0]);const n=TypedItemDataLookup[`${e.Asset.Group.Name}${e.Asset.Name}`],r=(n?.options??[]).map((e=>e.Property.TypeRecord));0!==r.length&&zp(e,t,Mp(r))}},{Name:"DuctTape",Group:"ItemLegs",TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Mummy Wrappings",Description:"A bundle of resilient cloth wrappings"},ItemCallback:(e,t)=>{tm(e,t,[0]);const n=TypedItemDataLookup[`${e.Asset.Group.Name}${e.Asset.Name}`],r=(n?.options??[]).map((e=>e.Property.TypeRecord));0!==r.length&&zp(e,t,Mp(r))}},{Name:"DuctTape",Group:"ItemHands",TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Mummy Wrappings",Description:"A bundle of resilient cloth wrappings"},ItemCallback:(e,t)=>tm(e,t,[0])},{Name:"DuctTape",Group:"ItemArms",TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Mummy Wrappings",Description:"A bundle of resilient cloth wrappings"},ItemCallback:(e,t)=>{tm(e,t,[0]);const n=TypedItemDataLookup[`${e.Asset.Group.Name}${e.Asset.Name}`],r=(n?.options??[]).map((e=>e.Property.TypeRecord));0!==r.length&&zp(e,t,Mp(r))}},{Name:"LargeDildo",Group:"ItemMouth",Craft:{Property:"Large",Name:"Rubber Mouth Sealant",Description:"A rubber mass molded to shape of your mouth"}},{Name:"DuctTape",Group:"ItemMouth2",TypeRecord:{typed:0},Craft:{Property:"Large",Name:"Mummy Wrappings",Description:"A bundle of resilient cloth wrappings"},ItemCallback:(e,t)=>{tm(e,t,[0]);const n=TypedItemDataLookup[`${e.Asset.Group.Name}${e.Asset.Name}`],r=(n?.options??[]).map((e=>e.Property.TypeRecord));r.length<2||zp(e,t,Mp(r.slice(1)))}},{Name:"DuctTape",Group:"ItemMouth3",TypeRecord:{typed:0},Craft:{Property:"Large",Name:"Mummy Wrappings",Description:"A bundle of resilient cloth wrappings"},Equip:()=>Math.random()>.5,ItemCallback:(e,t)=>{tm(e,t,[0]);const n=TypedItemDataLookup[`${e.Asset.Group.Name}${e.Asset.Name}`],r=(n?.options??[]).map((e=>e.Property.TypeRecord));0!==r.length&&zp(e,t,Mp(r))}}],maid:[{Name:"LaceBands",Group:"Bracelet",Color:["#aaaaaa","#151515"]},{Name:"MaidOutfit2",Group:"Cloth",Color:["#0C0C0C","#919194","#9C9C9F"]},{Name:"CatsuitCollar",Group:"ClothAccessory",Color:["#0E0E0E"]},{Name:"MaidHairband1",Group:"Hat",Color:["#979797"]},{Name:"Socks6",Group:"Socks",Color:["#0D0D0D","#919194"]},{Name:"HeartTop",Group:"Bra",Color:["#0E0E0E"]},{Name:"FuturisticHeels2",Group:"Shoes",Color:["#101010","Default","#F1FAFF","#898989","#898989"],TypeRecord:{typed:1}},{Name:"MaidCollar",Group:"ItemNeck",Color:["#DCDCDC","#1B1B1B","Default"],Craft:{Property:"Secure",Name:"Maid Collar",Description:"A tight fitting yet comfortable collar"}},{Name:"FuturisticMittens",Group:"ItemHands",Color:["#FFFFFF","#FFFFFF","#2E2E2E","#050505"],TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Maid Mittens",Description:"For keeping a maid out of trouble"}},{Name:"FuturisticHeels2",Group:"ItemBoots",Color:["#101010","#101010","Default","#F1FAFF","#898989","#898989","#898989"],TypeRecord:{typed:1},Craft:{Property:"Secure",Name:"Maid Heels",Description:"For keeping a maid on their toes"}},{Name:"WiredEgg",Group:"ItemVulva",Color:["Default","#141414"],TypeRecord:{vibrating:1},Craft:{Property:"Arousing",Name:"Maid Teaser",Description:"A little reminder to keep a maid on edge"},Property:{OverridePriority:21}},{Name:"StraitLeotard",Group:"ItemArms",Color:["#FFFFFF","#1A1A1A","#FFFFFF"],TypeRecord:{cl:1,co:1,np:0,vp:0},Craft:{Property:"Secure",Name:"Maid Jacket",Description:"For keeping a maid out of trouble"}},{Name:"LeatherAnkleCuffs",Group:"ItemFeet",Color:["#969696","#191919","#969696"],TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Maid Cuffs",Description:"For keeping a maid out of trouble"}},{Name:"BallGag",Group:"ItemMouth",TypeRecord:{typed:2},Craft:{Property:"Large",Name:"Maid Silencer",Description:"Silence is golden"}}],statue:[{Name:"ReverseBunnySuit",Group:"SuitLower",Color:["#1B1B1B"],Equip:e=>RR(e)},{Name:"SeamlessCatsuit",Group:"SuitLower",Color:["#484747"],Equip:e=>!RR(e)},{Name:"SeamlessCatsuit",Group:"Suit",Color:["#484747"],Equip:e=>!RR(e)},{Name:"ReverseBunnySuit",Group:"Cloth",Color:["#1B1B1B","#1B1B1B"]},{Name:"BondageSkirt",Group:"ClothLower",Color:["#484747","#333333","#333333"]},{Name:"CatsuitCollar",Group:"ClothAccessory",Color:["#484747"]},{Name:"HighCollar",Group:"ItemNeck",Color:["#363636","#717171"],Craft:{Property:"Secure",Name:"Statue Neck"}},{Name:"LargeDildo",Group:"ItemMouth",Color:["#333333"],Craft:{Property:"Large",Name:"Mouth Sealant"},Property:{OverridePriority:27}},{Name:"LatexPostureCollar",Group:"ItemMouth2",Color:["Default"],Craft:{Property:"Large",Name:"Mouth Sealant"},Property:{OverridePriority:28}},{Name:"LatexBallMuzzleGag",Group:"ItemMouth3",Color:["#A1A1A1"],Craft:{Property:"Large",Name:"Mouth Sealant"}},{Name:"KirugumiMask",Group:"ItemHood",Color:["#484747","#484747","#484747","#484747"],TypeRecord:{e:0,m:3,b:0,br:0,op:0,ms:0},Craft:{Property:"Secure",Name:"Statue's Visage"}},{Name:"MonoHeel",Group:"ItemBoots",Color:["#737070","#737070","#101010"],TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Statue Base"}},{Name:"FuturisticMittens",Group:"ItemHands",Color:["#767676","#5F5F5F","#3C3C3C","#4F4F4F"],TypeRecord:{typed:0},Craft:{Property:"Secure",Name:"Statue Hands"}},{Name:"SmoothLeatherArmbinder1",Group:"ItemArms",Color:["#191919","#3D3D3D","#191919","#191919","#191919"],Craft:{Property:"Secure",Name:"Statue Arms"}}]}).map((([e,t])=>{const n=Object.freeze(t.map((t=>{let n;if(null!==t.Craft&&"object"==typeof t.Craft){const r=AssetGet(Player.AssetFamily,t.Group,t.Name);if(null==r)throw new Error(`Invalid ${e} item: ${t.Group}${t.Name}`);n={...t.Craft,Item:t.Name,Private:!0,Lock:"",TypeRecord:void 0,Name:t.Craft.Name||r.Description,MemberNumber:void 0,MemberName:""},CraftingValidate(n,r,!1)}return Object.freeze({...t,Custom:!1,Property:Object.freeze(t.Property??{}),TypeRecord:t.TypeRecord,Craft:Object.freeze(n),Color:t.Color,ItemCallback:t.ItemCallback,Equip:t.Equip})})));return[e,n]})));return Object.freeze(e)}(),im=Object.freeze([new MR("PSO Bondage",rm.leash_candy,Player.MBSSettings.FortuneWheelItemSets,qp.UNDERWEAR,qp.UNDERWEAR,Hf($f.map(ka),[0,1,2,3,4,5]),!1),new MR("Mummification",rm.mummy,Player.MBSSettings.FortuneWheelItemSets,qp.CLOTHES,qp.UNDERWEAR,Hf($f.map(ka),[3]),!1),new MR("Bondage Maid",rm.maid,Player.MBSSettings.FortuneWheelItemSets,qp.UNDERWEAR,qp.UNDERWEAR,Hf($f.map(ka),[0,1,2,3]),!1),new MR("Petrification",rm.statue,Player.MBSSettings.FortuneWheelItemSets,qp.UNDERWEAR,qp.UNDERWEAR,Hf($f.map(ka),[0,1,2,3]),!1,nm)]),im.forEach((e=>e.register(!1))),om=Object.freeze(WheelFortuneOption.filter((e=>!e.Custom))),am=WheelFortuneDefault,bm([fm.SHARED])}))}));const um=80,cm=160;Ip(yR).then((()=>{kp.log("Initializing crafting hooks"),_p.patchFunction("CraftingClick",{"if (CraftingOffset < 0) CraftingOffset = 80 - 20;":"if (CraftingOffset < 0) CraftingOffset = 160 - 20;","if (CraftingOffset >= 80) CraftingOffset = 0;":"if (CraftingOffset >= 160) CraftingOffset = 0;"}),_p.patchFunction("CraftingRun",{"/ ${80 / 20}.":"/ 8."}),Ip(SR).then((()=>{kp.log("Initializing crafting cache"),_p.hookFunction("CraftingSaveServer",0,((e,t)=>{const n=Player.Crafting;Player.Crafting=n?.slice(0,um),t(e),Player.Crafting=n;const r=null==(i=Player.Crafting?Player.Crafting.slice(um):null)?"":i.map((e=>e?.Item?CraftingSerialize(e):"")).join(CraftingSerializeItemSep);var i;r!=Player.MBSSettings.CraftingCache&&(Player.MBSSettings.CraftingCache=r,bm([fm.SETTINGS]))})),function(e,t){if(e.Crafting??=[],Pp(e.Crafting,um,null),!t)return;const n=LZString.compressToUTF16(t),r=CraftingDecompressServerData(n),i=new Set(e.Crafting.map((e=>JSON.stringify(e))));let o=!1;for(const[e,t]of CommonEnumerate(r))if(null!=t)e:switch(CraftingValidate(t)){case CraftingStatusType.OK:{const n=JSON.stringify(t);i.has(n)&&(kp.warn(`Filtering duplicate crafting item ${um+e}: "${t.Name} (${t.Item})"`),r[e]=null);break e}case CraftingStatusType.ERROR:{const n=JSON.stringify(t);i.has(n)?(kp.warn(`Filtering duplicate crafting item ${um+e}:"${t.Name} (${t.Item})"`),r[e]=null):o=!0;break e}case CraftingStatusType.CRITICAL_ERROR:kp.error(`Removing corrupt crafting item ${um+e}: "${t?.Name} (${t?.Item})"`),r[e]=null}for(const t of r)if(e.Crafting.length>=cm){if(null==t)continue;if(e.Crafting.includes(null,um))kp.warn("Found more than 160 crafting items, trimming down [80, 160)-interval null entries"),e.Crafting=e.Crafting.filter(((e,t)=>t<um||null!=e));else{if(!e.Crafting.includes(null)){const t=e.Crafting.length-cm;kp.error(`Found more than 160 crafting items, the last ${t} will be deleted`);break}kp.warn("Found more than 160 crafting items, trimming down [0, 80)-interval null entries"),e.Crafting=e.Crafting.filter((e=>null!=e))}}else e.Crafting.push(t);o&&e.IsPlayer()&&CraftingSaveServer()}(Player,Player.MBSSettings.CraftingCache)}))}));const dm=18e4;function hm(e){const t=[],n=CommonIsObject(e)?e:{};for(const[e,r]of Object.entries(n))try{const n=JSON.stringify(r??"");t.push([e,(new TextEncoder).encode(n).byteLength])}catch{t.push([e,NaN])}return Object.fromEntries(t.sort((([e,t],[n,r])=>{t=Math.round(t/100),r=Math.round(r/100);const i=Number.isNaN(t),o=Number.isNaN(r);return t===r||i&&o?e.localeCompare(n):i||o?o?-1:1:r-t})))}function pm(e){return Math.round(e/100)/10}const fm=Object.freeze({SETTINGS:0,SHARED:1});function mm(){const e=function(){const e=Tp.fromVersion(t),n=`#v${e.major}${e.minor}${e.micro}`;return e.beta?["blob/devel",""]:["blob/main",n]}();return`https://github.com/bananarama92/MBS/${e[0]}/CHANGELOG.md${e[1]}`}function gm(e,t,n){Array.isArray(t)?t.length>pR&&(xp(t,pR),n.push([`Trimming too long wheel of fortune item list: ${t.length}/${pR}`])):(t=[],n.push(["Re-initializing invalid wheel of fortune item list: "+typeof t]));const r=Object.seal(Array(pR).fill(null));return t.forEach(((t,i)=>{if(null!==t)try{(r[i]=e(r,t)).register(!1)}catch(e){n.push([`Failed to load corrupted custom wheel of fortune item ${i}`,e])}})),r}function Rm(e,t){Array.isArray(e)?e.length>fR&&(xp(e,fR),t.push([`Trimming too long wheel of fortune preset list: ${e.length}/${fR}`])):(e=[],t.push(["Re-initializing invalid wheel of fortune preset list: "+typeof e]));const n=Object.seal(Array(fR).fill(null));return e.forEach(((e,r)=>{if(null===e)return;if(Array.isArray(e)||"object"!=typeof e||"string"!=typeof e.ids)return void t.push([`Failed to load corrupted custom wheel of fortune preset ${r}`]);const{name:i,ids:o}=e;n[r]={name:"string"==typeof i&&i.length>0&&i.length<=20?i:`Preset ${r}`,ids:o}})),n}function vm(e,t,n=!0){let r=null;try{if(e&&"string"==typeof e){let t=LZString.decompressFromUTF16(e);t||(t=LZString.decompressFromBase64(e)),r=JSON.parse(t||"null")}}catch(e){n&&kp.warn(`failed to load corrupted MBS ${t}`,e)}return null!==r&&"object"==typeof r?r:{}}function ym(e=null,n=!0){if(void 0===Player.OnlineSharedSettings)throw new Error('"Player.OnlineSharedSettings" still uninitialized');e??={...vm(Player.OnlineSettings?.MBS,"OnlineSettings"),...vm(Player.ExtensionSettings.MBS,"ExtensionSettings"),...vm(Player.OnlineSharedSettings.MBS,"OnlineSharedSettings")},void 0!==e.Version&&function(e){if(void 0===e)return kp.log("Detecting first-time MBS initialization"),!1;const n=Tp.fromVersion(t);let r;try{r=Tp.fromVersion(e)}catch(t){return kp.warn(`Failed to parse previous MBS version: ${e}`),!1}return n.greater(r)?(kp.log(`Upgrading MBS from ${e} to ${t}`),!0):!!n.lesser(r)&&(kp.warn(`Downgrading MBS from ${e} to ${t}`),!1)}(Player.OnlineSharedSettings.MBSVersion??Player.OnlineSettings?.MBSVersion)&&function(){const e=`New MBS version detected: ${t}\n\nSee below for the updated changelog:\n${mm()}`;"number"==typeof Player.MemberNumber&&ServerAccountBeep({MemberNumber:Player.MemberNumber,MemberName:"MBS",ChatRoomName:"MBS Changelog",Private:!0,Message:e,ChatRoomSpace:"",BeepType:""})}();let r=!1;void 0!==Player.OnlineSettings?.MBSVersion&&(delete Player.OnlineSettings.MBSVersion,r=!0),Player.OnlineSettings?.MBS&&(delete Player.OnlineSettings.MBS,r=!0),r&&ServerAccountUpdate.QueueData({OnlineSettings:Player.OnlineSettings});const i=function(e){const n={Version:[],CraftingCache:[],FortuneWheelItemSets:[],FortuneWheelCommands:[],FortuneWheelPresets:[],LockedWhenRestrained:[],RollWhenRestrained:[]},r={CraftingCache:"",LockedWhenRestrained:!1,RollWhenRestrained:!0};for(const[t,i]of Np(r))void 0!==e[t]&&(typeof e[t]!=typeof i?n[t]=[[`Invalid type, expected a ${typeof i}: ${typeof n[t]}`]]:r[t]=e[t]);return{settings:{Version:t,CraftingCache:r.CraftingCache,FortuneWheelItemSets:gm(MR.fromObject,e.FortuneWheelSets??e.FortuneWheelItemSets??[],n.FortuneWheelItemSets),FortuneWheelCommands:gm(ER.fromObject,e.FortuneWheelCommands??[],n.FortuneWheelCommands),FortuneWheelPresets:Rm(e.FortuneWheelPresets??[],n.FortuneWheelPresets),LockedWhenRestrained:r.LockedWhenRestrained,RollWhenRestrained:r.RollWhenRestrained},ok:0===Kd(Object.values(n).map((e=>e.length))),err:Dp(Np(n).filter((([e,t])=>t.length>0)))}}(e);return(i.ok||n)&&(Player.MBSSettings=i.settings),i.ok||(kp.warn("Encountered and fixed one or more errors while parsing MBS settings",i.err),n&&function(e){const t=Dp(Np(e).map((([e,t])=>[e,t.map((e=>e.join(", ")))]))),n=`Encountered one or more errors while parsing MBS settings:\n\n${JSON.stringify(t,void 0,4)}`;"number"==typeof Player.MemberNumber&&ServerAccountBeep({MemberNumber:Player.MemberNumber,MemberName:"MBS",ChatRoomName:"MBS Settings Error",Private:!0,Message:n,ChatRoomSpace:"",BeepType:""})}(i.err)),Player.OnlineSharedSettings.WheelFortune??=WheelFortuneDefault,i}function bm(e,n=!0){if(void 0===Player.OnlineSharedSettings)throw new Error("Player.OnlineSharedSettings is still uninitialized");const r={};if(e.includes(fm.SETTINGS)){const e=gc(Player.MBSSettings,"FortuneWheelItemSets","FortuneWheelCommands");Player.ExtensionSettings.MBS=LZString.compressToUTF16(JSON.stringify(e)),n&&(r["ExtensionSettings.MBS"]=Player.ExtensionSettings.MBS)}if(e.includes(fm.SHARED)){const e=Object.freeze({FortuneWheelItemSets:Player.MBSSettings.FortuneWheelItemSets,FortuneWheelCommands:Player.MBSSettings.FortuneWheelCommands});Player.OnlineSharedSettings.MBS=LZString.compressToUTF16(JSON.stringify(e)),Player.OnlineSharedSettings.MBSVersion=t,n&&(Player.OnlineSharedSettings.WheelFortune=vR(Player.OnlineSharedSettings.WheelFortune),r.OnlineSharedSettings=Player.OnlineSharedSettings)}n&&ServerAccountUpdate.QueueData(r)}function Sm(){const e=["ExtensionSettings","OnlineSharedSettings"];for(const t of e){const e=hm(Player[t]),n=Object.fromEntries(Object.entries(e).map((([e,t])=>[e,pm(t)]))),r=pm(Kd(Object.values(e),(e=>Number.isNaN(e)?0:e)));r>=.9*dm/1e3?kp.warn(`Total ${t} data usage at ${r} / ${dm/1e3} KB`,n):kp.log(`Total ${t} data usage at ${r} / ${dm/1e3} KB`,n)}}const wm=Object.freeze({OK:0,ERROR:1,EMPTY_SETTINGS:2,WARN:3});Ip(bR).then((()=>{ym(),bm([fm.SETTINGS,fm.SHARED],!1),kp.log("Initializing settings module"),Sm()}));var Cm={Blush:"R98"},km={Large:"R98",Normal:"R98",Small:"R98",XLarge:"R98"},Bm={WombTattoos:"R101"},Pm={FlatMedium:"R98",FlatSmall:"R98",Large:"R98",Normal:"R98",Small:"R98",XLarge:"R98"},xm={Bandeau1:"R98",Bikini1:"R98",BondageBra1:"R98",Bra1:"R98",Bra10:"R98",Bra2:"R98",Bra7:"R98",Bra8:"R98",Bra9:"R98",BunnySuit:"R98",Bustier1:"R98",Camisole:"R98",ChineseBra1:"R98",ClamShell:"R98",CoconutBra:"R98",CorsetBikini1:"R98",CowPrintedBra:"R98",CuteBikini1:"R98",DominatrixLeotard:"R98",FishnetBikini1:"R98",FlowerBra:"R98",FrameBra1:"R98",FrameBra2:"R98",FullLatexBra:"R98",FullLatexBra2:"R98",HaremBra:"R98",HarnessBra1:"R98",HarnessBra2:"R98",HeartTop:"R98",KittyBra1:"R98",LatexBra1:"R98",LatexBunnySuit:"R98",LeatherBreastBinder:"R98",LeatherStrapBra1:"R98",MaidBra1:"R98",OuvertPerl1:"R98",Ribbons:"R98",Sarashi1:"R98",SexyBeachBra1:"R98",SexyBikini1:"R98",SexyBikini2:"R98",SexyBikini3:"R98",SexyBikiniBra1:"R98",SleevelessSlimLatexLeotard:"R98",StarHarnessBra:"R98",StrapBra:"R98",StuddedHarness:"R98",Swimsuit1:"R98",Swimsuit2:"R98",Swimsuit3:"R98"},Mm={Band1:"R98",BowBand:"R98",KinkBracelet:"R98",LaceBands:"R98",LesBand:"R98",SpikeBands:"R98",Wristband:"R98"},Em={AdmiralTop:"R98",AdultBabyDress1:"R98",AdultBabyDress2:"R98",AdultBabyDress3:"R98",AdultBabyDress4:"R98",BabydollDress1:"R98",Blouse1:"R98",Bodice1:"R98",BodyTowel1:"R98",BondageBustier1:"R98",BondageBustier2:"R98",BondageDress1:"R98",BondageDress2:"R98",BridesmaidDress1:"R98",BusinessSuit:"R101",ButtonShirt:"R98",CheerleaderTop:"R98",ChineseDress1:"R98",ChineseDress2:"R98",CollegeOutfit1:"R98",ComfyTop:"R98",CorsetDress:"R101",CorsetShirt:"R98",CropTop:"R98",Dress2:"R98",Dress3:"R98",DressFur:"R98",EveningGown:"R102",FishnetTop:"R98",FlowerDress:"R98",FrilledShirt:"R98",FurCoat:"R98",FuzzyDress:"R98",Gown1:"R98",Gown2Top:"R98",Gown3:"R98",GrandMage:"R98",HeavyLeatherDress:"R102",Hoodie:"R98",Jacket:"R98",LaceBabydoll:"R98",LatexLacedSuit:"R98",LatexTankTop:"R98",LatexTop:"R98",Laurel:"R98",LeatherBolero:"R98",LeatherCorsetTop1:"R98",LeatherCropTop:"R98",MaidApron1:"R98",MaidApron2:"R98",MaidLatex:"R101",MaidOutfit1:"R98",MaidOutfit2:"R98",MaleTankTop1:"R98",MistressTop:"R98",NurseUniform:"R98",RetroGirdle:"R98",ReverseBunnySuit:"R98",Robe1:"R98",SeethroughTop:"R98",ShoulderlessTop:"R98",SlaveRags:"R98",SleevelessTop:"R98",SteampunkCorsetTop1:"R98",StudentOutfit1:"R98",StudentOutfit2:"R98",StudentOutfit3:"R98",SummerDress:"R98",SuspenderTop1:"R98",Sweater1:"R98",TShirt1:"R98",TShirt2:"R98",TeacherOutfit1:"R98",TennisShirt1:"R98",VirginKiller1:"R98",WeddingDress1:"R98",WeddingDress2:"R98",Yukata1:"R98"},Im={Bib:"R98",Bouquet:"R98",BugLegs:"R98",BunnyCollarCuffs:"R98",Camera1:"R98",Cape:"R98",CatsuitCollar:"R98",FacePaint:"R98",FrillyApron:"R98",FurBolero:"R98",Glitter:"R98",JewelrySet:"R98",Kissmark:"R98",KissmarkDummy:"R98",LargeBelt:"R98",LatexApron:"R101",LeatherStraps:"R98",Poncho:"R98",Scarf:"R98",StudentOutfit3Bow1:"R98",StudentOutfit3Bow2:"R98",StudentOutfit3Bow3:"R98",StudentOutfit3Scarf:"R98",WombTattoos:"R101",ZipperBelt:"R99"},_m={AdmiralSkirt:"R98",AsymmetricSkirt:"R98",BondageSkirt:"R98",BusinessSkirt:"R98",BusinessTrousers:"R101",CheerleaderSkirt:"R98",ChineseSkirt1:"R98",ClothSkirt1:"R98",CollegeSkirt:"R98",CrossSkirt:"R98",CrossSkirtLight:"R98",ElegantSkirt:"R98",Gown2Skirt:"R98",HaremPants:"R98",HaremPants2:"R98",HulaSkirt:"R98",JeanSkirt:"R98",Jeans1:"R98",Jeans2:"R98",JeansShorts:"R98",LatexPants1:"R98",LatexSkirt1:"R98",LatexSkirt2:"R98",Leggings1:"R98",Leggings2:"R98",LongLeatherSkirt:"R98",LongPleatedSkirt:"R98",LongSkirt1:"R98",MageSkirt:"R98",MistressBottom:"R98",Pajama1:"R98",PantBoots:"R98",PencilSkirt:"R98",PleatedSkirt:"R98",RuffledSkirt:"R98",ShortPencilSkirt:"R98",ShortPlaidSkirt:"R98",Shorts1:"R98",Skirt1:"R98",Skirt2:"R98",Skirt3:"R98",TennisSkirt1:"R98",TulleSkirt:"R98",Tutu:"R98",Waspie1:"R98",Waspie2:"R98",Waspie3:"R98"},$m={ClassicLatexCorset:"R98",Corset1:"R98",Corset2:"R98",Corset3:"R98",Corset4:"R98",Corset5:"R98",Corset6:"R98",CorsetDress:"R101",LatexCorset1:"R98",LeatherCorsetTop1:"R98",SteampunkCorsetTop1:"R98",Underbust:"R98"},Om={Emoticon:"R98"},Fm={Eyebrows1:"R98",Eyebrows2:"R98",Eyebrows7:"R98",Eyebrows8:"R98"},Lm={Eyes1:"R98",Eyes10:"R98",Eyes11:"R98",Eyes12:"R98",Eyes13:"R98",Eyes14:"R99",Eyes2:"R98",Eyes3:"R98",Eyes4:"R98",Eyes5:"R98",Eyes6:"R98",Eyes7:"R98",Eyes8:"R98",Eyes9:"R98"},Hm={Eyes1:"R98",Eyes10:"R98",Eyes11:"R98",Eyes12:"R98",Eyes13:"R98",Eyes14:"R99",Eyes2:"R98",Eyes3:"R98",Eyes4:"R98",Eyes5:"R98",Eyes6:"R98",Eyes7:"R98",Eyes8:"R98",Eyes9:"R98"},Tm={CatEye:"R98",CatEye2:"R98",LargeBlurred:"R98",LargeSolid:"R98",SmallBlurred:"R98",SmallSolid:"R98",SuperstarBlurred:"R98",SuperstarSolid:"R98",Tanuki:"R98",UndershadowedBlurred:"R98",UndershadowedSolid:"R98",Wings:"R98"},Am={BigBeard:"R98",ChinstrapBeard:"R98",Goatee:"R98",MediumBeard:"R98",Moustache:"R98",MoustacheBeard:"R98"},Nm={Fluids:"R98"},Dm={DropBag:"R98",GarterBelt:"R98",GarterBelt2:"R98",GarterBelt3:"R98",Tentacles:"R98"},jm={CatGlasses:"R98",EyePatch1:"R98",Glasses1:"R98",Glasses2:"R98",Glasses3:"R98",Glasses4:"R98",Glasses5:"R98",Glasses6:"R98",Goggles:"R98",GradientSunglasses:"R98",JokeGlasses:"R98",StreetEyewear:"R100",SunGlasses1:"R98",SunGlasses2:"R98",SunGlassesClear:"R98",VGlasses:"R98"},Wm={BikerGloves:"R98",Catsuit:"R98",CheerleaderPomPoms:"R98",CowPrintedGloves:"R98",FingerlessGloves:"R98",FishnetGloves:"R98",Gloves1:"R98",Gloves2:"R98",Gloves3:"R98",GlovesFur:"R98",HaremGlove:"R98",LatexElbowGloves:"R98",LatexShortGloves:"R98",MistressGloves:"R98",SeethroughSuit:"R98"},Gm={Antennae:"R98",BatWings:"R98",BigLynxEars:"R98",BunnyEars1:"R98",BunnyEars2:"R98",CowHorns:"R98",DildocornHorn:"R98",Ears1:"R98",Ears2:"R98",ElfEars:"R98",FoxEars1:"R98",FoxEars2:"R98",FoxEars3:"R98",GiantBow1:"R98",HairFeathers1:"R98",HairFlower1:"R98",Halo:"R98",Headset1:"R101",Horns:"R98",Horns2:"R98",Horns3:"R98",KittenEars1:"R98",KittenEars2:"R98",MouseEars1:"R98",MouseEars2:"R98",PonyEars1:"R98",PuppyEars1:"R98",PuppyEars2:"R98",RaccoonEars1:"R98",Ribbons1:"R98",Ribbons2:"R98",Ribbons3:"R98",Ribbons4:"R98",SuccubusHorns:"R98",UnicornHorn:"R98",WeddingVeil1:"R98",WolfEars1:"R98",WolfEars2:"R98"},zm={Antennae:"R98",BatWings:"R98",BunnyEars1:"R98",BunnyEars2:"R98",CowHorns:"R98",DildocornHorn:"R98",Ears1:"R98",Ears2:"R98",ElfEars:"R98",FoxEars1:"R98",FoxEars2:"R98",FoxEars3:"R98",Horns:"R98",Horns2:"R98",Horns3:"R98",KittenEars1:"R98",KittenEars2:"R98",MouseEars1:"R98",MouseEars2:"R98",PonyEars1:"R98",PuppyEars1:"R98",PuppyEars2:"R98",RaccoonEars1:"R98",SuccubusHorns:"R98",UnicornHorn:"R98",WolfEars1:"R98",WolfEars2:"R98"},Vm={GiantBow1:"R98",HairFeathers1:"R98",HairFlower1:"R98",Halo:"R98",Headset1:"R101",Ribbons1:"R98",Ribbons2:"R98",Ribbons3:"R98",Ribbons4:"R98",WeddingVeil1:"R98"},qm={HairBack1:"R98",HairBack10:"R98",HairBack10b:"R98",HairBack11:"R98",HairBack12:"R98",HairBack12b:"R98",HairBack13:"R98",HairBack13b:"R98",HairBack14:"R98",HairBack15:"R98",HairBack15b:"R98",HairBack16:"R98",HairBack17:"R98",HairBack18:"R98",HairBack18b:"R98",HairBack19:"R98",HairBack19b:"R98",HairBack1b:"R98",HairBack2:"R98",HairBack20:"R98",HairBack20b:"R98",HairBack21:"R98",HairBack22:"R98",HairBack23:"R98",HairBack24:"R98",HairBack25:"R98",HairBack26:"R98",HairBack27:"R98",HairBack28:"R98",HairBack29:"R98",HairBack2b:"R98",HairBack30:"R98",HairBack31:"R98",HairBack32:"R98",HairBack33:"R98",HairBack34:"R98",HairBack35:"R98",HairBack36:"R98",HairBack37:"R98",HairBack38:"R98",HairBack39:"R98",HairBack4:"R98",HairBack40:"R98",HairBack41:"R98",HairBack42:"R98",HairBack43:"R98",HairBack44:"R98",HairBack45:"R98",HairBack46:"R98",HairBack47:"R98",HairBack48:"R98",HairBack49:"R98",HairBack4b:"R98",HairBack5:"R98",HairBack50:"R98",HairBack51:"R98",HairBack52:"R98",HairBack53:"R98",HairBack54:"R98",HairBack54b:"R98",HairBack55:"R98",HairBack55b:"R98",HairBack56:"R98",HairBack56b:"R98",HairBack57:"R98",HairBack57b:"R98",HairBack57c:"R98",HairBack57d:"R102",HairBack5b:"R98",HairBack6:"R98",HairBack6b:"R98",HairBack7:"R98",HairBack7b:"R98",HairBack7c:"R98",HairBack8:"R98",HairBack9:"R98",HairBack9b:"R98",HairNone:"R98"},Um={HairFront1:"R98",HairFront10:"R98",HairFront10b:"R98",HairFront11:"R98",HairFront11b:"R98",HairFront12:"R98",HairFront12b:"R98",HairFront13:"R98",HairFront13b:"R98",HairFront14:"R98",HairFront14b:"R98",HairFront15:"R98",HairFront16:"R98",HairFront17:"R98",HairFront17b:"R98",HairFront18:"R98",HairFront19:"R98",HairFront1b:"R98",HairFront2:"R98",HairFront20:"R98",HairFront21:"R98",HairFront22:"R98",HairFront22b:"R98",HairFront23:"R98",HairFront23b:"R98",HairFront24:"R98",HairFront25:"R98",HairFront26:"R98",HairFront27:"R98",HairFront28:"R98",HairFront28b:"R98",HairFront29:"R98",HairFront29b:"R98",HairFront2b:"R98",HairFront3:"R98",HairFront30:"R98",HairFront31:"R98",HairFront32:"R98",HairFront33:"R98",HairFront33b:"R98",HairFront34:"R98",HairFront35:"R98",HairFront36:"R98",HairFront37:"R98",HairFront37b:"R98",HairFront38:"R98",HairFront38b:"R98",HairFront39:"R98",HairFront39b:"R98",HairFront3b:"R98",HairFront4:"R98",HairFront40:"R98",HairFront40b:"R98",HairFront41:"R98",HairFront41b:"R98",HairFront42:"R98",HairFront42b:"R98",HairFront43:"R98",HairFront43b:"R98",HairFront44:"R98",HairFront44b:"R98",HairFront45:"R98",HairFront45b:"R98",HairFront46:"R98",HairFront46b:"R98",HairFront47:"R98",HairFront47b:"R98",HairFront48:"R98",HairFront48b:"R98",HairFront49:"R98",HairFront4b:"R98",HairFront5:"R98",HairFront50:"R98",HairFront51:"R98",HairFront51b:"R98",HairFront52:"R98",HairFront52b:"R98",HairFront53:"R98",HairFront5b:"R98",HairFront6:"R98",HairFront6b:"R98",HairFront7:"R98",HairFront7b:"R98",HairFront8:"R98",HairFront8b:"R98",HairFront9:"R98",HairFront9b:"R98"},Km={Default:"R98"},Jm={BakerBoyHat:"R98",BallCapBack:"R98",BallCapFront:"R98",Band1:"R98",Band2:"R98",Bandana:"R98",Beanie:"R98",Beret1:"R98",Bonnet1:"R98",Bonnet2:"R98",BunnySuccubus2:"R98",CaptainHat1:"R98",CollegeDunce:"R98",CowboyHat:"R98",Crown1:"R98",Crown2:"R98",Crown3:"R98",Crown4:"R98",Crown5:"R98",FacePaint:"R98",FlowerCrown:"R98",FurHeadband:"R98",HeadTowel1:"R98",LatexHabit:"R98",MaidHairband1:"R98",MaidLatexHairband:"R101",NunHabit:"R98",NurseCap:"R98",PirateBandana1:"R98",PirateHat:"R98",PoliceWomanHat:"R98",PoppyCrown:"R98",ReindeerBand:"R98",RoseCrown:"R98",Santa1:"R98",SmallHat1:"R98",SwimCap:"R98",Tiara1:"R98",Veil1:"R98",Veil2:"R98",WitchHat1:"R98"},Zm={Default:"R98",NoEars:"R98",SmallEars:"R98"},Ym={H0900:"R98",H0910:"R98",H0920:"R98",H0930:"R98",H0940:"R98",H0950:"R98",H0960:"R98",H0970:"R98",H0980:"R98",H0990:"R98",H1000:"R98"},Xm={BedChains:"R98",BedRopes:"R98",BedStraps:"R98",BedTape:"R98",CeilingChain:"R98",CeilingRope:"R98",Covers:"R98"},Qm={ArmbinderJacket:"R98",BitchSuit:"R98",Bolero:"R98",BondageBouquet:"R98",BondageBra:"R98",BoxTieArmbinder:"R98",CanvasStraitjacket1:"R98",CeilingShackles:"R98",Chains:"R98",CollarCuffs:"R98",DuctTape:"R98",FourLimbsShackles:"R98",FullBodyLeatherHarness:"R98",FullBodyShackles:"R98",FullLatexSuit:"R98",FurStraitJacket:"R98",FuturisticArmbinder:"R98",FuturisticCuffs:"R98",FuturisticStraitjacket:"R98",HeavyYoke:"R98",HempRope:"R98",HighSecurityStraitJacket:"R98",HighStyleSteelCuffs:"R98",InflatableStraightLeotard:"R98",LatexArmbinder:"R98",LatexBoxtieLeotard:"R98",LatexButterflyLeotard:"R98",LatexSleevelessLeotard:"R98",LeatherArmSplints:"R98",LeatherArmbinder:"R98",LeatherCuffs:"R98",LeatherDeluxeCuffs:"R98",LeatherStraitJacket:"R98",Manacles:"R98",MedicalBedRestraints:"R98",MermaidSuit:"R98",MetalCuffs:"R98",NylonRope:"R98",OrnateCuffs:"R98",PantyhoseBody:"R98",PantyhoseBodyOpen:"R98",PetCrawler:"R98",Pillory:"R98",PlasticWrap:"R98",PrisonLockdownSuit:"R98",PrisonSJ:"R98",Ribbons:"R98",SeamlessLatexArmbinder:"R98",SeamlessStraitDress:"R98",SeamlessStraitDressOpen:"R98",ShinyArmbinder:"R98",ShinyPetSuit:"R98",ShinyStraitjacket:"R98",SleepSac:"R98",Slime:"R98",SmoothLeatherArmbinder1:"R98",SteelCuffs:"R98",StraitDress:"R98",StraitDressOpen:"R98",StraitJacket:"R98",StraitLeotard:"R98",StrictLeatherPetCrawler:"R98",SturdyLeatherBelts:"R98",Tentacles:"R98",ThinLeatherStraps:"R98",TightJacket:"R98",TightJacketCrotch:"R98",TransportJacket:"R98",UnderBedBondageCuffs:"R98",Web:"R98",WoodenCuffs:"R98",WrappedBlanket:"R98",WristShackles:"R98",Yoke:"R98",Zipties:"R98"},eg={BalletHeels:"R98",BalletHeels1:"R98",BalletWedges:"R98",FuturisticHeels:"R98",FuturisticHeels2:"R98",HighThighBoots:"R98",LeatherFootMitts1:"R98",LeatherToeCuffs:"R98",LockingBoots1:"R98",LockingHeels:"R98",LockingHeels2:"R98",LockingShoes1:"R98",LockingShoes2:"R98",MetalBallet:"R100",MonoHeel:"R98",PonyBoots:"R98",ShortPonyBoots:"R98",Slime:"R98",ThighHighLatexHeels:"R98",ToeCuffs:"R98",ToeTape:"R98",ToeTie:"R98",Zipties:"R98"},tg={ForbiddenChastityBra:"R98",FuturisticBra:"R98",FuturisticBra2:"R98",LeatherBreastBinder:"R98",MetalChastityBra:"R98",OrnateChastityBra:"R98",PolishedChastityBra:"R98",Ribbons:"R98",TickleBra:"R98"},ng={AnalBeads:"R98",AnalBeads2:"R98",AnalHook:"R98",BlackButtPlug:"R98",BunnyTailPlug1:"R98",BunnyTailPlug2:"R98",BunnyTailVibePlug:"R98",ButtPlugLock:"R98",ButtPump:"R98",Cowtail:"R98",DemonPlug:"R98",EggVibePlugXXL:"R98",FoxTail1:"R98",FoxTail2:"R98",FoxTails:"R98",HollowButtPlug:"R98",HorsetailPlug:"R98",HorsetailPlug1:"R98",InflVibeButtPlug:"R98",KittenTail1:"R98",KittenTail2:"R98",LockingVibePlug:"R98",MouseTail1:"R98",MouseTail2:"R98",PenisPlug:"R98",PuppyTailPlug:"R98",PuppyTailPlug1:"R98",RaccoonButtPlug:"R98",RaccoonTailPlug:"R98",ShockPlug:"R98",Stitches:"R98",SuccubusButtPlug:"R98",SuccubusHeartButtPlug:"R98",TailButtPlug:"R98",Tentacles:"R98",VibratingButtplug:"R98",VibratingDildoPlug:"R98",WolfTail1:"R98",WolfTail2:"R98",WolfTail3:"R98"},rg={BBQ:"R98",Bed:"R98",BondageBench:"R98",BurlapSack:"R98",Cage:"R98",ChangingTable:"R98",Coffin:"R98",ConcealingCloak:"R98",Crib:"R98",CryoCapsule:"R98",Cushion:"R98",DisplayCase:"R98",DollBox:"R98",Familiar:"R98",FoldingScreen:"R98",FuckMachine:"R98",FurBlanketWrap:"R98",FuturisticCrate:"R98",InflatableBodyBag:"R98",KabeshiriWall:"R98",Kennel:"R98",LittleMonster:"R98",Locker:"R98",LowCage:"R98",LuckyWheel:"R98",MedicalBed:"R98",MilkCan:"R98",Net:"R98",OneBarPrison:"R98",PersonalCage:"R98",PetBed:"R98",PetBowl:"R98",Pole:"R98",SaddleStand:"R98",SmallDisplayCase:"R98",SmallLocker:"R98",SmallWoodenBox:"R98",SmallWoodenBoxOpenHead:"R98",Snowman:"R98",StrapOnSmooth:"R98",StrapOnStuds:"R98",Sybian:"R98",TheDisplayFrame:"R98",TheHangingFrame:"R101",TransportWoodenBox:"R98",Trolley:"R99",VacBedDeluxe:"R98",VacCube:"R98",Vacbed:"R98",VacbedClear:"R98",WaterCell:"R98",WetFloor:"R98",WheelFortune:"R98",WoodenBox:"R98",WoodenBoxOpenHead:"R98",WoodenHorse:"R98",WoodenRack:"R98",WoodenStocks:"R98","X-Cross":"R98"},ig={BluetoothEarbuds:"R98",FuturisticEarphones:"R98",HeadphoneEarPlugs:"R98",Headphones:"R98",HeavyDutyEarPlugs:"R98",LightDutyEarPlugs:"R98"},og={AnkleShackles:"R98",BallChain:"R98",Chains:"R98",DuctTape:"R98",EscortAnkleCuffs:"R98",FloorShackles:"R98",FuturisticAnkleCuffs:"R98",HeavyAnkleCuffs:"R98",HeavySpreaderMetal:"R98",HempRope:"R98",HighStyleSteelAnkleCuffs:"R98",Irish8Cuffs:"R98",LeatherAnkleCuffs:"R98",LeatherBelt:"R98",LeatherDeluxeAnkleCuffs:"R98",MedicalBedRestraints:"R98",NylonRope:"R98",OrnateAnkleCuffs:"R98",PlasticWrap:"R98",Slime:"R98",SpreaderDildoBar:"R98",SpreaderMetal:"R98",SpreaderVibratingDildoBar:"R98",SteelAnkleCuffs:"R98",SturdyLeatherBelts:"R98",SuspensionCuffs:"R98",Tentacles:"R98",WoodenCuffs:"R98",Zipties:"R98"},ag={Baguette:"R98",Ballgag:"R98",Belt:"R98",Broom:"R98",BunPlush:"R98",CandleWax:"R98",Cane:"R98",CattleProd:"R98",Crop:"R98",ElectricToothbrush:"R98",Feather:"R98",FeatherDuster:"R98",Flogger:"R98",ForSaleSign:"R98",FoxPlush:"R98",Gavel:"R98",GlassEmpty:"R98",GlassFilled:"R98",Hairbrush:"R98",HeartCrop:"R98",IceCube:"R98",Karl:"R98",KeyProp:"R98",LargeDildo:"R98",LongDuster:"R98",LongSock:"R98",Lotion:"R98",MedicalInjector:"R98",Mug:"R98",Paddle:"R98",Panties:"R98",PetPotato:"R98",PetToy:"R98",Phone1:"R98",Phone2:"R98",PlasticWrap:"R98",Popcorn:"R99",PortalTablet:"R98",PotionBottle:"R98",RainbowWand:"R98",RopeCoilLong:"R98",RopeCoilShort:"R98",Ruler:"R98",Scissors:"R98",Shark:"R98",ShockRemote:"R98",ShockWand:"R98",SmallDildo:"R98",SmallVibratingWand:"R98",Smartphone:"R99",Spatula:"R98",Sword:"R98",TapeRoll:"R98",TennisRacket:"R98",Toothbrush:"R98",Towel:"R98",VibeRemote:"R98",VibratingWand:"R98",Vibrator:"R98",WartenbergWheel:"R98",Whip:"R98",WhipPaddle:"R98"},sg={CheerleaderPomPoms:"R98",DuctTape:"R98",FuturisticMittens:"R98",HoofMittens:"R98",LeatherMittens:"R98",PaddedLeatherMittens:"R98",PaddedMittens:"R98",PawMittens:"R98",PolishedMittens:"R98",PonyMittensBinder:"R100",SmoothLeatherMittens1:"R98"},lg={AnimeLenses:"R98",BigMouthHood:"R101",BlackoutLenses:"R98",ClothBlindfold:"R98",DroneMask:"R98",DuctTape:"R98",FrilledSleepMask:"R98",FullBlindfold:"R98",FurScarf:"R98",FuturisticMask:"R98",InteractiveVRHeadset:"R98",InteractiveVisor:"R98",KittyBlindfold:"R98",LatexBlindfold:"R98",LeatherBlindfold:"R98",LeatherSlimMask:"R98",LeatherSlimMaskOpenEyes:"R98",LeatherSlimMaskOpenMouth:"R98",LewdBlindfold:"R98",MedicalPatch:"R98",PaddedBlindfold:"R98",Pantyhose:"R98",PrisonLockdownBlindfold:"R98",Ribbons:"R98",RopeBlindfold:"R98",ScarfBlindfold:"R98",SleepMask:"R98",Slime:"R98",SmallBlindfold:"R98",Snorkel:"R98",Stitches:"R98",StuddedBlindfold:"R98",Tentacles:"R98",WebBlindfold:"R98"},ug={AccentHood:"R98",BigMouthHood:"R101",BlanketHood:"R98",CanvasHood:"R98",CollarHood:"R98",CorsetHood:"R98",CowHood:"R98",CustomLatexHood:"R98",DobermanMask:"R98",DogHood:"R98",DroneMask:"R98",FestivalFoxMask:"R98",FoxHood:"R98",FoxyMask:"R98",FuturisticHelmet:"R98",GGTSHelmet:"R98",GP9GasMask:"R98",GasMask:"R98",GwenHood:"R98",HarnessCatMask:"R98",HeadboxSeethrough:"R98",InflatableGagMask:"R98",InflatedBallHood:"R98",KirugumiMask:"R98",KittyHood:"R98",LampHeadHood:"R98",LatexBunny:"R98",LatexDogHood:"R98",LatexDogMask:"R98",LatexHabit:"R98",LatexHoodOpenHair:"R98",LeatherHood:"R98",LeatherHoodOpenEyes:"R98",LeatherHoodOpenMouth:"R98",LeatherHoodSealed:"R98",LeatherHoodSensDep:"R98",OldGasMask:"R98",OpenFaceHood:"R98",OpenMouthPlugHood:"R98",PantyHood:"R98",Pantyhose:"R98",PolishedSteelHood:"R98",PonyHood:"R98",PumpkinHead:"R98",SackHood:"R98",SensoryDeprivationHood:"R98",Slime:"R98",SpaceMask:"R100",TechnoHelmet1:"R98",VacHood:"R98",ZipperHood:"R98"},cg={Chains:"R98",DuctTape:"R98",FrogtieStraps:"R98",FuturisticLegCuffs:"R98",HempRope:"R98",HobbleSkirt:"R98",LeatherBelt:"R98",LeatherDeluxeLegCuffs:"R98",LeatherLegCuffs:"R98",LegBinder:"R98",MedicalBedRestraints:"R98",MermaidTail:"R98",NylonRope:"R98",OrnateLegCuffs:"R98",PlasticWrap:"R98",Ribbons:"R98",SeamlessHobbleSkirt:"R98",SeamlessLegBinder:"R98",ShinyLegBinder:"R98",Slime:"R98",SturdyLeatherBelts:"R98",Tentacles:"R98",Zipties:"R98"},dg={BountySuitcase:"R98",BountySuitcaseEmpty:"R98",BunPlush:"R98",CombinationPadlock:"R98",ExclusivePadlock:"R98",FamilyPadlock:"R98",FamilyPadlockKey:"R98",FoxPlush:"R98",HighSecurityPadlock:"R98",IntricatePadlock:"R98",Karl:"R98",Lockpicks:"R98",LoversPadlock:"R98",LoversPadlockKey:"R98",LoversTimerPadlock:"R98",MetalCuffsKey:"R98",MetalPadlock:"R98",MetalPadlockKey:"R98",MistressPadlock:"R98",MistressPadlockKey:"R98",MistressTimerPadlock:"R98",OwnerPadlock:"R98",OwnerPadlockKey:"R98",OwnerTimerPadlock:"R98",PandoraPadlock:"R98",PandoraPadlockKey:"R98",PasswordPadlock:"R98",PetPost:"R98",PetPotato:"R98",PortalLinkPadlock:"R98",SafewordPadlock:"R98",ServingTray:"R98",TeddyBear:"R98",TimerPadlock:"R98",TimerPasswordPadlock:"R98",WoodenMaidTray:"R98",WoodenMaidTrayFull:"R98",WoodenPaddle:"R98",WoodenSign:"R98"},hg={Ball:"R98",BallGag:"R98",BallGagMask:"R98",BambooGag:"R98",BigMouth:"R98",BitGag:"R98",BoneGag:"R98",CageMuzzle:"R98",CaneGag:"R98",CarrotGag:"R98",ChloroformCloth:"R98",ChopstickGag:"R98",ClothGag:"R98",ClothStuffing:"R98",CropGag:"R98",CupholderGag:"R98",DeepthroatGag:"R98",DentalGag:"R98",DildoGag:"R98",DildoPlugGag:"R98",DogMuzzleExposed:"R98",DuctTape:"R98",DusterGag:"R98",FoxyHarnessPanelGag:"R98",FunnelGag:"R98",FurScarf:"R98",FuturisticHarnessBallGag:"R98",FuturisticHarnessPanelGag:"R98",FuturisticMuzzle:"R98",FuturisticPanelGag:"R98",GasMaskGag:"R98",HarnessBallGag:"R98",HarnessBallGag1:"R98",HarnessPacifierGag:"R98",HarnessPanelGag:"R98",HarnessPonyBits:"R98",HookGagMask:"R98",Kissmark:"R102",KittyGag:"R98",KittyHarnessPanelGag:"R98",KittyMuzzleGag:"R98",LargeDildo:"R98",LatexBallMuzzleGag:"R98",LatexMuzzleMask:"R99",LatexPostureCollar:"R98",LatexRespirator:"R102",LatexSheathGag:"R98",LeatherCorsetCollar:"R98",LewdGag:"R98",LipGag:"R98",MedicalMask:"R98",MilkBottle:"R98",ModularGag:"R99",MouthFeatureGag:"R102",MuzzleGag:"R98",OTNPlugGag:"R98",PaciGag:"R98",PacifierGag:"R98",PaddedFaceMask:"R102",PantiesMask:"R98",PantyStuffing:"R98",PlasticWrap:"R98",PlugGag:"R98",PonyGag:"R98",PrisonLockdownGag:"R98",PumpGag:"R98",PumpkinGag:"R98",RegressedMilk:"R98",RegularSleepingPill:"R98",Ribbons:"R98",RingGag:"R98",RopeBallGag:"R98",RopeGag:"R98",ScarfGag:"R98",ShoeGag:"R98",Slime:"R98",SockStuffing:"R98",SpiderGag:"R98",SteelMuzzleGag:"R98",StitchedMuzzleGag:"R98",Stitches:"R102",TechnoGag:"R98",Tentacles:"R98",TonguePiercingGag:"R100",TongueStrapGag:"R98",WebGag:"R98",WiffleGag:"R98",XLBoneGag:"R98"},pg={BallGag:"R98",BallGagMask:"R98",BitGag:"R98",BoneGag:"R98",CageMuzzle:"R98",CarrotGag:"R98",ChloroformCloth:"R98",ClothGag:"R98",CupholderGag:"R98",DildoGag:"R98",DuctTape:"R98",DusterGag:"R98",FoxyHarnessPanelGag:"R98",FurScarf:"R98",FuturisticHarnessBallGag:"R101",FuturisticHarnessPanelGag:"R101",FuturisticMuzzle:"R98",FuturisticPanelGag:"R101",GasMaskGag:"R98",HarnessBallGag:"R98",HarnessBallGag1:"R98",HarnessPacifierGag:"R98",HarnessPanelGag:"R98",HarnessPonyBits:"R98",Kissmark:"R102",KittyGag:"R98",KittyHarnessPanelGag:"R98",KittyMuzzleGag:"R98",LatexBallMuzzleGag:"R98",LatexMuzzleMask:"R99",LatexPostureCollar:"R98",LatexRespirator:"R102",LeatherCorsetCollar:"R98",LewdGag:"R98",LipGag:"R98",MedicalMask:"R98",ModularGag:"R99",MouthFeatureGag:"R98",MuzzleGag:"R98",PaciGag:"R98",PaddedFaceMask:"R102",PantiesMask:"R98",PlasticWrap:"R98",PonyGag:"R98",PrisonLockdownGag:"R98",PumpkinGag:"R98",RegressedMilk:"R98",Ribbons:"R98",RingGag:"R98",RopeBallGag:"R98",RopeGag:"R98",ScarfGag:"R98",ShoeGag:"R98",Slime:"R98",SpiderGag:"R98",SteelMuzzleGag:"R98",StitchedMuzzleGag:"R98",Stitches:"R102",Tentacles:"R98",WebGag:"R98",WiffleGag:"R98",XLBoneGag:"R98"},fg={BallGag:"R98",BallGagMask:"R98",BitGag:"R98",BoneGag:"R98",CageMuzzle:"R98",CarrotGag:"R98",ChloroformCloth:"R98",ClothGag:"R98",CupholderGag:"R98",DildoGag:"R98",DuctTape:"R98",DusterGag:"R98",FoxyHarnessPanelGag:"R98",FurScarf:"R98",FuturisticHarnessBallGag:"R101",FuturisticHarnessPanelGag:"R101",FuturisticMuzzle:"R98",FuturisticPanelGag:"R101",GasMaskGag:"R98",HarnessBallGag:"R98",HarnessBallGag1:"R98",HarnessPacifierGag:"R98",HarnessPanelGag:"R98",HarnessPonyBits:"R98",Kissmark:"R98",KittyGag:"R98",KittyHarnessPanelGag:"R98",KittyMuzzleGag:"R98",LatexBallMuzzleGag:"R98",LatexMuzzleMask:"R99",LatexPostureCollar:"R98",LatexRespirator:"R98",LeatherCorsetCollar:"R98",LewdGag:"R98",LipGag:"R98",MedicalMask:"R98",ModularGag:"R99",MouthFeatureGag:"R102",MuzzleGag:"R98",PaciGag:"R98",PaddedFaceMask:"R98",PantiesMask:"R98",PlasticWrap:"R98",PonyGag:"R98",PrisonLockdownGag:"R98",PumpkinGag:"R98",RegressedMilk:"R98",Ribbons:"R98",RingGag:"R98",RopeBallGag:"R98",RopeGag:"R98",ScarfGag:"R98",ShoeGag:"R98",Slime:"R98",SpiderGag:"R98",SteelMuzzleGag:"R98",StitchedMuzzleGag:"R98",Stitches:"R98",Tentacles:"R98",WebGag:"R98",WiffleGag:"R98",XLBoneGag:"R98"},mg={AutoShockCollar:"R98",BatCollar:"R98",BonedNeckCorset:"R98",BordelleCollar:"R98",ClubSlaveCollar:"R98",ComboHarness:"R98",DogCollar:"R98",ExtendablePostureCollar:"R99",FuturisticCollar:"R98",GothicCollar:"R98",HeartCollar:"R98",HeartLinkChoker:"R98",HighCollar:"R98",HighSecurityCollar:"R98",HighStyleSteelCollar:"R98",LatexCollar1:"R98",LatexCollar2:"R98",LatexPostureCollar:"R98",LatexRingCollar:"R99",LeatherChoker:"R98",LeatherCollar:"R98",LeatherCollarBell:"R98",LeatherCollarBow:"R98",LeatherCorsetCollar:"R98",LeatherDeluxeCollar:"R98",LoveLeatherCollar:"R98",MaidCollar:"R98",NeckRope:"R98",NobleCorsetCollar:"R98",NylonCollar:"R98",OrnateCollar:"R98",PaddedBeltCollar:"R99",PetCollar:"R98",PetSuitShockCollar:"R98",PostureCollar:"R98",ShinySteelCollar:"R98",ShockCollar:"R98",SlaveCollar:"R98",SlenderSteelCollar:"R98",SpikeCollar:"R98",SpikedChoker:"R99",SteelPostureCollar:"R98",StrictPostureCollar:"R98",TechnoCollar:"R98"},gg={CollarAutoShockUnit:"R98",CollarBell:"R98",CollarBow:"R98",CollarButterfly:"R98",CollarCowBell:"R98",CollarFlower:"R98",CollarLapis:"R98",CollarMoon:"R98",CollarNameTag:"R98",CollarNameTagLivestock:"R98",CollarNameTagLover:"R98",CollarNameTagOval:"R98",CollarNameTagPet:"R98",CollarPentagram:"R98",CollarPupBone:"R98",CollarRose:"R98",CollarShockUnit:"R98",CollarSun:"R98",CustomCollarTag:"R98",ElectronicTag:"R98",Key:"R98"},Rg={ChainLeash:"R98",CollarChainLong:"R98",CollarChainMedium:"R98",CollarChainShort:"R98",CollarLeash:"R98",CollarRopeLong:"R98",CollarRopeMedium:"R98",CollarRopeShort:"R98",PetPost:"R98",Post:"R98"},vg={BellClamps:"R98",ChainClamp:"R98",ChainTassles:"R98",ChopStickNippleClamps:"R98",Clothespins:"R98",HeartPasties:"R98",KittyPasties:"R98",LactationPump:"R98",NippleClamp:"R98",NippleClamps2:"R98",NippleSuctionCups:"R98",NippleTape:"R98",NippleVibe:"R98",NippleWeightClamps:"R98",PlateClamps:"R98",ScrewClamps:"R98",ShockClamps:"R98",StretchClovers:"R98",TapedVibeEggs:"R98",VibeNippleClamp:"R98",VibratorRemote:"R98"},yg={BarbellPiercing:"R98",BellPiercing:"R98",CrossedStraightPiercing:"R98",NecklacePiercingChain:"R98",NippleAccessory1:"R98",NippleAccessory2:"R98",NippleAccessory3:"R98",NippleChastityPiercing1:"R98",NippleChastityPiercing2:"R98",RoundPiercing:"R98",StraightPiercing:"R98",VibeHeartPiercings:"R98"},bg={BarbelPiercing:"R98",ClownNose:"R99",DuctTape:"R98",NoseHook:"R98",NosePlugs:"R98",NoseRing:"R98",PigNose:"R98",PigNoseHook:"R98"},Sg={BulkyDiaper:"R98",DiaperHarness:"R98",ForbiddenChastityBelt:"R98",FuturisticChastityBelt:"R98",FuturisticTrainingBelt:"R98",HarnessPanties1:"R98",HarnessPanties2:"R98",HeavyDutyBelt:"R98",HempRope:"R98",HybridChastityBelt:"R98",LeatherChastityBelt:"R98",LeatherStrapPanties1:"R98",LoveChastityBelt:"R98",MetalChastityBelt:"R98",ModularChastityBelt:"R99",ObedienceBelt:"R98",OrnateChastityBelt:"R98",PelvisChainLeash:"R98",PolishedChastityBelt:"R98",PoofyDiaper:"R98",PortalPanties:"R98",Ribbons:"R98",SciFiPleasurePanties:"R98",SleekLeatherChastityBelt:"R98",SteelChastityPanties:"R98",StraponPanties:"R98",StuddedChastityBelt:"R98"},wg={Script:"R98"},Cg={AdultBabyHarness:"R98",ClassicLatexCorset:"R98",Corset2:"R98",Corset3:"R98",Corset4:"R98",Corset5:"R98",CrotchChain:"R98",FuturisticHarness:"R98",HarnessBra1:"R98",HarnessBra2:"R98",HeavyLatexCorset:"R98",HempRopeHarness:"R98",HighSecurityHarness:"R98",LatexCorset1:"R98",LeatherBreastBinder:"R98",LeatherChestHarness1:"R98",LeatherHarness:"R98",LeatherStrapBra1:"R98",LeatherStrapHarness:"R98",LockingSwimsuit:"R98",LockingSwimsuit2:"R98",NavelBar1:"R98",NylonRopeHarness:"R98",Ribbons:"R98",StuddedHarness:"R98",ThinLeatherStraps:"R98",Underbust:"R98"},kg={AdultBabyHarness:"R98",ClassicLatexCorset:"R98",Corset2:"R98",Corset3:"R98",Corset4:"R98",Corset5:"R98",CrotchChain:"R98",FuturisticHarness:"R98",HarnessBra1:"R98",HarnessBra2:"R98",HeavyLatexCorset:"R98",HempRopeHarness:"R98",HighSecurityHarness:"R98",LatexCorset1:"R98",LeatherBreastBinder:"R98",LeatherChestHarness1:"R98",LeatherHarness:"R98",LeatherStrapBra1:"R98",LeatherStrapHarness:"R98",LockingSwimsuit:"R98",LockingSwimsuit2:"R98",NavelBar1:"R98",NylonRopeHarness:"R98",Ribbons:"R98",StuddedHarness:"R98",ThinLeatherStraps:"R98",Underbust:"R98"},Bg={BasicCockring:"R98",BenWaBalls:"R98",ChastityPouch:"R98",ClitAndDildoVibratorbelt:"R98",ClitSuctionCup:"R98",ClitoralStimulator:"R98",DoubleEndDildo:"R98",FlatChastityCage:"R98",FullLatexSuitWand:"R98",FuturisticVibrator:"R98",HeavyWeightClamp:"R98",HempRopeBelt:"R98",InflatableVibeDildo:"R98",InflatableVibratingPanties:"R98",LoversVibrator:"R98",LoversVibratorRemote:"R98",PenisDildo:"R98",PlasticChastityCage1:"R98",PlasticChastityCage2:"R98",ShockDildo:"R98",Stitches:"R98",TapeStrips:"R98",TechnoChastityCage:"R98",VibeEggPenisBase:"R98",VibratingDildo:"R98",VibratingEgg:"R98",VibratingLatexPanties:"R98",VibratorRemote:"R98",WandBelt:"R98",WiredEgg:"R98"},Pg={AdornedClitPiercing:"R98",BarbellClitPiercing:"R98",ChastityClitPiercing:"R98",ChastityClitShield:"R98",ClitRing:"R98",HighSecurityVulvaShield:"R98",JewelClitPiercing:"R98",RoundClitPiercing:"R98",StraightClitPiercing:"R98",TapedClitEgg:"R98",VibeEggGlans:"R98",VibeHeartClitPiercing:"R98"},xg={JewelrySet:"R98"},Mg={BandAnklet:"R98",Ribbon:"R98",Ribbon1:"R98"},Eg={CatsuitGloves:"R100",Claws:"R99",Fingernails:"R99",Rings:"R98"},Ig={AnimeLenses:"R99",BunnyMask1:"R98",BunnyMask2:"R98",BunnyMask3:"R98",ButterflyMask:"R98",DominoMask:"R98",DroneMask:"R98",FacePaint:"R98",FaceVeil:"R98",FestivalFoxMask:"R98",FoxMask:"R98",FuturisticVisor:"R98",Glitter:"R98",HeadHarness:"R98",Kissmark:"R98",KittyMask1:"R98",KittyMask2:"R98",KittyMask3:"R98",LaceMask1:"R98",LaceMask2:"R98",LatexMuzzleMask:"R99",MedicalMask:"R98",OpenFaceHood:"R98",PetNose:"R98",ShinobiMask:"R98",SwimCap:"R98",VenetianMask:"R98"},_g={Discreet:"R98",Full:"R98",Regular:"R98"},$g={Bandana:"R98",BlackHeart:"R98",BodyChainNecklace:"R98",CatsuitCollar:"R98",ChokerTattoo:"R98",ElegantHeartNecklace:"R98",FlowerGarland:"R98",FurScarf:"R98",IDCard:"R98",Necklace1:"R98",Necklace2:"R98",Necklace3:"R98",Necklace4:"R98",NecklaceBallGag:"R98",NecklaceButterfly:"R98",NecklaceKey:"R98",NecklaceLock:"R98",NecklaceRope:"R98"},Og={Nipples1:"R98",Nipples2:"R98",Nipples3:"R98"},Fg={Bikini1:"R98",BoxerShorts:"R98",Briefs:"R98",BulkyDiaper:"R98",CatsuitPanties:"R98",ChinesePanties1:"R98",CockSock:"R98",CowPrintedPanties:"R98",CrotchPanties1:"R98",Diapers1:"R98",Diapers2:"R98",Diapers3:"R98",Diapers4:"R98",FloralPanties2:"R98",FlowerPanties:"R98",HarnessPanties1:"R98",HarnessPanties2:"R98",Jockstrap:"R98",KittyPanties1:"R98",LatexCrotchlessPanties:"R98",LatexPanties1:"R98",LatexPanties2:"R98",LeatherStrapPanties1:"R98",MaidPanties1:"R98",MaidPanties2:"R98",MaleCatsuitPanties:"R98",MicroThong:"R98",Panties1:"R98",Panties11:"R98",Panties12:"R98",Panties13:"R98",Panties14:"R98",Panties15:"R98",Panties16:"R98",Panties7:"R98",Panties8:"R98",PearlPanties1:"R98",PilotPanties:"R98",PoofyDiaper:"R98",RedBowPanties:"R98",SexyBeachPanties1:"R98",StringPanties1:"R98",StringPasty1:"R98",StringThong:"R98",SunstripePanties1:"R98",Thong:"R98",WrapPanties1:"R98",ZipPanties1:"R98"},Lg={HeHim:"R98",SheHer:"R98"},Hg={Penis:"R98",Pussy1:"R98",Pussy2:"R98",Pussy3:"R98"},Tg={BandAnklet:"R98",Ribbon:"R98",Ribbon1:"R98"},Ag={CatsuitGloves:"R100",Claws:"R99",Fingernails:"R99",Rings:"R98"},Ng={AnkleBoots1:"R98",AnkleStrapShoes:"R98",BalletHeels1:"R98",BarefootSandals1:"R98",Boots1:"R98",Clogs:"R99",DeluxeBoots:"R98",DutyShoes:"R98",Flippers:"R98",FuturisticHeels2:"R98",FuzzyBoots:"R98",Geta:"R98",Heels1:"R98",Heels2:"R98",Heels3:"R98",LatexAnkleShoes:"R98",LatexHeels:"R98",MaryShoes:"R102",MistressBoots:"R98",PawBoots:"R98",PonyBoots:"R98",Sandals:"R98",SandalsRS:"R98",Shoes1:"R98",Shoes2:"R98",Shoes4:"R98",Shoes5:"R98",Sneakers1:"R98",Sneakers2:"R98",SneakersSport:"R98",SocialHeels:"R98",StilettoHeels:"R98",StreetBoots:"R98",TallerBoots:"R100",ThighBoots:"R98",ThighHighLatexHeels:"R98",WesternBoots:"R98",WoollyBootsTall:"R98"},Dg={CowPrintedSocks:"R98",FootlessSocks1:"R98",GradientPantyhose:"R98",HaremStockings:"R98",KneePads:"R98",LatexSocks1:"R98",LeatherSocks1:"R98",Pantyhose1:"R98",Pantyhose2:"R98",ReverseBunnySuit:"R98",Socks0:"R98",Socks1:"R98",Socks2:"R98",Socks3:"R98",Socks4:"R98",Socks5:"R98",Socks6:"R98",SocksFur:"R98",SocksStriped1:"R98",Stockings1:"R98",Stockings2:"R98",Stockings3:"R98",Stockings4:"R98",VSocks1:"R98"},jg={CowPrintedSocks:"R98",FootlessSocks1:"R98",HaremStockings:"R98",KneePads:"R98",LatexSocks1:"R98",LeatherSocks1:"R98",LooseSocks:"R98",Socks0:"R98",Socks1:"R98",Socks2:"R98",Socks3:"R98",Socks4:"R98",Socks5:"R98",Socks6:"R98",SocksFur:"R98",SocksStriped1:"R98",Stockings1:"R98",Stockings2:"R98",Stockings3:"R98",Stockings4:"R98",VSocks1:"R98"},Wg={CowPrintedSocks:"R98",FootlessSocks1:"R98",HaremStockings:"R98",KneePads:"R98",LatexSocks1:"R98",LeatherSocks1:"R98",LooseSocks:"R98",Socks0:"R98",Socks1:"R98",Socks2:"R98",Socks3:"R98",Socks4:"R98",Socks5:"R98",Socks6:"R98",SocksFur:"R98",SocksStriped1:"R98",Stockings1:"R98",Stockings2:"R98",Stockings3:"R98",Stockings4:"R98",VSocks1:"R98"},Gg={Blouse1:"R98",Catsuit:"R98",FishnetTop:"R98",LatexCatsuit:"R98",MaleSeamlessCatsuit:"R98",PilotSuit:"R98",ReverseBunnySuit:"R98",SeamlessCatsuit:"R98",SeethroughSuit:"R98",SeethroughSuitZip:"R98",SleevelessCatsuit:"R98",SleevelessSlimLatexLeotard:"R98"},zg={Catsuit:"R98",CatsuitPanties:"R98",LatexCatsuit:"R98",MaleCatsuitPanties:"R98",MaleSeamlessCatsuit:"R98",Pantyhose1:"R98",Pantyhose2:"R98",PilotPanties:"R98",PilotSuit:"R98",ReverseBunnySuit:"R98",SeamlessCatsuit:"R98",SeethroughSuit:"R98",SeethroughSuitZip:"R98",Stockings1:"R98",Stockings2:"R98",Stockings3:"R98",Stockings4:"R98"},Vg={BunnyTailStrap:"R98",CowtailStrap:"R98",DemonPlug:"R98",DragonTailStrap1:"R98",FoxTailStrap1:"R98",FoxTailStrap2:"R98",FoxTailsStrap:"R98",HorseTailStrap:"R98",HorseTailStrap1:"R98",KittenTailStrap1:"R98",KittenTailStrap2:"R98",LionTailStrap:"R98",MouseTailStrap1:"R98",MouseTailStrap2:"R98",PuppyTailStrap:"R98",PuppyTailStrap1:"R98",RaccoonStrap:"R98",RaccoonTailStrap:"R98",SuccubusHeartTailStrap:"R98",SuccubusTailStrap:"R98",TailStrap:"R98",Tentacles:"R98",WolfTailStrap1:"R98",WolfTailStrap2:"R98",WolfTailStrap3:"R98"},qg={AngelFeather:"R98",AngelWings:"R98",BatWings:"R98",BeeWings:"R98",CyberWings:"R98",DevilWings:"R98",FairyWings:"R98",FallenAngelWings:"R98",PixieWings:"R98",SteampunkWings:"R98",SuccubusFeather:"R98",SuccubusWings:"R98"},Ug={Blush:Cm,BodyLower:km,BodyMarkings:Bm,BodyUpper:Pm,Bra:xm,Bracelet:Mm,Cloth:Em,ClothAccessory:Im,ClothLower:_m,Corset:$m,Emoticon:Om,Eyebrows:Fm,Eyes:Lm,Eyes2:Hm,EyeShadow:Tm,FacialHair:Am,Fluids:Nm,Garters:Dm,Glasses:jm,Gloves:Wm,HairAccessory1:Gm,HairAccessory2:zm,HairAccessory3:Vm,HairBack:qm,HairFront:Um,Hands:Km,Hat:Jm,Head:Zm,Height:Ym,ItemAddon:Xm,ItemArms:Qm,ItemBoots:eg,ItemBreast:tg,ItemButt:ng,ItemDevices:rg,ItemEars:ig,ItemFeet:og,ItemHandheld:ag,ItemHands:sg,ItemHead:lg,ItemHood:ug,ItemLegs:cg,ItemMisc:dg,ItemMouth:hg,ItemMouth2:pg,ItemMouth3:fg,ItemNeck:mg,ItemNeckAccessories:gg,ItemNeckRestraints:Rg,ItemNipples:vg,ItemNipplesPiercings:yg,ItemNose:bg,ItemPelvis:Sg,ItemScript:wg,ItemTorso:Cg,ItemTorso2:kg,ItemVulva:Bg,ItemVulvaPiercings:Pg,Jewelry:xg,LeftAnklet:Mg,LeftHand:Eg,Mask:Ig,Mouth:_g,Necklace:$g,Nipples:Og,Panties:Fg,Pronouns:Lg,Pussy:Hg,RightAnklet:Tg,RightHand:Ag,Shoes:Ng,Socks:Dg,SocksLeft:jg,SocksRight:Wg,Suit:Gg,SuitLower:zg,TailStraps:Vg,Wings:qg},Kg=Object.freeze({__proto__:null,Blush:Cm,BodyLower:km,BodyMarkings:Bm,BodyUpper:Pm,Bra:xm,Bracelet:Mm,Cloth:Em,ClothAccessory:Im,ClothLower:_m,Corset:$m,Emoticon:Om,EyeShadow:Tm,Eyebrows:Fm,Eyes:Lm,Eyes2:Hm,FacialHair:Am,Fluids:Nm,Garters:Dm,Glasses:jm,Gloves:Wm,HairAccessory1:Gm,HairAccessory2:zm,HairAccessory3:Vm,HairBack:qm,HairFront:Um,Hands:Km,Hat:Jm,Head:Zm,Height:Ym,ItemAddon:Xm,ItemArms:Qm,ItemBoots:eg,ItemBreast:tg,ItemButt:ng,ItemDevices:rg,ItemEars:ig,ItemFeet:og,ItemHandheld:ag,ItemHands:sg,ItemHead:lg,ItemHood:ug,ItemLegs:cg,ItemMisc:dg,ItemMouth:hg,ItemMouth2:pg,ItemMouth3:fg,ItemNeck:mg,ItemNeckAccessories:gg,ItemNeckRestraints:Rg,ItemNipples:vg,ItemNipplesPiercings:yg,ItemNose:bg,ItemPelvis:Sg,ItemScript:wg,ItemTorso:Cg,ItemTorso2:kg,ItemVulva:Bg,ItemVulvaPiercings:Pg,Jewelry:xg,LeftAnklet:Mg,LeftHand:Eg,Mask:Ig,Mouth:_g,Necklace:$g,Nipples:Og,Panties:Fg,Pronouns:Lg,Pussy:Hg,RightAnklet:Tg,RightHand:Ag,Shoes:Ng,Socks:Dg,SocksLeft:jg,SocksRight:Wg,Suit:Gg,SuitLower:zg,TailStraps:Vg,Wings:qg,default:Ug});let Jg;const Zg={};Ip(yR).then((()=>{kp.log("Initializing new item screen hooks");const e=GameVersionFormat.exec(GameVersion);if(null==e)return void kp.error(`Invalid BC version: "${GameVersion}"`);Jg=Number.parseInt(e[1]);for(const[e,t]of Np(Kg))for(const[n,r]of Np(t))if(r===`R${Jg}`){const t=AssetGet("Female3DCG",e,n);if(null==t)continue;t.Group.Name===t.DynamicGroupName&&(Zg[`${t.Group.Name}${t.Name}`]=t)}"735A1207"===_p.getOriginalHash("MainHallRun")&&"7A6D741A"===_p.getOriginalHash("MainHallClick")&&(_p.patchFunction("MainHallRun",{'DrawText(TextGet("OnlinePlayers") + " " + CurrentOnlinePlayers.toString(), 1740, 950, "White", "Black");':'DrawText(TextGet("OnlinePlayers") + " " + CurrentOnlinePlayers.toString(), 1630, 950, "White", "Black");'}),_p.hookFunction("MainHallRun",0,((e,t)=>{t(e),null==MainHallStartEventTimer&&null==MainHallNextEventTimer&&DrawButton(1665,900,90,90,"","White","Icons/Changelog.png",`MBS: Show new R${Jg} items`)})),_p.hookFunction("MainHallClick",0,((e,t)=>{if(null==MainHallStartEventTimer&&null==MainHallNextEventTimer&&MouseIn(1665,900,90,90))return Shop2Vars.Mode="Preview",Shop2Vars.Filters.MBS_VersionFilter=e=>Zg[`${e.Asset.Group.Name}${e.Asset.Name}`]?["Buy","Sell","Preview"]:[],Shop2.Init(void 0,["Room","MainHall"]),void(ServerBeep={Message:'The MBS "Show new items" button will be removed in R103; use the Club Shop or /shop chat command instead',Timer:CommonTime()+1e4});t(e)})));const t=Shop2Vars;Object.defineProperty(Shop2Vars,"MBS_ShowAllVersions",{get:()=>!("MBS_VersionFilter"in Shop2Vars.Filters)}),Shop2.Elements.MBS_VersionHeader={Coords:[345,315,0,0],Mode:new Set(["Preview","Buy","Sell"]),Run:(e,t,n)=>DrawText("Filter by BC version",t,n,Shop2Vars.DisplayDropdown?"Gray":"White")},Shop2.Elements.MBS_ShowCurrentVersion={Coords:[135,Shop2Consts.Grid.y+160,200,90],Mode:new Set(["Preview","Buy","Sell"]),Run:(e,...n)=>{Shop2Vars.DisplayDropdown?DrawButton(...n,`Version R${Jg}`,"Gray",void 0,void 0,!0):t.MBS_ShowAllVersions?DrawButton(...n,`Version R${Jg}`,"White"):DrawButton(...n,`Version R${Jg}`,"Cyan")},Click:()=>{t.MBS_ShowAllVersions&&(Shop2Vars.Filters.MBS_VersionFilter=e=>Zg[`${e.Asset.Group.Name}${e.Asset.Name}`]?["Buy","Sell","Preview"]:[],Shop2.ApplyItemFilters())}},Shop2.Elements.MBS_ShowAllVersions={Coords:[355,Shop2Consts.Grid.y+160,200,90],Mode:new Set(["Preview","Buy","Sell"]),Run:(e,...n)=>{Shop2Vars.DisplayDropdown?DrawButton(...n,"All versions","Gray",void 0,void 0,!0):t.MBS_ShowAllVersions?DrawButton(...n,"All versions","Cyan"):DrawButton(...n,"All versions","White")},Click:()=>{t.MBS_ShowAllVersions||(delete Shop2Vars.Filters.MBS_VersionFilter,Shop2.ApplyItemFilters())}},_p.hookFunction("Shop2Load",0,((e,t)=>{0===Shop2InitVars.Items.length&&(Shop2InitVars.Items=Shop2.ParseAssets(Asset.filter((e=>e.Group.Name===e.DynamicGroupName&&(Zg[`${e.Group.Name}${e.Name}`]||(Shop2Consts.BuyGroups[e.BuyGroup]?.Value??e.Value)>0)&&!ShopHideGenderedAsset(e))).sort(((e,t)=>e.Group.Description.localeCompare(t.Group.Description)||e.Description.localeCompare(t.Description))))),t(e)}))}));var Yg,Xg,Qg,eR,tR,nR,rR,iR;class oR extends uf{constructor(){super(null,"Character","Preference",{Run:PreferenceRun,Click:PreferenceClick,Exit:PreferenceExit,Load:()=>CommonSetScreen("Character","Preference")}),this.screen=oR.screen}}oR.screen="Preference";class aR extends lf{constructor(e,n=[525,75,1380,850]){if(super(e,n),Yg.add(this),this.screen=aR.screen,document.body.appendChild(p("div",{id:uR.root,class:"HideOnPopup mbs-screen","screen-generated":this.screen,children:[h("style",{id:uR.styles,children:'#mbs-preference {\n  grid-template: "header header exit" min(9vh, 4.5vw) "settings misc misc" auto/auto min(29vh, 14.5vw) min(9vh, 4.5vw);\n}\n\n#mbs-preference-header {\n  grid-area: header;\n}\n\n#mbs-preference-exit {\n  grid-area: exit;\n}\n\n.mbs-preference-settings-pair {\n  grid-column-gap: min(3vh, 1.5vw);\n  align-items: center;\n  display: grid;\n  grid-template-columns: min(9vh, 4.5vw) auto;\n  text-align: left;\n}\n.mbs-preference-settings-pair button {\n  height: min(9vh, 4.5vw);\n  width: min(9vh, 4.5vw);\n}\n\n#mbs-preference-settings {\n  display: grid;\n  grid-area: settings;\n  height: fit-content;\n  overflow: hidden scroll;\n}\n\n#mbs-preference-misc {\n  align-self: self-end;\n  display: grid;\n  grid-gap: min(2vh, 1vw);\n  grid-area: misc;\n  grid-template: "reset reset" min(9vh, 4.5vw) "import export" min(9vh, 4.5vw) "changelog changelog" min(9vh, 4.5vw)/auto auto;\n}\n#mbs-preference-misc button {\n  background-origin: padding-box;\n  background-position: left;\n  background-size: min(7vh, 3.5vw) min(7vh, 3.5vw);\n}\n\n#mbs-preference-reset {\n  grid-area: reset;\n  grid-template-columns: min(40vh, 20vw);\n}\n#mbs-preference-reset button:not(:hover) {\n  background-color: pink;\n}\n\n#mbs-preference-import {\n  grid-area: import;\n  grid-template-columns: min(19vh, 9.5vw);\n}\n\n#mbs-preference-export {\n  grid-area: export;\n  grid-template-columns: min(19vh, 9.5vw);\n}\n\n#mbs-preference-changelog {\n  grid-area: changelog;\n  grid-template-columns: min(40vh, 20vw);\n}\n\n#mbs-preference-reset-screen {\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 2;\n}\n\n#mbs-preference-reset-background {\n  background: url("https://bananarama92.github.io/MBS/main/images/SheetMBS.png") var(--mbs-background-color);\n  background-blend-mode: multiply;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: contain;\n  box-sizing: border-box;\n  height: 80%;\n  left: 10%;\n  mask-image: url("https://bananarama92.github.io/MBS/main/images/SheetMBS.png");\n  mask-position: center;\n  mask-repeat: no-repeat;\n  mask-size: contain;\n  padding: min(6vh, 3vw);\n  padding-top: min(3vh, 1.5vw);\n  position: relative;\n  top: 10%;\n  width: 80%;\n  word-break: break-word;\n}\n\n#mbs-preference-reset-grid {\n  display: grid;\n  grid-template-columns: auto auto;\n  justify-items: center;\n  padding-top: min(10vh, 5vw);\n}\n#mbs-preference-reset-grid .mbs-button {\n  height: min(9vh, 4.5vw);\n  width: min(27vh, 13.5vw);\n}'.toString()}),h("h1",{id:uR.header,children:`Maid's Bondage Scripts ${t}`}),p("div",{id:uR.exit,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:uR.exitButton,onClick:this.exit.bind(this),style:{backgroundImage:"url('./Icons/Exit.png')"}}),h("span",{class:"mbs-button-tooltip",id:uR.exitTooltip,style:{justifySelf:"right"},children:"Exit"})]}),p("div",{id:uR.settingsGrid,children:[p("div",{class:"mbs-preference-settings-pair",id:uR.settingsPair+"0",children:[h("button",{class:"mbs-button",id:uR.itemsButton,style:{backgroundImage:"url('./Icons/Changelog.png')"},onClick:b(this,Yg,"m",rR).bind(this)}),h("p",{id:uR.itemsHeader,children:`Show new R${Jg} items`})]}),p("div",{class:"mbs-preference-settings-pair",id:uR.settingsPair+"1",children:[h("button",{class:"mbs-button",id:uR.wheelButton,style:{backgroundImage:"url('./Icons/Crafting.png')"},onClick:b(this,Yg,"m",iR).bind(this)}),h("p",{id:uR.wheelHeader,children:"Configure the wheel of fortune"})]}),p("div",{class:"mbs-preference-settings-pair",id:uR.settingsPair+"2",children:[h("input",{type:"checkbox",id:uR.rollCheckbox,onClick:()=>{Player.MBSSettings.RollWhenRestrained=!Player.MBSSettings.RollWhenRestrained,bm([fm.SETTINGS])}}),h("p",{id:uR.rollHeader,children:"Allow wheel rolling while restrained"})]}),p("div",{class:"mbs-preference-settings-pair",id:uR.settingsPair+"3",children:[h("input",{type:"checkbox",id:uR.lockCheckbox,onClick:()=>{Player.MBSSettings.LockedWhenRestrained=!Player.MBSSettings.LockedWhenRestrained,bm([fm.SETTINGS])}}),h("p",{id:uR.lockHeader,children:"Lock MBS settings while restrained"})]})]}),p("div",{id:uR.miscGrid,children:[p("div",{id:uR.reset,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:uR.resetButton,style:{backgroundImage:"url('./Icons/ServiceBell.png')"},onClick:b(this,Yg,"m",eR).bind(this),children:"Reset MBS"}),h("span",{class:"mbs-button-tooltip",id:uR.resetTooltip,children:"Clear all MBS data"})]}),p("div",{id:uR.import,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:uR.importButton,onClick:b(this,Yg,"m",Xg).bind(this),children:"Import"}),h("span",{class:"mbs-button-tooltip",id:uR.importTooltip,children:"Import MBS settings"})]}),p("div",{id:uR.export,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:uR.exportButton,onClick:b(this,Yg,"m",Qg).bind(this),children:"Export"}),h("span",{class:"mbs-button-tooltip",id:uR.exportTooltip,children:"Export MBS settings"})]}),p("div",{id:uR.changelog,class:"mbs-button-div",children:[h("button",{class:"mbs-button",id:uR.changelogButton,style:{backgroundImage:"url('./Icons/Changelog.png')"},onClick:()=>open(mm(),"_blank"),children:"Latest Changes"}),h("span",{class:"mbs-button-tooltip",id:uR.changelogTooltip,children:"Open the MBS changelog"})]})]})]})),document.body.appendChild(h("div",{id:uR.resetScreen,class:"HideOnPopup mbs-screen","screen-generated":aR.screen,children:p("div",{id:uR.resetBackground,children:[h("h1",{children:"MBS data reset"}),h("p",{children:h("strong",{children:"- Warning -"})}),p("p",{children:["If you confirm, ",h("i",{children:"all"})," MBS data (including settings, overrides, and current states) will be permanently reset!"]}),h("p",{children:"You will be able to continue using MBS, but all of your configuration will be reset to default!"}),h("p",{children:h("strong",{children:"This action cannot be undone!"})}),p("div",{id:uR.resetGrid,children:[h("button",{class:"mbs-button",onClick:b(this,Yg,"m",nR).bind(this),disabled:!0,id:uR.resetAccept,children:"Confirm (10)"}),h("button",{class:"mbs-button",onClick:this.exit.bind(this),id:uR.resetCancel,children:"Cancel"})]})]})})),"735A1207"!==_p.getOriginalHash("MainHallRun")||"7A6D741A"!==_p.getOriginalHash("MainHallClick")){const e=document.getElementById(uR.settingsGrid),t=document.getElementById(`${uR.settingsPair}0`);e.removeChild(t)}}load(){const e={[uR.lockCheckbox]:"LockedWhenRestrained",[uR.rollCheckbox]:"RollWhenRestrained"},t=Player.IsRestrained()&&!Player.MBSSettings.RollWhenRestrained;for(const[n,r]of Object.entries(e)){const e=document.getElementById(n);e.checked=Player.MBSSettings[r],e.disabled=t}super.load()}resize(){const e=document.getElementById(uR.root),t=document.getElementById(uR.resetScreen),n=t.style.display,r=MainCanvas.canvas,i=r.clientWidth<=2*r.clientHeight?r.clientWidth/50:r.clientHeight/25;ElementPositionFix(uR.root,i,...this.shape),ElementPositionFix(uR.resetScreen,i,0,0,2e3,1e3),e.style.display="grid",t.style.display=n}click(){}run(){DrawCharacter(Player,50,50,.9)}unload(){for(const e of[uR.root,uR.resetScreen]){const t=document.getElementById(e);t&&(t.style.display="none")}}exit(){const e=document.getElementById(uR.resetScreen);"none"!==e.style.display?e.style.display="none":(ElementRemove(uR.root),ElementRemove(uR.resetScreen),this.exitScreens(!1))}}let sR;Yg=new WeakSet,Xg=function(){const e=prompt("Please paste MBS settings.\nImporting settings will overwrite existing settings. Are you sure?");if(!e)return;const t=function(e){kp.log("Importing new MBS settings");let t=null,n=null;try{t=JSON.parse(LZString.decompressFromBase64(e.trim())||"{}")}catch(e){n=e}if(n||null===t||"object"!=typeof t||Ap(t))return kp.error("Aborting, failed to parse corrupted MBS settings",n),{status:wm.ERROR,ok:!1};if(0===Object.keys(t).length)return kp.error("Aborting, detected empty or corrupted MBS settings"),{status:wm.EMPTY_SETTINGS,ok:!1};const r=ym(t,!1);return r.ok?(bm([fm.SETTINGS,fm.SHARED],!0),Sm(),{status:wm.OK,...r}):{status:wm.WARN,...r}}(e);switch(t.status){case wm.OK:return kp.log("Settings successfully updated"),alert("Settings successfully updated!");case wm.ERROR:return alert("ERROR: Detected corrupted MBS settings.\nNo changes were made.");case wm.EMPTY_SETTINGS:return alert("ERROR: Detected empty or corrupted MBS settings.\nNo changes were made.");case wm.WARN:return void(confirm("WARNING: MBS successfully parsed the settings but found one or more invalid fields; please check the browser console for more details.\nAre you sure you want to continue?")&&(Player.MBSSettings=t.settings,bm([fm.SETTINGS,fm.SHARED],!0),Sm(),kp.log("Settings successfully updated"),alert("Settings successfully updated!")));default:throw new Error(`Unknown status type: ${t.status}`)}},Qg=function(){const e=LZString.compressToBase64(JSON.stringify(Player.MBSSettings));navigator.clipboard.writeText(e),alert("MBS settings copied to clipboard.")},eR=function(){const e=document.getElementById(uR.resetScreen),t=document.getElementById(uR.resetAccept);e.style.display="block",t.disabled=!0,b(this,Yg,"m",tR).call(this,t)},tR=async function(e){let t=9;for(;t>=0;)await new Promise((e=>setTimeout(e,1e3))),e.innerText=`Confirm (${t})`,t--;e.innerText="Confirm",e.disabled=!1},nR=function(){delete Player.ExtensionSettings.MBS,void 0!==Player.OnlineSharedSettings&&(delete Player.OnlineSharedSettings.MBSVersion,delete Player.OnlineSharedSettings.MBS,Player.OnlineSharedSettings.WheelFortune=am),WheelFortuneOption=WheelFortuneOption.filter((e=>!0!==e.Custom)),WheelFortuneDefault=am,Player.Crafting=Player.Crafting?.slice(0,um),Player.MBSSettings=Object.seal({Version:t,CraftingCache:"",FortuneWheelItemSets:Object.seal(Array(pR).fill(null)),FortuneWheelCommands:Object.seal(Array(pR).fill(null)),LockedWhenRestrained:!1,RollWhenRestrained:!0,FortuneWheelPresets:Object.seal(Array(fR).fill(null))}),ServerAccountUpdate.QueueData({ExtensionSettings:Player.ExtensionSettings,OnlineSharedSettings:Player.OnlineSharedSettings},!0),kp.log("Settings successfully reset"),Sm(),this.exit()},rR=function(){const e=ServerPlayerIsInChatRoom()?ChatRoomData?.Background:void 0,t=ServerPlayerIsInChatRoom()?["Online","ChatRoom"]:["Character","Preference"];this.exit(),PreferenceExit(),Shop2Vars.Mode="Preview",Shop2Vars.Filters.MBS_VersionFilter=e=>Zg[`${e.Asset.Group.Name}${e.Asset.Name}`]?["Buy","Sell","Preview"]:[],Shop2.Init(e,t),ServerBeep={Message:'The MBS "Show new items" button will be removed in R103; use the Club Shop or /shop chat command instead',Timer:CommonTime()+1e4}},iR=function(){const e={FortuneWheelItemSets:Pf(Player,"FortuneWheelItemSets","item sets"),FortuneWheelCommands:Pf(Player,"FortuneWheelCommands","commands")},t=new Mf(this,e,Player,[95,75,1810,850]);this.children.set(t.screen,t),t.load()},aR.screen="MBS_PreferenceScreen",Ip(yR).then((()=>{_p.hookFunction("PreferenceLoad",0,((e,t)=>{t(e),null!=TextScreenCache&&(TextScreenCache.cache[`Homepage${aR.screen}`]="MBS Settings");const n=new Image;n.addEventListener("error",(()=>DrawGetImageOnError(n,!1))),n.src="Icons/Maid.png",DrawCacheImage.set(`Icons/${aR.screen}.png`,n)})),_p.hookFunction("ServerPlayerIsInChatRoom",0,((e,t)=>CurrentScreen==aR.screen&&"ChatRoom"==InformationSheetPreviousScreen||t(e))),_p.hookFunction("PreferenceClick",0,((e,t)=>{const n=PreferenceSubscreen;if(t(e),!n&&PreferenceSubscreen===aR.screen){PreferenceExit();const e=new aR(sR);return sR.children.set(e.screen,e),e.load()}})),PreferenceSubscreenList.push(aR.screen),sR=new oR}));const lR="mbs-preference",uR=Object.freeze({root:lR,styles:`${lR}-style`,header:`${lR}-header`,exit:`${lR}-exit`,exitButton:`${lR}-exit-button`,exitTooltip:`${lR}-exit-tooltip`,settingsGrid:`${lR}-settings`,settingsPair:`${lR}-settings-pair`,itemsButton:`${lR}-items-button`,itemsHeader:`${lR}-items-header`,wheelButton:`${lR}-wheel-button`,wheelHeader:`${lR}-wheel-header`,rollCheckbox:`${lR}-roll-checkbox`,rollHeader:`${lR}-roll-header`,lockCheckbox:`${lR}-lock-checkbox`,lockHeader:`${lR}-lock-header`,miscGrid:`${lR}-misc`,reset:`${lR}-reset`,resetButton:`${lR}-reset-button`,resetTooltip:`${lR}-reset-tooltip`,resetScreen:`${lR}-reset-screen`,resetBackground:`${lR}-reset-background`,resetGrid:`${lR}-reset-grid`,resetAccept:`${lR}-reset-accept`,resetCancel:`${lR}-reset-cancel`,import:`${lR}-import`,importButton:`${lR}-import-button`,importTooltip:`${lR}-import-tooltip`,export:`${lR}-export`,exportButton:`${lR}-export-button`,exportTooltip:`${lR}-export-tooltip`,changelog:`${lR}-changelog`,changelogButton:`${lR}-changelog-button`,changelogTooltip:`${lR}-changelog-tooltip`});var cR,dR,hR;const pR=32,fR=8,mR=Object.freeze(["Blue","Gold","Gray","Green","Orange","Purple","Red","Yellow"]);function gR(e){if(null===e||"object"!=typeof e)throw new TypeError('Invalid "character" type: '+typeof e);if(!e.IsSimple()&&!e.IsPlayer())throw new Error("Expected a simple or player character")}function RR(e){if(!(e.OnlineSharedSettings?.BlockBodyCosplay??!0))return!0;const t=$p.getRuleState("alt_allow_changing_appearance");return!(null===t||!e.IsPlayer())&&(t.inEffect&&t.isEnforced&&t.customData.minimumRole>3)}function vR(e){if("string"!=typeof e)throw new TypeError('Invalid "IDs" type: '+typeof e);let t="";for(const n of WheelFortuneOption)e.includes(n.ID)&&(t+=n.ID);return t}function yR(e=!0){return"object"==typeof MainCanvas&&(!e||GameVersionFormat.test(GameVersion))}function bR(){return yR()&&void 0!==Player.OnlineSharedSettings}function SR(){return bR()&&void 0!==Player.MBSSettings}const wR=Object.freeze({"PSO Bondage":0,Mummification:1,"Bondage Maid":2,Petrification:3});class CR{constructor(e,t){this.name=null,this.mbsList=e,this.weight=Number.isInteger(t)?CommonClamp(t,1,9):1}reset(){this.name=null,this.weight=1}isValid(e=null){return!!this.name&&this.mbsList.every(((t,n)=>n===e||t?.name!==this.name))}toString(){return Op(typeof this,this.toJSON())}}class kR extends CR{get stripLevel(){return this.stripIter.value}set stripLevel(e){const t=this.stripIter.list.indexOf(e);this.stripIter.setPosition(t)}get equipLevel(){return this.equipIter.value}set equipLevel(e){const t=this.equipIter.list.indexOf(e);this.equipIter.setPosition(t)}constructor(e,t){super(e,t),this.itemList=null,this.flags=Object.freeze($f.map((e=>Object.seal({...e})))),this.outfitCache=null,this.stripIter=new Fp([qp.NONE,qp.CLOTHES,qp.UNDERWEAR,qp.COSPLAY],qp.UNDERWEAR),this.equipIter=new Fp([qp.NONE,qp.CLOTHES,qp.UNDERWEAR,qp.COSPLAY],qp.UNDERWEAR)}reset(){super.reset(),this.itemList=null,this.outfitCache=null,this.stripLevel=qp.UNDERWEAR,this.equipLevel=qp.UNDERWEAR,$f.forEach(((e,t)=>Object.assign(this.flags[t],e)))}readSettings(e){if(!(e instanceof MR))throw new TypeError('Invalid "ItemSet" type: '+typeof e);this.name=e.name,this.itemList=e.itemList,this.stripLevel=e.stripLevel,this.equipLevel=e.equipLevel,this.outfitCache=null,this.weight=e.weight,e.flags.forEach(((e,t)=>Object.assign(this.flags[t],e)))}writeSettings(e=null){if(null===this.name||null===this.itemList)throw new Error('Cannot create an ItemSet while "name" or "itemList" is null');return new MR(this.name,this.itemList,this.mbsList,this.stripLevel,this.equipLevel,this.flags,!0,e,this.weight)}loadFromBase64(){if(null===this.outfitCache)return!1;let e,t;try{e=JSON.parse(LZString.decompressFromBase64(this.outfitCache.trim())),t=function(e){if(!Ap(e)){if(null===e||"object"!=typeof e)throw new TypeError('Invalid "items" type: '+typeof e);e=[e]}const t=[],n=new Map,r=new Set;return e.forEach(((e,i)=>{let o=null;try{o=AssetGet("Female3DCG",e.Group,e.Name);const n=of(o,e);!r.has(e.Group)&&null!=o&&(o.Group.IsItem()||o.Group.IsAppearance()&&o.Group.AllowNone)&&(r.add(e.Group),t.push(n))}catch(e){let t=`${o?.Group?.Name}${o?.Name}`;t.includes("undefined")&&(t=`Item ${i}`),n.set(t,e)}})),0!==n.size&&kp.log(`Failed to parse ${n.size} of the provided items`,n),t}(e)}catch(e){return kp.warn("Failed to parse outfit code:",e),!1}return 0!==t.length&&(this.itemList=Object.freeze(function(e,t=Up){const n=Zp(e,t);return Td(e,(e=>n.get(e.Group)?.priority??1/0))}(t)),!0)}isValid(e=null){return super.isValid(e)&&null!==this.itemList&&this.flags.some((e=>e.enabled))}toJSON(){return{name:this.name,itemList:this.itemList,stripLevel:this.stripLevel,equipLevel:this.equipLevel,flags:this.flags,outfitCache:this.outfitCache}}}class BR extends CR{readSettings(e){if(!(e instanceof ER))throw new TypeError('Invalid "command" type: '+typeof e);this.name=e.name,this.weight=e.weight}writeSettings(){if(null===this.name)throw new Error('Cannot create a Command while "name" is null');return new ER(this.name,this.mbsList,this.weight)}toJSON(){return{name:this.name}}}class PR{get children(){return b(this,cR,"f")}get index(){return this.mbsList.findIndex((e=>e===this))}constructor(e,t,n,r){cR.set(this,null),this.name=e,this.custom=t,this.mbsList=n,this.weight=r}static validate(e){throw new Error("Trying to call an abstract method")}static fromObject(...e){throw new Error("Trying to call an abstract method")}register(){S(this,cR,this.toOptions(),"f")}unregister(){S(this,cR,null,"f")}toString(){return Op(typeof this,this.toJSON())}}cR=new WeakMap;class xR extends PR{constructor(){super(...arguments),dR.add(this)}register(e=!0){super.register();let t=b(this,dR,"m",hR).call(this);for(const e of this.children){const n=WheelFortuneOption.findIndex((t=>t.ID===e.ID));-1!==n?(WheelFortuneOption[n]=e,e.Default&&!WheelFortuneDefault.includes(e.ID)&&(WheelFortuneDefault+=e.ID)):(WheelFortuneOption.splice(t,0,e),e.Default&&(WheelFortuneDefault+=e.ID)),t+=1}e&&bm([fm.SHARED])}unregister(e=!0){const t=this.children?.map((e=>e.ID))??[];super.unregister(),WheelFortuneOption=WheelFortuneOption.filter((e=>!t.includes(e.ID))),WheelFortuneDefault=Array.from(WheelFortuneDefault).filter((e=>!t.includes(e))).join(""),e&&bm([fm.SHARED])}}dR=new WeakSet,hR=function(){if(this.children?.length){const e=this.children[0].ID,t=WheelFortuneOption.findIndex((t=>t.ID>=e));return-1===t?WheelFortuneOption.length:t}return WheelFortuneOption.length};class MR extends xR{constructor(e,t,n,r,i,o,a,s,l){const u=MR.validate({name:e,itemList:t,mbsList:n,stripLevel:r,equipLevel:i,flags:o,custom:a,preRunCallback:s,weight:l});super(u.name,u.custom,u.mbsList,u.weight),this.itemList=u.itemList,this.stripLevel=u.stripLevel,this.equipLevel=u.equipLevel,this.flags=u.flags,this.preRunCallback=u.preRunCallback}static validate(e){if("string"!=typeof e.name)throw new TypeError('Invalid "name" type: '+typeof e.name);if(!Ap(e.itemList))throw new TypeError('Invalid "itemList" type: '+typeof e.itemList);{const t=[],n=[];for(let r of e.itemList){const e=AssetGet("Female3DCG",r.Group,r.Name);null!=e?(e.Group.IsItem()||e.Group.IsAppearance()&&e.Group.AllowNone)&&(r.TypeRecord||void 0===r.Type||(r=Object.freeze({...gc(r,"Type"),TypeRecord:ExtendedItemTypeToRecord(e,r.Type)})),t.push(r)):n.push(`${r.Group}:${r.Name}`)}e.itemList=Object.freeze(t),0!==n.length&&kp.warn(`Found ${n.length} items in wheel of fortune item set "${this.name}": ${n}`)}if(!Ap(e.mbsList))throw new TypeError('Invalid "mbsList" type: '+typeof e.mbsList);if(jp(Object.values(qp),e.stripLevel)||(e.stripLevel=qp.UNDERWEAR),jp(Object.values(qp),e.equipLevel)||(e.stripLevel=qp.UNDERWEAR),Ap(e.flags)){let t;if(e.flags.every((e=>"string"==typeof e))){t=function(e){return $f.map(((t,n)=>{const r={...t};return r.enabled=e.includes(_f[n]),r}))}(e.flags)}else t=function(e){return $f.map(((t,n)=>{const r=e[n];if(null===r||"object"!=typeof r||r.type!==t.type)return{...t};const i="boolean"==typeof r.enabled?r.enabled:t.enabled;switch(r.type){case"TimerPasswordPadlock":return Number.isInteger(r.time)&&r.time>=1&&r.time<=86400?{type:r.type,description:t.description,time:r.time,enabled:i}:{...t};case"ExclusivePadlock":case"HighSecurityPadlock":case null:return{type:r.type,description:t.description,enabled:i};default:return{...t}}}))}(e.flags);t.every((e=>!e.enabled))&&(t[0].enabled=!0),e.flags=Object.freeze(t.map((e=>Object.freeze(e))))}else e.flags=$f;return"boolean"!=typeof e.custom&&(e.custom=!0),null!==e.preRunCallback&&"function"!=typeof e.preRunCallback&&(e.preRunCallback=null),Number.isInteger(e.weight)?e.weight=CommonClamp(e.weight,1,9):e.weight=1,e}static fromObject(e,t){const n=[t.name,t.itemList,e,t.stripLevel,t.equipLevel,t.flags,t.custom,t.preRunCallback,t.weight];return new MR(...n)}scriptFactory(e=null){const t=this.itemList.map((({Name:e,Group:t})=>AssetGet(Player.AssetFamily,t,e)));return n=>{n=n??Player;const r=Kp(this.equipLevel,n),i=this.itemList.filter(((e,n)=>{const i=t[n];return null!=i&&("Appearance"!==i.Group.Category||r(i))}));Qp(this.name,i,this.stripLevel,e,this.preRunCallback,n??Player)}}getIDs(){const e=[];for(const[t,n]of this.flags.entries())n.enabled&&e.push(t);let t;if(this.custom){if(t=256*(2+Math.floor(this.index/16))+16*this.index,t<0)throw new Error(`Item set "${this.name}" absent from currently selected fortune wheel sets`)}else if(t=256+16*wR[this.name],Number.isNaN(t))throw new Error(`Unknown default item set "${this.name}"`);return Lp(t,e)}toOptions(e=mR){const t=this.flags.filter((e=>e.enabled)),n=this.getIDs();return t.map(((t,r)=>{const i=null===t.type?this.name:`${this.name}: ${Tf(t)}`;let o=!0;switch(t.type){case"HighSecurityPadlock":case null:o=!1;break;case"TimerPasswordPadlock":o=4!==r}return{ID:n[r],Color:Mp(e),Script:this.scriptFactory(((...e)=>function(e,t,n){const r=e.type;switch(r){case"TimerPasswordPadlock":Of(t,e.time,n);break;case"ExclusivePadlock":Lf(t,"ExclusivePadlock",n);break;case"HighSecurityPadlock":InventoryDoesItemAllowLock(t)&&t.Craft&&(t.Craft.Property="Puzzling"),Ff(t,n);break;case null:break;default:throw new Error(`Unknown flag type: ${r}`,e)}}(t,...e))),Description:i,Default:o,Custom:this.custom,Parent:this,Flag:t,Weight:this.weight}}))}toJSON(){return{name:this.name,itemList:this.itemList,stripLevel:this.stripLevel,equipLevel:this.equipLevel,flags:this.flags,custom:this.custom,preRunCallback:this.preRunCallback,weight:this.weight}}}class ER extends xR{constructor(e,t,n){const r=ER.validate({name:e,mbsList:t,weight:n});super(r.name,!0,r.mbsList,r.weight)}static validate(e){if("string"!=typeof e.name)throw new TypeError('Invalid "name" type: '+typeof e.name);if(!Array.isArray(e.mbsList))throw new TypeError('Invalid "mbsList" type: '+typeof e.mbsList);return Number.isInteger(e.weight)?e.weight=CommonClamp(e.weight,1,9):e.weight=1,e}static fromObject(e,t){const n=[t.name,e,t.weight];return new ER(...n)}toOptions(e=mR){const[t]=this.getIDs();return[{ID:t,Color:Mp(e),Description:this.name,Default:!0,Custom:this.custom,Parent:this,Script:void 0,Flag:void 0,Weight:this.weight}]}getIDs(){const e=256*(3+Math.floor(this.index/16))+this.index;return[String.fromCharCode(e)]}toJSON(){return{name:this.name,weight:this.weight}}}let IR=null;function _R(){return null===IR&&(IR=CharacterLoadSimple("MBSAPI")),IR}var $R=Object.freeze({__proto__:null,getAll:function(){if(!SR())return kp.error("MBS not fully loaded yet"),{};const e=Player.MBSSettings.FortuneWheelItemSets,t={};for(const[n,r]of CommonEnumerate(e))null!==r&&(t[r.name]={name:r.name,index:n,items:af(r.itemList,_R())});return t},getByIndex:function(e){if("number"!=typeof e)throw new TypeError('Invalid "index" type: '+typeof e);if(!SR())return void kp.error("MBS not fully loaded yet");const t=Player.MBSSettings.FortuneWheelItemSets[e];return null==t?void 0:{name:t.name,index:e,items:af(t.itemList,_R())}},getByName:function(e){if("string"!=typeof e)throw new TypeError('Invalid "name" type: '+typeof e);if(!SR())return void kp.error("MBS not fully loaded yet");let t=-1;const n=Player.MBSSettings.FortuneWheelItemSets.find(((n,r)=>{const i=n?.name===e;return i&&(t=r),i}));return null==n?void 0:{name:e,index:t,items:af(n.itemList,_R())}},getIndices:function(){return SR()?Player.MBSSettings.FortuneWheelItemSets.filter((e=>null!==e)).map(((e,t)=>t)):(kp.error("MBS not fully loaded yet"),[])},getNames:function(){return SR()?Player.MBSSettings.FortuneWheelItemSets.filter((e=>null!==e)).map((e=>e.name)):(kp.error("MBS not fully loaded yet"),[])}});const OR=Object.freeze({major:1,minor:2}),FR=function(){return SR()?JSON.stringify({log:kp,settings:Player.MBSSettings},void 0,4):JSON.stringify({log:kp,settings:"ERROR: MBS not fully loaded yet"},void 0,4)};Ip(yR).then((()=>{"undefined"!=typeof FUSAM&&"function"==typeof FUSAM.registerDebugMethod&&FUSAM.registerDebugMethod("mbs",FR)}));const LR="raises",HR="passes";function TR(e,t,n){if(!t)throw void 0===n?new Error(`${e}`):new Error(`${e}: ${n}`)}function AR(e,t,n){try{t()}catch(t){const r=t;if(r?.message!==n)throw new Error(`${e}: Invalid error message\nExpected error: "${n}"\nObserved error: "${r?.message}"`);return}throw new Error(`${e}: Failed to raise an error`)}function NR(e,t){try{return t()}catch(t){throw new Error(`${e}: Unexpected error message: ${t}`,{cause:t})}}function DR(e,t,n,r){if(r=r??VR,!Ou(t,n))throw new Error(`${e}: Passed objects not equal:\nObserved: ${r(t)}\nExpected: ${r(n)}`)}function jR(e,t,n){if(!t.includes(n))throw new Error(`${e}: Passed array ${t} does not contain element ${n?.toString()??n}`)}function WR(e,t,n){if(typeof t!==n)throw new Error(`${e}: Invalid object type "${typeof t}", expected "${n}"`)}function GR(e,t,n){if(t.length!==n)throw new Error(`${e}: Invalid object length ${t.length}, expected ${n}`)}function zR(e,t){switch(typeof t){case"undefined":return"__UNDEFINED__";case"function":return"__FUNCTION__";case"symbol":return"__SYMBOL__";default:return t}}function VR(e){return JSON.stringify(e,zR,1)}var qR=Object.freeze({__proto__:null,test_LoopIterator:function(){const e="test_LoopIterator";[{args:[void 0],excMessage:'Invalid "iterable" type: undefined'},{args:[[]],excMessage:'Passed "iterable" must contain at least one element'},{args:[[1],.5],excMessage:'"index" must be an integer: 0.5'},{args:[[0,1],3],excMessage:'"index" must fall in the [0, 1] interval: 3'}].forEach((({args:t,excMessage:n},r)=>{AR(`${e}:constructor:${LR}:${r}`,(()=>new Fp(...t)),n)}));const t=new Fp([0,1,2,3],0);let n;DR(`${e}:list:${HR}:0`,t.list,[0,1,2,3]),DR(`${e}:index:${HR}:0`,t.index,0),DR(`${e}:value:${HR}:0`,t.index,0),WR(`${e}:[Symbol.iterator]:${HR}:0`,t[Symbol.iterator],"function"),n=NR(`${e}:next:${HR}:0`,(()=>t.next(!1))),DR(`${e}:next:${HR}:0`,n,1),DR(`${e}:next:${HR}:0`,t.index,0),n=NR(`${e}:next:${HR}:0`,(()=>t.next())),DR(`${e}:next:${HR}:0`,n,1),DR(`${e}:next:${HR}:0`,t.index,1),AR(`${e}:setPosition:${LR}:0`,(()=>t.setPosition(10)),'"index" must fall in the [0, 3] interval: 10'),NR(`${e}:setPosition:${HR}:0`,(()=>t.setPosition(0))),DR(`${e}:setPosition:${HR}:0`,t.index,0),n=NR(`${e}:previous:${HR}:0`,(()=>t.previous(!1))),DR(`${e}:previous:${HR}:0`,n,3),DR(`${e}:previous:${HR}:0`,t.index,0),n=NR(`${e}:previous:${HR}:0`,(()=>t.previous())),DR(`${e}:previous:${HR}:0`,n,3),DR(`${e}:previous:${HR}:0`,t.index,3),n=NR(`${e}:toString:${HR}:0`,(()=>t.toString())),WR(`${e}:toString:${HR}:0`,n,"string"),n=NR(`${e}:toJSON:${HR}:0`,(()=>t.toJSON())),DR(`${e}:toJSON:${HR}:0`,t.toJSON(),{list:[0,1,2,3],index:3})},test_MBS_VERSION:function(){WR(`test_MBS_VERSION:${HR}:0`,t,"string")},test_Version:function(){const e="test_Version";[{args:["bob",0,0,!1],excMessage:'Invalid "major" type: string'},{args:[0,"bob",0,!1],excMessage:'Invalid "minor" type: string'},{args:[0,0,"bob",!1],excMessage:'Invalid "micro" type: string'},{args:[0,0,0,"bob"],excMessage:'Invalid "beta" type: string'}].forEach((({args:t,excMessage:n},r)=>{AR(`${e}:constructor:${LR}:${r}`,(()=>new Tp(...t)),n)}));const t=new Tp(1,0,5),n=new Tp(2,3,1),r=new Tp(0,99,5,!0);DR(`${e}:major:${HR}:0`,t.major,1),DR(`${e}:minor:${HR}:0`,t.minor,0),DR(`${e}:micro:${HR}:0`,t.micro,5),DR(`${e}:beta:${HR}:0`,t.beta,!1),TR(`${e}:equal:${HR}:0`,!t.equal(null)),TR(`${e}:equal:${HR}:1`,t.equal(t)),TR(`${e}:equal:${HR}:2`,!t.equal(n)),TR(`${e}:equal:${HR}:3`,!t.equal(r)),TR(`${e}:greater:${HR}:0`,!t.greater(null)),TR(`${e}:greater:${HR}:1`,!t.greater(t)),TR(`${e}:greater:${HR}:2`,!t.greater(n)),TR(`${e}:greater:${HR}:3`,t.greater(r)),TR(`${e}:lesser:${HR}:0`,!t.lesser(null)),TR(`${e}:lesser:${HR}:1`,!t.lesser(t)),TR(`${e}:lesser:${HR}:2`,t.lesser(n)),TR(`${e}:lesser:${HR}:3`,!t.lesser(r)),TR(`${e}:greaterOrEqual:${HR}:0`,!t.greaterOrEqual(null)),TR(`${e}:greaterOrEqual:${HR}:1`,t.greaterOrEqual(t)),TR(`${e}:greaterOrEqual:${HR}:2`,!t.greaterOrEqual(n)),TR(`${e}:greaterOrEqual:${HR}:3`,t.greaterOrEqual(r)),TR(`${e}:lesserOrEqual:${HR}:0`,!t.lesserOrEqual(null)),TR(`${e}:lesserOrEqual:${HR}:1`,t.lesserOrEqual(t)),TR(`${e}:lesserOrEqual:${HR}:2`,t.lesserOrEqual(n)),TR(`${e}:lesserOrEqual:${HR}:3`,!t.lesserOrEqual(r));let i=NR(`${e}:fromVersion:${HR}:0`,(()=>Tp.fromVersion("1.0.5")));DR(`${e}:fromVersion:${HR}:0`,i,t),AR(`${e}:fromVersion:${LR}:0`,(()=>Tp.fromVersion(void 0)),'Invalid "version": undefined'),i=NR(`${e}:fromVersion:${HR}:0`,(()=>Tp.fromBCVersion("R109Beta3"))),DR(`${e}:fromVersion:${HR}:0`,i,new Tp(109,0,0,!0)),AR(`${e}:fromVersion:${LR}:0`,(()=>Tp.fromVersion(void 0)),'Invalid "version": undefined'),i=NR(`${e}:toString:${HR}:0`,(()=>t.toString())),WR(`${e}:toString:${HR}:0`,i,"string"),i=NR(`${e}:toJSON:${HR}:0`,(()=>t.toJSON())),DR(`${e}:toJSON:${HR}:0`,i,{major:1,minor:0,micro:5,beta:!1})},test_generateIDs:function(){const e="test_generateIDs";[{args:[0,void 0],excMessage:'Invalid "indices" type: undefined'},{args:[65535,[5]],excMessage:'"stop" must fall in the [65536, 65535] interval: 65541'}].forEach((({args:t,excMessage:n},r)=>{AR(`${e}:${LR}:${r}`,(()=>Lp(...t)),n)})),[{args:[80,[0,4,6]],output:["P","T","V"]},{args:[1024,[0,4,1]],output:["Ѐ","Є","Ё"]},{args:[0,[]],output:[]}].forEach((({args:t,output:n},r)=>{const i=NR(`${e}:${HR}:${r}`,(()=>Lp(...t)));DR(`${e}:${HR}:${r}`,i,n)}))},test_getRandomPassword:function(){const e="test_getRandomPassword";[{args:[void 0],excMessage:'Invalid "n" type: undefined'}].forEach((({args:t,excMessage:n},r)=>{AR(`${e}:${LR}:${r}`,(()=>Ep(...t)),n)})),bd(0,9).forEach((t=>{const n=NR(`${e}:${HR}:${t}`,(()=>Ep(t)));WR(`${e}:${HR}:${t}`,n,"string"),GR(`${e}:${HR}:${t}`,n,t)}))},test_isIterable:function(){const e="test_isIterable";[{args:[null],output:!1},{args:[1],output:!1},{args:[[1]],output:!0},{args:[new Set],output:!0}].forEach((({args:t,output:n},r)=>{const i=NR(`${e}:${HR}:${r}`,(()=>Hp(...t)));DR(`${e}:${HR}:${r}`,i,n)}))},test_padArray:function(){const e="test_padArray";[{args:[[],.5,null],excMessage:'"n" must be an integer: 0.5'},{args:[void 0,5,null],excMessage:'Invalid "list" type: undefined'}].forEach((({args:t,excMessage:n},r)=>{AR(`${e}:${LR}:${r}`,(()=>Pp(...t)),n)})),[{args:[["a","b","c"],5,"test"],output:["a","b","c","test","test"]},{args:[["a","b","c"],2,"test"],output:["a","b","c"]}].forEach((({args:t,output:n},r)=>{const i=NR(`${e}:${HR}:${r}`,(()=>Pp(...t)));DR(`${e}:${HR}:${r}`,i,n)}))},test_randomElement:function(){const e="test_randomElement";[{args:[void 0],excMessage:'Invalid "list" type: undefined'},{args:[[]],excMessage:'Passed "list" must contain at least 1 item'}].forEach((({args:t,excMessage:n},r)=>{AR(`${e}:${LR}:${r}`,(()=>Mp(...t)),n)}));const{args:t}={args:[["a","b","c"]],output:void 0};bd(0,100).forEach((n=>{const r=NR(`${e}:${HR}:${n}`,(()=>Mp(...t)));jR(`${e}:${HR}:${n}`,t[0],r)}))},test_trimArray:function(){const e="test_trimArray";[{args:[[],.5],excMessage:'"n" must be an integer: 0.5'},{args:[void 0,5],excMessage:'Invalid "list" type: undefined'}].forEach((({args:t,excMessage:n},r)=>{AR(`${e}:${LR}:${r}`,(()=>xp(...t)),n)})),[{args:[["a","b","c"],1],output:["a"]},{args:[["a","b","c"],4],output:["a","b","c"]}].forEach((({args:t,output:n},r)=>{const i=NR(`${e}:${HR}:${r}`,(()=>xp(...t)));DR(`${e}:${HR}:${r}`,i,n)}))},test_validateInt:function(){const e="test_validateInt";[{args:[.5,"test"],excMessage:'"test" must be an integer: 0.5'},{args:["test","test"],excMessage:'Invalid "test" type: string'},{args:[5,"test",10],excMessage:'"test" must fall in the [10, Infinity] interval: 5'},{args:[5,"test",0,3],excMessage:'"test" must fall in the [0, 3] interval: 5'}].forEach((({args:t,excMessage:n},r)=>{AR(`${e}:${LR}:${r}`,(()=>Bp(...t)),n)})),NR(`${e}:${HR}:0`,(()=>Bp(0,"test")))}});var UR=Object.freeze({__proto__:null,test_FORTUNE_WHEEL_COLORS:function(){const e="test_FORTUNE_WHEEL_COLORS";TR(`${e}:${HR}:0`,Array.isArray(mR)),TR(`${e}:${HR}:0`,mR.every((e=>"string"==typeof e)))},test_FORTUNE_WHEEL_MAX_SETS:function(){const e="test_FORTUNE_WHEEL_MAX_SETS";WR(`${e}:${HR}:0`,pR,"number"),TR(`${e}:${HR}:0`,Number.isInteger(pR)),TR(`${e}:${HR}:0`,pR>=0)},test_canChangeCosplay:function(){const e="test_canChangeCosplay",t=bd(0,3).map((t=>`${e}${t}`)),n=t.map((e=>{const t=CharacterLoadSimple(e);return t.OnlineSharedSettings=t.OnlineSharedSettings??{},t}));try{n[1].OnlineSharedSettings={...n[1].OnlineSharedSettings??{},BlockBodyCosplay:!1},n[2].OnlineSharedSettings={...n[1].OnlineSharedSettings??{},BlockBodyCosplay:!0};[{args:[n[0]],output:!1},{args:[n[1]],output:!0},{args:[n[2]],output:!1}].forEach((({args:t,output:n},r)=>{const i=NR(`${e}:${HR}:${r}`,(()=>RR(...t)));DR(`${e}:${HR}:${r}`,i,n)}))}finally{"R101"===GameVersion?t.forEach(CharacterDelete):n.forEach(CharacterDelete)}},test_equipHighSecLock:function(){const e="test_equipHighSecLock",t=CharacterLoadSimple(e);try{const n=AssetGet(t.AssetFamily,"ItemArms","LatexArmbinder");if(null==n)throw new Error;const r={Asset:n};NR(`${e}:${HR}:0`,(()=>Ff(r,t))),DR(`${e}:${HR}:0`,r.Property?.MemberNumberListKeys,"")}finally{"R101"===GameVersion?CharacterDelete(e):CharacterDelete(t)}},test_equipLock:function(){const e="test_equipLock",t=bd(0,5).map((t=>`${e}-${t}`)),n=t.map(CharacterLoadSimple);try{n[4].BlockItems.push({Name:"ExclusivePadlock",Group:"ItemMisc"}),InventoryWear(n[2],"LatexArmbinder","ItemArms"),InventoryLock(n[2],n[2].Appearance.at(-1),"ExclusivePadlock");const t=AssetGet(n[0].AssetFamily,"ItemArms","LatexArmbinder"),r=AssetGet(n[0].AssetFamily,"ItemArms","NylonRope");if(null==t||null==r)throw new Error;const i={Asset:t};[{args:["bob","ExclusivePadlock",n[0]],excMessage:'Invalid "item" type: string'},{args:[i,0,n[0]],excMessage:'Invalid "lockName" type: number'},{args:[i,"bob",n[0]],excMessage:'Invalid "lockName" value: bob'},{args:[i,"ExclusivePadlock",1],excMessage:'Invalid "character" type: number'}].forEach((({args:t,excMessage:n},r)=>{AR(`${e}:${LR}:${r}`,(()=>Lf(...t)),n)}));[{args:[i,"ExclusivePadlock",n[1]],output:!0},{args:[i,"ExclusivePadlock",n[2]],output:!1},{args:[{Asset:r},"ExclusivePadlock",n[3]],output:!1},{args:[i,"ExclusivePadlock",n[4]],output:!1}].forEach((({args:t,output:n},r)=>{const i=NR(`${e}:${HR}:${r}`,(()=>Lf(...t)));DR(`${e}:${HR}:0`,i,n)}))}finally{"R101"===GameVersion?t.forEach(CharacterDelete):n.forEach(CharacterDelete)}},test_equipTimerLock:function(){const e="test_equipTimerLock",t=CharacterLoadSimple(e);try{const n=AssetGet(t.AssetFamily,"ItemArms","LatexArmbinder");if(null==n)throw new Error;const r={Asset:n};AR(`${e}:${LR}:0`,(()=>Of(r,void 0,t)),'Invalid "seconds" type: undefined'),NR(`${e}:${HR}:0`,(()=>Of(r,99,t))),TR(`${e}:${HR}:0`,(r.Property?.RemoveTimer??1/0)<=CurrentTime+198e4),DR(`${e}:${HR}:0`,r.Property?.RemoveItem,!0),DR(`${e}:${HR}:0`,r.Property?.LockSet,!0),WR(`${e}:${HR}:0`,r.Property?.Password,"string")}finally{"R101"===GameVersion?CharacterDelete(e):CharacterDelete(t)}},test_sanitizeWheelFortuneIDs:function(){const e="test_sanitizeWheelFortuneIDs";AR(`${e}:${LR}:0`,(()=>vR(void 0)),'Invalid "IDs" type: undefined'),[{args:["ABC"],output:"ABC"},{args:["A䀁"],output:"A"}].forEach((({args:t,output:n},r)=>{const i=NR(`${e}:${HR}:${r}`,(()=>vR(...t)));DR(`${e}:${HR}:${r}`,i,n)}))},test_settingsLoaded:function(){const e="test_settingsLoaded",t=NR(`${e}:${HR}:0`,bR);DR(`${e}:${HR}:0`,t,!0)},test_settingsMBSLoaded:function(){const e="test_settingsMBSLoaded",t=NR(`${e}:${HR}:0`,SR);DR(`${e}:${HR}:0`,t,!0)}});const KR=Object.freeze({Mummification:e=>({...e,TypeRecord:void 0})});var JR=Object.freeze({__proto__:null,test_builtinMBSWheel:function(){const e="test_builtinMBSWheel",t=Er(Object.values(im).map((e=>e.children??[]))),n=t.map((e=>e.Description)),r=n.map((e=>CharacterLoadSimple(e)));try{t.forEach((t=>{if(!(t.Parent instanceof MR))return;const n=CharacterLoadSimple(t.Description);t.Script(n);for(let r of t.Parent.itemList){const i=InventoryGet(n,r.Group);if(void 0!==r.Equip)continue;TR(`${e}:${t.Description}:${r.Group}:${r.Name}:${HR}`,null!=i);const o=(KR[t.Parent.name]??(e=>e))(of(i.Asset,{...i,Group:i.Asset.Group.Name,Name:i.Asset.Name,Color:void 0===r.Color?void 0:i.Color},!1),n);null!==o&&(r={...r,ItemCallback:void 0,Property:{...o.Property,...r.Property},Equip:void 0,Craft:void 0!==r.Craft&&"HighSecurityPadlock"===t.Flag.type&&InventoryDoesItemAllowLock(i)?{...r.Craft,Property:"Puzzling"}:r.Craft},DR(`${e}:${t.Description}:${r.Group}:${r.Name}:${HR}`,o,r))}}))}finally{"R101"===GameVersion?n.forEach(CharacterDelete):r.forEach(CharacterDelete)}}});const ZR=function(){if(!SR())return kp.warn("MBS not fully loaded yet"),!1;const e={...qR,...UR,...JR},t={};for(const[n,r]of Np(e))try{r()}catch(e){t[n]=e}return 0===Object.values(t).length||(kp.warn(t),!1)};Ip(yR).then((()=>{const e={[`${bf.screen}Background`]:bf.background,[`${Cf.screen}Background`]:Cf.background,[`${Mf.screen}Background`]:Mf.background,[`${aR.screen}Background`]:aR.background,[`${Xf.screen}Background`]:Xf.background},t=globalThis;Object.assign(t,e)}));const YR=new Set;Ip(yR).then((()=>{if("R102"===GameVersion)if("undefined"==typeof CraftingAssetsPopulate){YR.add(4900);const e=Object.freeze(function(){const e={},t={};for(const n of Asset)n.Group.IsItem()&&!n.IsLock&&n.Wear&&n.Enable&&(n.CraftGroup?(t[n.CraftGroup]??=[],t[n.CraftGroup].push(n)):(e[n.Name]??=[],e[n.Name].push(n)));for(const n of Object.values(t)){const t=new Set(n.map((e=>e.Name)));for(const r of t)e[r]??=[],e[r].push(...n)}return e}()),t=Dp(Asset.filter((e=>e.IsLock)).map((e=>[e.Name,e])));_p.hookFunction("CraftingAppliesToItem",10,(([t,n])=>(e[t?.Item]??[]).includes(n))),_p.hookFunction("DialogCanUseCraftedItem",10,(([n,r])=>(e[r?.Item]??[]).some((e=>{if(e.OwnerOnly&&!n.IsOwnedByPlayer())return!1;if(e.LoverOnly&&!n.IsOwnedByPlayer()&&!n.IsLoverOfPlayer())return!1;if(e.FamilyOnly&&!(n.IsOwnedByPlayer()||n.IsLoverOfPlayer()||n.IsFamilyOfPlayer()))return!1;const i=t[r?.Lock];if(null!=i){if(i.OwnerOnly&&!DialogCanUseOwnerLockOn(n))return!1;if(i.LoverOnly&&!DialogCanUseLoverLockOn(n))return!1;if(i.FamilyOnly&&!DialogCanUseFamilyLockOn(n))return!1}return!0}))))}YR.size?kp.log("Initializing R103 bug fix backports",Td(Array.from(YR))):kp.log("No R103 bug fix backports")}));const XR=_p.getOriginalHash,QR=t;return kp.log(`Initializing MBS version ${t}`),Ip((()=>yR(!1))).then((()=>{!function(e){const t=Tp.fromBCVersion(e),n=Tp.fromBCVersion("R102");if(t.lesser(n))throw new Error(`BC ${GameVersion} detected; MBS requires version R102 or later`);kp.log(`Detected BC ${GameVersion}`)}(GameVersion),function(){const e={};for(const[t,n]of Object.entries(Gp)){const r=_p.getOriginalHash(t);n.has(r)||(e[t]=r)}const t=Object.values(e).length;0!==t&&kp.warn(`Found ${t} patched functions with an unknown hash`,e)}(),document.body.appendChild(h("style",{id:"mbs-style",children:":root {\n  --mbs-background-color: white;\n  --mbs-hover-color: cyan;\n  --mbs-tooltip-color: lightyellow;\n  --mbs-border-color: black;\n  --mbs-text-color: black;\n}\n\n.mbs-button {\n  background-color: var(--mbs-background-color);\n  background-origin: content-box;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  border: min(0.3vh, 0.15vw) solid var(--mbs-border-color);\n  color: var(--mbs-text-color);\n  font-size: min(3.5vh, 1.75vw);\n  height: 100%;\n  overflow: clip;\n  padding-left: min(2vh, 1vw);\n  padding-right: min(2vh, 1vw);\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n}\n.mbs-button:hover {\n  background-color: var(--mbs-hover-color);\n}\n.mbs-button:disabled {\n  background-color: var(--mbs-background-color);\n  filter: brightness(60%);\n}\n\n.mbs-button-tooltip {\n  background-color: var(--mbs-tooltip-color);\n  border: min(0.3vh, 0.15vw) solid var(--mbs-border-color);\n  bottom: -10%;\n  box-shadow: min(0.4vh, 0.2vw) min(0.4vh, 0.2vw) min(2vh, 1vw) 0 rgba(0, 0, 0, 0.5);\n  color: var(--mbs-text-color);\n  font-size: min(3.5vh, 1.75vw);\n  line-height: 1.4;\n  padding: min(1vh, 0.5vw) min(2vh, 1vw) min(1vh, 0.5vw) min(2vh, 1vw);\n  position: relative;\n  text-align: center;\n  visibility: hidden;\n  white-space: nowrap;\n  width: fit-content;\n  z-index: 1;\n}\n\n.mbs-button-div {\n  display: grid;\n  grid-template-columns: min(9vh, 4.5vw);\n  grid-template-rows: min(9vh, 4.5vw) auto;\n}\n.mbs-button-div .mbs-button-tooltip {\n  justify-self: center;\n}\n.mbs-button-div .mbs-button {\n  height: inherit;\n  width: inherit;\n}\n.mbs-button-div .mbs-button:hover + .mbs-button-tooltip {\n  visibility: visible;\n}\n\n.mbs-timer {\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: min(3.5vh, 1.75vw);\n  height: min(6vh, 3vw);\n  text-align: center;\n  width: min(21vh, 10.5vw);\n}\n\n.mbs-dropdown-button {\n  border: unset !important;\n  padding-bottom: min(1vh, 0.5vw);\n  padding-top: min(1vh, 0.5vw);\n}\n.mbs-dropdown-button:nth-child(even) {\n  filter: brightness(85%);\n}\n\n.mbs-dropdown-content {\n  background-color: var(--mbs-background-color);\n  border: min(0.3vh, 0.15vw) solid var(--mbs-border-color);\n  overflow-y: scroll;\n  position: absolute;\n  visibility: hidden;\n  z-index: 1;\n}\n\n.mbs-dropdown:hover .mbs-dropdown-content {\n  visibility: visible;\n}\n\n.mbs-screen {\n  display: none;\n  text-align: center;\n  user-select: none;\n  grid-gap: min(2vh, 1vw);\n  font-size: min(3.5vh, 1.75vw);\n}\n.mbs-screen h1 {\n  align-self: center;\n  font-size: min(5vh, 2.5vw);\n}\n.mbs-screen p {\n  align-self: center;\n  font-size: min(3.5vh, 1.75vw);\n}\n.mbs-screen input:invalid {\n  background-color: #fbb;\n  box-shadow: 0 0 3px 2px #c22;\n}\n.mbs-screen input[type=checkbox] {\n  border: min(0.3vh, 0.15vw) solid var(--mbs-border-color);\n  height: min(7vh, 3.5vw);\n  width: min(7vh, 3.5vw);\n}".toString()}))})),e.API_VERSION=OR,e.MBS_VERSION=QR,e._getFunctionHash=XR,e._toItemBundles=af,e._unpackSettings=vm,e.getDebug=FR,e.runTests=ZR,e.wheelOutfits=$R,e}({});
//# sourceMappingURL=mbs.js.map
